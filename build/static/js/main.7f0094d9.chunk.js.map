{"version":3,"sources":["store/reducers/auth.js","store/actions/action_types/auth.js","store/reducers/notification.js","store/actions/action_types/notifications.js","store/reducers/staff.js","store/actions/action_types/staff.js","store/reducers/customers.js","store/actions/action_types/customers.js","store/reducers/inventory.js","store/actions/action_types/inventory.js","store/store.js","components/history.js","components/login/AuthRoute.js","locales/english.js","locales/Context.js","locales/chinese.js","components/NavBar.js","store/actions/notification.js","style/alert.js","components/container/NavBarContainer.js","store/actions/auth.js","components/login/Security.js","components/TabNavigation.js","components/validationFunctions/validateEmail.js","components/validationFunctions/validateName.js","components/validationFunctions/validatePhone.js","components/validationFunctions/validateUsername.js","components/validationFunctions/validatePassword.js","components/validationFunctions/confirmPassword.js","components/login/Login.js","components/login/IsAuth.js","components/Dashboard.js","components/container/AlertBar.js","components/presentational/Development.js","components/forms/StaffForm.js","components/presentational/DisplayStaff.js","components/forms/UpdateStaffLevelForm.js","components/presentational/StaffSubTabs.js","components/presentational/StaffItem.js","store/helpers/staffFetchers.js","store/actions/staff.js","components/container/StaffContainer.js","components/defaultStates.js","components/forms/CustomerForm.js","components/presentational/DisplayCustomer.js","components/forms/ViewCustomerDetails.js","components/presentational/CustSubTabs.js","store/helpers/customerFetchers.js","store/actions/customers.js","components/container/CustomerContainer.js","components/presentational/BasicInventoryDetails.js","components/presentational/RestrictedInventoryDetails.js","components/presentational/InventoryChangeQuantity.js","components/presentational/SuppliersDetails.js","components/forms/InventoryForm.js","components/presentational/InvenSubTabs.js","store/helpers/inventoryFetchers.js","store/actions/inventory.js","components/container/InventoryContainer.js","components/presentational/CustomerItem.js","components/presentational/CustomerList.js","components/presentational/InventoryItem.js","components/presentational/InventoryTable.js","components/presentational/InventoryList.js","components/presentational/CheckPurchasePrice.js","components/presentational/CompletedOrder.js","store/helpers/purchaseFetchers.js","components/container/PurchaseContainer.js","App.js","index.js"],"names":["defaultState","reducers_auth","state","arguments","length","undefined","action","type","payload","msg","notification","reducers_staff","customers","reducers_inventory","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","createHistory","connect","auth","_ref","Component","path","react_default","a","createElement","Route","render","token","Redirect","to","pathname","english","logout","settings","welcomeMsg","btns","back","next","clear","confirm","continue","cancel","delete","submit","updateLvl","updateQty","updatePrc","emailInvoice","printInvoice","mainNav","dashboard","purchase","staff","customer","inventory","selectCust","selectProduct","checkOrder","completed","success","purMsg","purRefNo","ppUnit","qtyAvail","required","ttlPrice","price","item","qty","qtyS","qtyQuan","total","staffName","customerName","STAGES","staffDetails","newStaff","LEVEL","level","name","email","security","username","password","repassword","customerDetails","newCustomer","wechat","phone","CUSTOMERTYPES","address","sex","male","female","dob","MONTHS","inventoryDetails","newInventory","inventoryStatistics","description","suppDetails","suppName","suppAdd","suppPhone","quantity","changeQuantity","currentQuantity","costPrice","retailPrice","profit","pricing","commonInfo","selected","rmb","date","time","HELP","confirmPass","ALERTS","undefined_err","staff_1","no_user","not_active","password_mismatch","staff_not_found","staff_exists","inven_add_fail","inven_not_found","inventory_not_deleted","error_code_1","pur_not_saved","purchase_update_failed","no_record_to_delete","staff_validation","customer_not_found","customer_not_created","invalid_search_criteria","staff_saved","unauthorised","customer_added","exists","inventory_added","inventory_updated","purchase_placed","staff_created","level_updated","staff_deleted","inventory_cost","inventory_quantity","Purchase_not_placed","email_exists","username_exists","Locale","React","createContext","AddLocale","ComposedComponent","_Component","Authenticate","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","language","inherits","createClass","key","value","_this2","Provider","Consumer","locale","assign","props","Navbar","inverse","collapseOnSelect","Header","Brand","href","Toggle","Collapse","Nav","pullRight","NavDropdown","eventKey","title","id","MenuItem","divider","onClick","setAlert","typ","dispatch","SetTheAlert","setTimeout","resetAlert","objectSpread","DANGER","NavBarContainer","_this$props$user","user","components_NavBar","staffLevel","test","console","log","children","TabNavigation","context","handleSelect","bind","assertThisInitialized","setState","bsStyle","justified","activeKey","onSelect","k","lib","NavItem","login_Security","validateEmail","String","toLowerCase","validateName","validatePhone","number","validateUsername","validatePassword","confirmPassword","password2","DEFAULTS","isUsername","userF","passF","displayBtn","Login","validateLocalUsername","con","validateLocalPassword","userChange","val","target","passChange","displayUsername","FormGroup","controlId","validationState","onBlur","Row","Col","sm","FormControl","placeholder","onChange","HelpBlock","displayPassword","btnOnClick","startLogin","className","Button","block","fetch","method","credentials","headers","Content-Type","crossdomain","body","JSON","stringify","then","response","status","history","replace","json","catch","err","Dashboard","AlertBar","findMsg","filter","x","_this$props$alert","alert","Alert","Development","DEFAULTSTATE","nameF","emailF","passC","levelF","onSubmit","e","preventDefault","_this$state","fullValidation","validateLocalName","validateLocalEmail","confirmLocalPassword","_this$state2","Form","horizontal","onFocus","componentClass","ControlLabel","xs","smOffset","ButtonToolbar","DropdownButton","InputGroup","map","active","xsOffset","parseInt","Panel","Heading","Body","_this$props","onUpdateLevel","deleteStaff","userName","origLevel","presentational_DisplayStaff","disabled","nextProps","prevState","StaffSubTabs","Tabs","Tab","forms_UpdateStaffLevelForm","forms_StaffForm","StaffItem","getStaff","iselected","fetchStaff","getState","authorization","errmsg","StaffContainer","allStaff","selectedStaff","temp","_id","isSelected","values","createStaff","newLevel","updateLevel","deleteStaffMember","presentational_StaffSubTabs","mode","res","data","day","month","year","phoneF","wechatF","addF","Date","validateLocalWechat","validateLocalAddress","validateLocalPhone","calculateDays","limit","includes","i","push","createYears","getFullYear","DAYS","YEARS","Radio","defaultChecked","inline","customerType","ViewCustomerDetails","presentational_DisplayCustomer","CustSubTabs","forms_ViewCustomerDetails","forms_CustomerForm","fetchCustomers","CustomerContainer","allCust","selectedCust","cust","createCustomer","onUpdate","newInfo","deleteCustomer","presentational_CustSubTabs","_props$inventory","productType","md","newPrice","changePrice","event","newQty","requireStyle","supplierName","supplierAddress","supplierPhone","DEFAULT","typeF","descF","supNF","supPF","supAF","validateLocalType","validateLocalSName","validateLocalSNumber","validateLocalSAddress","supName","spplierA","smPull","InvenSubTabs","presentational_BasicInventoryDetails","SuppliersDetails","presentational_InventoryChangeQuantity","presentational_RestrictedInventoryDetails","forms_InventoryForm","fetchInventory","sort","b","y","InventoryContainer","allInven","selectedInven","getInventory","inven","addInventory","onDelete","update","updateInventory","presentational_InvenSubTabs","setCustomer","CustomerList","list","presentational_CustomerItem","cost","requiredQuantity","increment","newReq","newQuantity","parseFloat","selectItem","decrement","compiledList","Table","striped","bordered","condensed","hover","colSpan","InventoryList","Grid","presentational_InventoryItem","presentational_InventoryTable","selectedItems","confirmOrder","totalCost","totalItems","refNo","Title","createPurchases","Promise","resolve","reject","forEach","stage","percent","PurchaseContainer","reset","tempArray","find","finalArray","q","disableNext","s","uuid","ProgressBar","now","label","small","presentational_CheckPurchasePrice","presentational_CompletedOrder","message","App","Router","login_IsAuth","container_NavBarContainer","container_AlertBar","components_TabNavigation","Switch","login_AuthRoute","exact","component","store","createStore","combineReducers","applyMiddleware","anchor","document","getElementById","jsx","es","src_App","ReactDOM"],"mappings":"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","file":"static/js/main.7f0094d9.chunk.js","sourcesContent":["import {LOGIN, LOGOUT} from '../actions/action_types/auth';\r\n\r\nconst defaultState = {};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case LOGIN:\r\n            const newState=action.payload;\r\n            return newState;\r\n        case LOGOUT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const LOGIN = 'login';\r\nexport const LOGOUT = 'logout';","import {ALERT, RESET_ALERT} from '../actions/action_types/notifications';\r\n\r\nconst defaultState={msg:''};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case ALERT:\r\n            return action.payload;\r\n        case RESET_ALERT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n};","export const ALERT = 'alert';\r\nexport const RESET_ALERT ='reset_alert';\r\n","import {FETCH_STAFF} from '../actions/action_types/staff';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_STAFF:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_STAFF = 'fetch_staff';","import {FETCH_CUSTOMERS} from '../actions/action_types/customers';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_CUSTOMERS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_CUSTOMERS = 'fetch_customers';","import {FETCH_INVENTORY} from '../actions/action_types/inventory';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_INVENTORY:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_INVENTORY = 'fetch_inventory';","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport auth from './reducers/auth';\r\nimport notification from './reducers/notification';\r\nimport staff from './reducers/staff';\r\nimport customers from './reducers/customers';\r\nimport inventory from './reducers/inventory';\r\n\r\nconst enhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst middleware = [thunk];\r\n\r\nexport default ()=>{\r\n    const store = createStore(\r\n        combineReducers({\r\n            auth,\r\n            alert: notification,\r\n            staff,\r\n            customers,\r\n            inventory\r\n        }),\r\n        enhancer(),\r\n        applyMiddleware(...middleware)\r\n    );\r\n    return store;\r\n}","import createHistory from 'history/createBrowserHistory';\r\n\r\nexport default createHistory();","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\n\r\nconst AuthRoute = ({Component, path, auth}) =>{\r\n    return (\r\n        <Route path={path} render={()=>\r\n                auth.token ?\r\n                <Component /> :\r\n                <Redirect to={{pathname:'/'}} />\r\n        } />\r\n    )\r\n};\r\n\r\nconst mapStateToProps=(state)=>({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","export default {\r\n    logout: 'Logout',\r\n    settings: 'Settings',\r\n    welcomeMsg: 'Logged in as: ',\r\n\r\n    btns:{\r\n        back:'Previous',\r\n        next:'Next',\r\n        clear: 'Clear',\r\n        confirm:'Confirm',\r\n        continue:'Continue',\r\n        cancel: 'Cancel',\r\n        delete: 'Delete',\r\n        submit: 'Submit', \r\n        updateLvl:'Update Level',\r\n        updateQty:'Update Quantity',\r\n        updatePrc:'Update Price',\r\n        emailInvoice:'Email Invoice',\r\n        printInvoice:'Print Invoice'\r\n    },\r\n    mainNav:{\r\n        dashboard:'Home',\r\n        purchase:'Purchases',\r\n        staff:'Staff',\r\n        customer:'Customers',\r\n        inventory:'Inventory'\r\n    },\r\n    purchase:{\r\n        selectCust: 'Select a customer',\r\n        selectProduct: 'Select a product',\r\n        checkOrder:'Check order',\r\n        completed: 'Completed',\r\n        success:'Success',\r\n        purMsg:'Purchase has been confirmed',\r\n        purRefNo:'Purchase reference number: ',\r\n        ppUnit:'Price per unit',\r\n        qtyAvail:'Quantity available',\r\n        required:'Required',\r\n        ttlPrice:'Total price',\r\n        price: 'price',\r\n        item:'Item',\r\n        qty:'Quantity',\r\n        qtyS:'Qty',\r\n        qtyQuan:'Total Qty',\r\n        total:'Total',\r\n        staffName:'Staff name',\r\n        customerName:'Customer name',\r\n        STAGES:['Select Customer', 'Select Product', 'Check Order', 'Completed']\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'Staff Details',\r\n        newStaff:'New Staff',\r\n        LEVEL: ['Basic', 'Junior', 'Advanced', 'Admin'],\r\n        level: 'Level',\r\n        name:'Name',\r\n        email:'Email',\r\n        security:'Security level',\r\n        username:'Username',\r\n        password:'Password',\r\n        repassword:'Re-enter password'\r\n    },\r\n    customer:{\r\n        customerDetails:'Customer Details',\r\n        newCustomer:'New Customer',\r\n        name:'Name',\r\n        email:'Email',\r\n        wechat: 'WeChat',\r\n        phone:'Phone',\r\n        type: 'Customer type',\r\n        CUSTOMERTYPES:['New', 'Current', 'Super', 'Advanced'],\r\n        address:'Address',\r\n        sex:'Sex',\r\n        male:'Male',\r\n        female:'Female',\r\n        dob:'DoB',\r\n        MONTHS:['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'Inventory Details',\r\n        newInventory:'New Inventory',\r\n        inventoryStatistics:'Inventory Statistics',\r\n        name:'Product Name',\r\n        type:'Product type',\r\n        description:'description',\r\n        suppDetails: 'Suppliers Details',\r\n        suppName:'Suppliers name',\r\n        suppAdd:'Suppliers Address',\r\n        suppPhone:'Suppliers Phone',\r\n        quantity:'Quantity',\r\n        changeQuantity: 'Change quantity',\r\n        currentQuantity: 'Current quantity',\r\n        costPrice:'Cost price',\r\n        retailPrice:'Retail price',\r\n        profit:'Profit',\r\n        pricing: 'Pricing'\r\n    },\r\n    commonInfo:{\r\n        selected:'Selected: ',\r\n        rmb:'rmb',\r\n        date:'Date',\r\n        time:'Time'\r\n    },\r\n    HELP:{\r\n        name:'Name must contain at least 2 characters',\r\n        email:'Enter a valid email',\r\n        username:'Username must contain at least 8 characters',\r\n        password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n        confirmPass: 'Password does not match',\r\n        phone: 'Must be 11 numbers',\r\n        wechat:'Wechat must contain at least 2 characters'\r\n    },\r\n    ALERTS:{\r\n        undefined_err: \"Error: undefined\",\r\n        staff_1: \"Staff not saved\",\r\n        no_user: \"Staff not found\",\r\n        not_active: \"Staff not active\",\r\n        password_mismatch: \"Password does not match\",\r\n        staff_not_found: \"Staff not found\",\r\n\t\tstaff_exists: \"Member of staff already exists\",\r\n\t\tinven_add_fail: \"Inventory not saved\",\r\n\t\tinven_not_found: \"Inventory was not found\",\r\n\t\tinventory_not_deleted: 'Inventory not deleted',\r\n\t\terror_code_1:\"Error code 1\",\r\n\t\tpur_not_saved: \"Purchase not saved\",\r\n\t\tpurchase_update_failed: \"Purchase update failed\",\r\n\t\tno_record_to_delete: \"No purchase to delete\",\r\n\t\tstaff_validation: \"Validation error\",\r\n\t\tcustomer_not_found: \"Customer not found\",\r\n\t\tcustomer_not_created: \"Customer not created\",\r\n\t\tinvalid_search_criteria: \"Invalid search criteria\",\r\n        staff_saved : \"New staff has been created\",\r\n        unauthorised: 'Incorrect Username and/or Password',\r\n        customer_added: 'New customer has been added',\r\n        exists: 'Already exists!',\r\n        inventory_added: 'New inventory has been added',\r\n        inventory_updated: 'New inventory has been updated',\r\n        purchase_placed: 'Purchase has been placed',\r\n        staff_created: 'Staff has been added',\r\n        level_updated:'Level has been updated',\r\n        staff_deleted: 'Staff member has been deleted',\r\n        inventory_cost: 'Inventory cost has been changed',\r\n        inventory_quantity: 'Inventory quantity has been changed',\r\n        Purchase_not_placed: 'Error placing purchase',\r\n        email_exists: 'Email already exists',\r\n        username_exists: 'Username already exists'\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport chinese from './chinese';\r\nimport english from './english';\r\n\r\nexport const Locale = React.createContext(chinese);\r\n\r\nconst AddLocale = (ComposedComponent) => {\r\n    class Authenticate extends Component {\r\n        state={\r\n            language: english\r\n        }\r\n\r\n        render() {\r\n        return(\r\n            <Locale.Provider value={this.state.language}>\r\n                <Locale.Consumer>{locale=>\r\n                    <ComposedComponent {...this.props} locale={locale} />\r\n                }</Locale.Consumer>\r\n            </Locale.Provider>\r\n        );\r\n      }\r\n    }\r\n    return Authenticate;\r\n  };\r\n   \r\n  export default AddLocale;","export default {\r\n    logout: '',\r\n    settings: '',\r\n    welcomeMsg: ':',\r\n\r\n    btns:{\r\n        back:'',\r\n        next:'',\r\n        clear: '',\r\n        confirm:'',\r\n        cancel: '',\r\n        delete: '',\r\n        submit: 'Submit', \r\n        updateLvl:'Update Level',\r\n        updateQty:'Update Quantity',\r\n        updatePrc:'Update Price',\r\n        emailInvoice:'Email Invoice',\r\n        printInvoice:'Print Invoice'\r\n    },\r\n    mainNav:{\r\n        dashboard:'',\r\n        purchase:'',\r\n        staff:'',\r\n        customer:'',\r\n        inventory:''\r\n    },\r\n    purchase:{\r\n        selectCust: 'Select a customer',\r\n        selectProduct: 'Select a product',\r\n        checkOrder:'Check order',\r\n        completed: 'Completed',\r\n        success:'Success',\r\n        purMsg:'Purchase has been confirmed',\r\n        purRefNo:'Purchase reference number: ',\r\n        ppUnit:'Price per unit',\r\n        qtyAvail:'Quantity available',\r\n        required:'Required',\r\n        ttlPrice:'Total price',\r\n        price: 'price',\r\n        item:'Item',\r\n        qty:'Quantity',\r\n        qtyS:'Qty',\r\n        qtyQuan:'Total Qty',\r\n        total:'Total',\r\n        staffName:'Staff name',\r\n        customerName:'Customer name'\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'Staff Details',\r\n        newStaff:'New Staff',\r\n        LEVEL: ['Basic', 'Junior', 'Advanced', 'Admin'],\r\n        level: 'Level',\r\n        name:'Name',\r\n        email:'Email',\r\n        security:'Security level',\r\n        username:'Username',\r\n        password:'Password',\r\n        repassword:'Re-enter password'\r\n    },\r\n    customer:{\r\n        customerDetails:'Customer Details',\r\n        newCustomer:'New Customer',\r\n        name:'Name',\r\n        email:'Email',\r\n        wechat: 'WeChat',\r\n        phone:'Phone',\r\n        type: 'Customer type',\r\n        CUSTOMERTYPES:['New', 'Current', 'Super', 'Advanced'],\r\n        address:'Address',\r\n        sex:'Sex',\r\n        male:'Male',\r\n        female:'Female',\r\n        dob:'DoB',\r\n        MONTHS:['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'Inventory Details',\r\n        newInventory:'New nventory',\r\n        inventoryStatistics:'Inventory Statistics',\r\n        name:'Product Name',\r\n        type:'Product type',\r\n        description:'description',\r\n        suppDetails: 'Suppliers Details',\r\n        suppName:'Suppliers name',\r\n        suppAdd:'Suppliers Address',\r\n        suppPhone:'Suppliers Phone',\r\n        quantity:'Quantity',\r\n        changeQuantity: 'Change quantity',\r\n        currentQuantity: 'Current quantity',\r\n        costPrice:'Cost price',\r\n        retailPrice:'Retail price',\r\n        profit:'Profit',\r\n        pricing: 'Pricing'\r\n    },\r\n    commonInfo:{\r\n        selected:'Selected: ',\r\n        rmb:'rmb',\r\n        date:'Date',\r\n        time:'Time'\r\n    },\r\n    HELP:{\r\n        name:'Name must contain at least 2 characters',\r\n        email:'Enter a valid email',\r\n        username:'Username must contain at least 8 characters',\r\n        password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n        confirmPass: 'Password does not match',\r\n        phone: 'Must be 11 numbers',\r\n        wechat:'Wechat must contain at least 2 characters'\r\n    }\r\n}","import React from 'react';\r\n\r\nimport {Navbar, Nav, NavDropdown, MenuItem} from 'react-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\n\r\nconst NavBar =({locale, logout, name, level})=>(    \r\n<Navbar inverse collapseOnSelect>\r\n  <Navbar.Header>\r\n    <Navbar.Brand>\r\n      <a href=\"#brand\">Shop Management</a>\r\n    </Navbar.Brand>\r\n    <Navbar.Toggle />\r\n  </Navbar.Header>\r\n  <Navbar.Collapse>\r\n    <Nav pullRight>\r\n      <NavDropdown eventKey={3} title={`${locale.welcomeMsg} ${name} ${locale.staff.level}: ${locale.staff.LEVEL[level]}`} id=\"basic-nav-dropdown\">\r\n        <MenuItem eventKey={3.1}>{locale.settings}</MenuItem>\r\n        <MenuItem divider />\r\n        <MenuItem eventKey={3.3} onClick={()=>logout()}>{locale.logout}</MenuItem>\r\n      </NavDropdown>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n</Navbar>\r\n);\r\n\r\nexport default AddLocale(NavBar);","import {ALERT, RESET_ALERT} from './action_types/notifications';\r\n\r\nexport const setAlert=(msg, typ)=>{\r\n    return (dispatch)=>{\r\n        dispatch(SetTheAlert({msg, typ}));\r\n        setTimeout(()=>{\r\n            dispatch(resetAlert());\r\n        }, 10000);\r\n    }\r\n};\r\n\r\nconst SetTheAlert=(msg)=>({\r\n    type: ALERT,\r\n    payload: {...msg}\r\n});\r\n\r\n\r\nconst resetAlert=()=>({\r\n    type: RESET_ALERT\r\n});","export const DANGER = \"danger\";\r\nexport const SUCCESS = \"success\";","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport NavBar from '../NavBar';\r\n\r\nimport {startLogout} from '../../store/actions/auth';\r\n\r\nclass NavBarContainer extends React.Component{ \r\n\r\n    render(){\r\n        const {name, level} = this.props.user;\r\n        return(\r\n            <div>\r\n                <NavBar logout={this.props.logout} name={name} level={level}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    logout: ()=>dispatch(startLogout())\r\n})\r\n\r\nconst mapStateToProps=(state)=>({\r\n    user: state.auth.staff,\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBarContainer);","import {LOGIN, LOGOUT} from './action_types/auth';\r\nimport {setAlert} from './notification';\r\nimport history from '../../components/history';\r\nimport { DANGER } from '../../style/alert';\r\n\r\n// const URL = 'http://localhost:5000';\r\n\r\nconst login=(data)=>({\r\n    type: LOGIN,\r\n    payload: data\r\n});\r\n\r\nexport const startLogin=(username, password)=>{\r\n    return (dispatch)=>{\r\n        fetch(`/login`,\r\n            {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {'Content-Type': 'application/json'},\r\n                crossdomain: true,\r\n                body: JSON.stringify({username, password})\r\n            }\r\n        ).then(response=>{\r\n            if(response.status===401){\r\n                dispatch(setAlert('unauthorised', DANGER));\r\n                history.replace('/');\r\n            }else{\r\n                return response;\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            dispatch(login(response));\r\n        })\r\n        .then(()=>history.replace('/dashboard'))\r\n        .catch((err)=>{});\r\n    }\r\n};\r\n\r\n\r\nconst logout=()=>({\r\n    type:LOGOUT\r\n});\r\n\r\nexport const startLogout=()=>{\r\n    return(dispatch)=>{\r\n        dispatch(logout());\r\n    };\r\n}\r\n\r\n// 401 unauthorised","import {connect} from 'react-redux';\r\n\r\nconst Security = props =>{\r\n    const test = props.staffLevel>=props.level;\r\n    console.log(test);\r\n    return(\r\n            test===true &&props.children\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staffLevel: state.auth.staff.level\r\n});\r\n\r\nexport default connect(mapStateToProps)(Security);","import React from 'react';\r\nimport {LinkContainer} from 'react-router-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\nimport {Nav, NavItem} from 'react-bootstrap';\r\nimport Security from './login/Security';\r\n\r\nclass TabNavigation extends React.Component {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n  \r\n      this.handleSelect = this.handleSelect.bind(this);\r\n  \r\n      this.state = {\r\n        key: 1\r\n      };\r\n    }\r\n  \r\n    handleSelect(key) {\r\n      this.setState({ key });\r\n    }\r\n  \r\n    render() {\r\n      const {locale} = this.props;\r\n      return (\r\n        <Nav bsStyle=\"tabs\" justified activeKey={this.state.key} onSelect={k => this.handleSelect(k)}>\r\n        \r\n          <LinkContainer to=\"/dashboard\"><NavItem eventKey={1}>{locale.mainNav.dashboard}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/purchase\"><NavItem eventKey={2}>{locale.mainNav.purchase}</NavItem></LinkContainer>\r\n          <Security level={3}><LinkContainer to=\"/staff\"><NavItem eventKey={3}>{locale.mainNav.staff}</NavItem></LinkContainer></Security>\r\n          <LinkContainer to=\"/customer\"><NavItem eventKey={4}>{locale.mainNav.customer}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/inventory\"><NavItem eventKey={5}>{locale.mainNav.inventory}</NavItem></LinkContainer>\r\n\r\n        </Nav>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default AddLocale(TabNavigation);","\r\nexport const validateEmail=(email)=>{\r\n    const re = /^(([^<>().,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase())?true:false;\r\n}\r\n","export const validateName=(name)=>{\r\n    return name.length>1?true:false;\r\n};\r\n\r\n","export const validatePhone=(number)=>{\r\n    const re = /(^[0-9]{11})/;\r\n    return re.test(number)&&number.length===11?true:false;   \r\n}","export const validateUsername=(username)=>{\r\n    return username.length>7?true:false;\r\n}","export const validatePassword=(password)=>{\r\n    const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%&])(?=.{8,})/;\r\n    /**\r\n     * 1 + lowercase\r\n     * 1 + uppercase\r\n     * 1 + number\r\n     * 1 + !@#$%^&*\r\n     * least 8 characters long\r\n     */\r\n    return re.test(String(password));\r\n}","export const confirmPassword=(password, password2)=>{\r\n        return password===password2?true:false;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {FormControl, FormGroup, Button, HelpBlock, Col, Row} from 'react-bootstrap';\r\nimport {validateUsername, validatePassword} from '../validationFunctions/index';\r\nimport {startLogin} from '../../store/actions/auth';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nconst DEFAULTS={\r\n    username: '',\r\n    password: '',\r\n    isUsername: true,\r\n\r\n    userF:false,\r\n    passF:false,\r\n    displayBtn:false    \r\n};\r\n\r\nclass Login extends React.Component{ \r\n    state={\r\n        username: '',\r\n        password: '',\r\n        isUsername: true,\r\n\r\n        userF:false,\r\n        passF:false,\r\n        displayBtn:false\r\n    };\r\n\r\n    validateLocalUsername=()=>{\r\n    if(this.state.userF){\r\n            if(this.state.username.length>8){\r\n                this.setState({displayBtn:true});\r\n            }\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false, displayBtn:true});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    userChange=val=>{\r\n        this.setState({\r\n            username:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validateUsername(this.state.username)});\r\n        });\r\n    };\r\n\r\n    passChange=val=>{\r\n        this.setState({\r\n            password:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validatePassword(this.state.password)});\r\n        });\r\n    };\r\n\r\n    displayUsername = ()=>(\r\n            <div>\r\n                <h1>ShangNaDavid</h1>\r\n                <h2>{this.props.locale.staff.username}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <FormControl type=\"Username\" placeholder={this.props.locale.staff.username} value={this.state.username} onChange={val=>this.userChange(val)}/>\r\n                                {this.state.userF && <HelpBlock>{this.props.locale.HELP.username}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n\r\n    displayPassword = ()=>(\r\n            <div>\r\n                <h2>{this.props.locale.staff.password}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <FormControl type=\"Password\" placeholder={this.props.locale.staff.password} value={this.state.password} onChange={val=>this.passChange(val)}/>\r\n                                {this.state.passF && <HelpBlock>{this.props.locale.HELP.password}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n\r\n\r\n    btnOnClick=()=>{\r\n        if(this.state.isUsername){\r\n            this.setState({isUsername:false, displayBtn:false, userF:false, passF:false,});\r\n        }else{\r\n            this.props.startLogin(this.state.username, this.state.password);\r\n        }\r\n    }\r\n\r\n    cancel=()=>{\r\n        this.setState({\r\n            ...DEFAULTS\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\"><Row>\r\n                {this.state.isUsername? this.displayUsername() : this.displayPassword()}\r\n                {this.state.displayBtn &&\r\n                    <div>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <Button bsStyle=\"info\" onClick={()=>{this.btnOnClick()}} block>\r\n                                    Next\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                }\r\n                </Row>\r\n                <Row>\r\n                <Col sm={4}>\r\n                    <br/>\r\n                    <Button bsStyle=\"warning\" onClick={()=>{this.cancel()}} block>\r\n                        Cancel\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    startLogin : (username, password)=>dispatch(startLogin(username, password))\r\n});\r\n\r\n// export default Login;\r\nexport default connect(undefined, mapDispatchToProps)(AddLocale(Login));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst IsAuth = props =>(\r\n        <div>\r\n        {\r\n            props.token && props.children\r\n        }\r\n        </div>\r\n)\r\n\r\nconst mapStateToProps=(state)=>({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(IsAuth);","import React from 'react';\r\n\r\nexport default ()=>(\r\n    <div>A Message from the dashboard</div>\r\n)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Alert} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass AlertBar extends React.Component{ \r\n\r\n    findMsg=(msg)=>{\r\n        return this.props.locale.ALERTS.filter(x=>x===msg);\r\n    }\r\n\r\n    render(){\r\n        const {msg, typ}=this.props.alert;\r\n        const {locale} = this.props;\r\n        return(\r\n            <div>\r\n            {msg&&\r\n                <Alert bsStyle={typ}>\r\n                    <p>\r\n                        {locale.ALERTS[msg]}\r\n                    </p>\r\n                </Alert>\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    alert : state.alert\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddLocale(AlertBar));","import React from 'react';\r\nimport {Alert} from 'react-bootstrap';\r\n\r\n\r\nexport default ()=>( \r\n            <div>\r\n                <Alert bsStyle='info'>\r\n                    <h2>\r\n                        production build\r\n                    </h2>\r\n            </Alert>\r\n        </div>\r\n);","import React from 'react';\r\nimport {\r\n    HelpBlock, Form, FormControl, FormGroup, Col, Row, ControlLabel, Button, InputGroup, DropdownButton, MenuItem, ButtonToolbar\r\n} from 'react-bootstrap';\r\nimport {validateEmail, validateName, validateUsername, validatePassword, confirmPassword} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DEFAULTSTATE= {\r\n    name:'',\r\n    level: 0,\r\n    username:'',\r\n    email:'',\r\n    password:'',\r\n    password2:'',\r\n\r\n    nameF:false,\r\n    emailF:false,\r\n    userF:false,\r\n    passF:false,\r\n    passC:false,\r\n    levelF: true\r\n};\r\n\r\nclass StaffForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        level: 0,\r\n        username:'',\r\n        email:'',\r\n        password:'',\r\n        password2:'',\r\n\r\n        nameF:false,\r\n        emailF:false,\r\n        userF:false,\r\n        passF:false,\r\n        passC:false,\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, level, username, email, password} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({name, level, username, email, password});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n            validateEmail(this.state.email) &&\r\n            validateUsername(this.state.username) &&\r\n            validatePassword(this.state.password)?true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalUsername=()=>{\r\n        if(this.state.userF){\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    confirmLocalPassword=()=>{\r\n        const {password, password2}=this.state;\r\n\r\n        if(this.state.passC && password2.length===0){\r\n            return \"error\";\r\n        }else if(this.state.passC){\r\n            const con = confirmPassword(password, password2);\r\n            con&&this.setState({passC:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }    \r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n        <div>\r\n            <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                    {locale.staff.name}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Text\" placeholder={locale.staff.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                    {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col xs={2} smOffset={2}>\r\n                        <ButtonToolbar>\r\n                            <DropdownButton\r\n                                componentClass={InputGroup.Button}\r\n                                id=\"input-dropdown-addon\"\r\n                                title=\"Security Level\"\r\n                                key={this.state.level}\r\n                                onSelect={(eventKey=>this.setState({level:eventKey}))}\r\n                            >\r\n                                {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} active>{item}</MenuItem>)}\r\n\r\n                            </DropdownButton>\r\n                        </ButtonToolbar>\r\n                    </Col>\r\n                    <Col xs={4} xsOffset={2} smOffset={0}>\r\n                        <h5>{`${locale.commonInfo.selected} ${locale.staff.LEVEL[parseInt(this.state.level)]}`}</h5>\r\n                    </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.email}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Email\" placeholder={locale.staff.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                    {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.username}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Username\" placeholder={locale.staff.username} value={this.state.username} onChange={val=>this.setState({username:val.target.value})}/>\r\n                    {this.state.userF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n                \r\n                <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.password}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.password} value={this.state.password} onChange={val=>this.setState({password:val.target.value})}/>\r\n                    {this.state.passF && <HelpBlock>{locale.HELP.password}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalConfirmPassword\" validationState={this.confirmLocalPassword()} onBlur={()=>this.setState({passC:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.repassword}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.repassword} value={this.state.password2} onChange={val=>this.setState({password2:val.target.value})}/>\r\n                    {this.state.passC && <HelpBlock>{locale.HELP.confirmPass}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                        <Col smOffset={2} sm={2}>\r\n                            <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                        </Col>\r\n                        <Col sm={2}>\r\n                            <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n            </Form>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(StaffForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nconst DisplayStaff = ({staff, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{staff.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.staff.level}: ${locale.staff.LEVEL[staff.level]}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.staff.email}: ${staff.email}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayStaff);","import React from 'react';\r\nimport {Col, Row, Button, InputGroup, MenuItem, DropdownButton} from 'react-bootstrap';\r\nimport DisplayStaff from '../presentational/DisplayStaff';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass UpdateStaffLevelForm extends React.Component{ \r\n    state={\r\n        name: this.props.staff.name,\r\n        level: +this.props.staff.level\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.staff.name){\r\n            return{\r\n                level: +nextProps.staff.level, \r\n                name:nextProps.staff.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {staff, onUpdateLevel, deleteStaff, locale, userName} = this.props;\r\n        const {level} = this.state;\r\n        const origLevel =+staff.level;\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayStaff staff={staff} />\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col sm={5}>\r\n                    <InputGroup>\r\n                    <DropdownButton\r\n                      componentClass={InputGroup.Button}\r\n                      id=\"input-dropdown-addon\"\r\n                      title=\"Update Security Level\"\r\n                      eventKey={level}\r\n                      onSelect={(eventKey=>this.setState({level:+eventKey}))}\r\n                      block\r\n                    >\r\n                        {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} key={val} active={val===level?true:false}>{item}</MenuItem>)}\r\n                    </DropdownButton>\r\n                  </InputGroup>\r\n                  </Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Col sm={5}>\r\n                  {userName!==staff.name&&<Button bsStyle=\"success\" disabled={level===origLevel&&true} onClick={()=>onUpdateLevel(level)} block> {level===origLevel?locale.staff.LEVEL[level] : `${locale.btns.updateLvl} ${locale.staff.LEVEL[level]}`}</Button>}\r\n                  {userName!==staff.name&&<Button bsStyle=\"danger\" onClick={()=>deleteStaff()}>{locale.btns.delete}</Button>}\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(UpdateStaffLevelForm);","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport StaffForm from '../forms/StaffForm';\r\nimport UpdateStaffLevelForm from '../forms/UpdateStaffLevelForm';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass StaffSubTabs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 1\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {staff, locale}=this.props;\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.staff.staffDetails}>\r\n              {staff!=null&&<UpdateStaffLevelForm {...this.props}/>}\r\n            </Tab>\r\n            <Tab eventKey={2} title={locale.staff.newStaff}>\r\n              {<StaffForm onSubmit={this.props.onSubmit}/>}\r\n            </Tab>\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(StaffSubTabs);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\n\r\nexport default ({name, getStaff, id, iselected}) => (\r\n  <div onClick={val=>getStaff(id)}>\r\n    <Panel bsStyle={iselected?\"success\":\"info\"}>\r\n      <Panel.Heading>{name}</Panel.Heading>\r\n    </Panel>\r\n  </div>\r\n);\r\n","import {fetchAllStaff} from '../actions/staff';\r\nimport {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\n\r\nexport const fetchStaff=()=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/staff/all`,{\r\n            headers:{\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                console.log(response.err);\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchAllStaff(response));\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n            dispatch(setAlert(err, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\nexport const createStaff=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/signup`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(setAlert('staff_created', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateLevel=(id, level)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/staff`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id, data: {level}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('level_updated', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const deleteStaffMember=(id)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/staff`,{\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id})\r\n        })\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('staff_deleted',SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}","import {FETCH_STAFF} from './action_types/staff';\r\n\r\nexport const fetchAllStaff=(payload)=>({\r\n    type: FETCH_STAFF,\r\n    payload\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport StaffSubTabs from '../presentational/StaffSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport {fetchStaff, createStaff, updateLevel, deleteStaffMember} from '../../store/helpers/staffFetchers';\r\n\r\n\r\n\r\nclass StaffContainer extends React.Component{ \r\n    state={\r\n        allStaff:[],\r\n        selectedStaff:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.staff !== prevState.allStaff){\r\n            return {\r\n                allStaff: nextProps.staff,\r\n                selectedStaff: nextProps.staff[0]\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.allStaff();\r\n    }\r\n    \r\n\r\n    getStaff=(id)=>{\r\n        const staff = this.state.allStaff.filter(temp=>temp._id===id);\r\n        this.setState({selectedStaff:staff[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedStaff==null){\r\n            return false;\r\n        }else if(id===this.state.selectedStaff._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n/***TODO:\r\n *  \r\n *  update secutity level\r\n *  block the account\r\n *  if account blocked, unblock it\r\n *  show blocked accounts in red\r\n *  filter \r\n * \r\n *  submit newly created staff\r\n *  clear new staff form\r\n */\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createStaff(values);\r\n    }\r\n\r\n    onUpdateLevel=(newLevel)=>{\r\n        this.props.updateLevel(this.state.selectedStaff._id, newLevel);\r\n    }\r\n\r\n    deleteStaff=()=>{\r\n        this.props.deleteStaffMember(this.state.selectedStaff._id);\r\n    }\r\n\r\n    render(){\r\n        const {allStaff}=this.state;\r\n        return(\r\n        <div>\r\n            <Col sm={2}>\r\n            {allStaff.length>0&&allStaff.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <StaffSubTabs userName={this.props.name} staff={this.state.selectedStaff} deleteStaff={this.deleteStaff} onSubmit={this.onSubmit} onUpdateLevel={this.onUpdateLevel}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    staff: state.staff\r\n})\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    allStaff: ()=>dispatch(fetchStaff()),\r\n    createStaff: (values)=>dispatch(createStaff(values)),\r\n    updateLevel: (level, id)=>dispatch(updateLevel(level, id)), \r\n    deleteStaffMember: (id)=>dispatch(deleteStaffMember(id))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StaffContainer);","export const HELP={\r\n    name:'Name must contain at least 2 characters',\r\n    email:'Enter a valid email',\r\n    username:'Username must contain at least 8 characters',\r\n    password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n    confirmPass: 'Password does not match',\r\n    phone: 'Must be 11 numbers',\r\n    wechat:'Wechat must contain at least 2 characters'\r\n};\r\n\r\n\r\nexport const LEVEL=['Basic', 'Junior', 'Advanced', 'Admin'];\r\n\r\nexport const CUSTOMERTYPES=['new', 'current', 'super', 'god like'];\r\n\r\nexport const MONTHS=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col,ControlLabel, Button, HelpBlock, Row, Radio\r\n} from 'react-bootstrap';\r\n\r\nimport {validateEmail, validateName, validatePhone, validateUsername} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {MONTHS} from '../defaultStates';\r\n\r\nconst DEFAULTSTATE ={\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    wechat:'',\r\n    dob:'',\r\n    sex: true,     //true=male, false=female\r\n    address:'',\r\n    type: 0,\r\n\r\n    day:1,\r\n    month:0,\r\n    year:1945,\r\n\r\n    nameF: false,\r\n    emailF: false,\r\n    phoneF: false,\r\n    wechatF: false,\r\n    addF: false\r\n    \r\n}\r\n\r\nclass CustomerForm extends React.Component{ \r\n    state={\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        wechat:'',\r\n        dob:'',\r\n        sex: true,     //true=male, false=female\r\n        address:'',\r\n        type: 0,\r\n\r\n        day:1,\r\n        month:0,\r\n        year:1945,\r\n    \r\n        nameF: false,\r\n        emailF: false,\r\n        phoneF: false,\r\n        wechatF: false,\r\n        addF: false\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, email, phone, wechat, type, sex, address, day, month, year} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            const dob = new Date(year, month, day);\r\n            this.props.onSubmit({name, email, phone, wechat, type, dob, sex, address});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name)&&\r\n        validateName(this.state.wechat)&&\r\n        validateEmail(this.state.email)&&\r\n        validatePhone(this.state.phone)? true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalWechat=()=>{\r\n        if(this.state.wechatF){\r\n            const con = validateName(this.state.wechat);\r\n            con&&this.setState({wechatF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalAddress=()=>{\r\n        if(this.state.addF){\r\n            const con = validateUsername(this.state.address);\r\n            con&&this.setState({addF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n    validateLocalPhone=()=>{\r\n        if(this.state.phoneF){\r\n            const con = validatePhone(this.state.phone);\r\n            con&&this.setState({phoneF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }  \r\n\r\n    calculateDays=()=>{\r\n        const {month}=this.state;\r\n        const thirty = [3, 5, 8, 10];\r\n        const thirty1= [0, 2, 4, 6, 7, 9, 11];\r\n        let limit=0;\r\n\r\n        if(thirty.includes(month)){\r\n            limit=30;\r\n        } else if(thirty1.includes(month)){\r\n            limit=31;\r\n        } else{\r\n            limit=28;\r\n        }\r\n\r\n        let temp=[];\r\n        \r\n        for (let i = 0; i < limit; i++) { \r\n            temp.push(i);\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    createYears=()=>{\r\n        let temp=[];\r\n        const limit=new Date().getFullYear();\r\n        for (let i = 1945; i < limit+1; i++) { \r\n            temp.push(i);\r\n        }\r\n        return temp;\r\n    }\r\n\r\n\r\n    render(){\r\n        const DAYS = this.calculateDays();\r\n        const YEARS = this.createYears();\r\n        const {locale} = this.props;\r\n        \r\n        return(\r\n            <div>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n\r\n    <Row>\r\n        <Col xs={6}>\r\n                    <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.name}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                        {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.email}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Email\" placeholder={locale.customer.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                        {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalPhone\" validationState={this.validateLocalPhone()} onBlur={()=>this.setState({phoneF:true})} onFocus={()=>this.setState({phoneF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.phone}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Number\" placeholder={locale.customer.phone} value={this.state.phone} onChange={val=>this.setState({phone:val.target.value})}/>\r\n                        {this.state.phoneF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n                    \r\n                    <FormGroup controlId=\"formHorizontalWechat\" validationState={this.validateLocalWechat()} onBlur={()=>this.setState({wechatF:true})} onFocus={()=>this.setState({wechatF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.wechat}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.wechat} value={this.state.wechat} onChange={val=>this.setState({wechat:val.target.value})}/>\r\n                        {this.state.wechatF && <HelpBlock>{locale.HELP.wechat}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col xs={4} smOffset={1}>\r\n                                <FormControl componentClass=\"select\" placeholder=\"select\" onChange={(val=>this.setState({type:val.target.value}))}>\r\n                                    {locale.customer.CUSTOMERTYPES.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                                </FormControl>\r\n                            </Col>\r\n                            <Col xs={4} xsOffset={1} smOffset={1}>\r\n                                <h5>{`Selected ${locale.customer.CUSTOMERTYPES[parseInt(this.state.type)]}`}</h5>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n            </Col>\r\n\r\n            <Col xs={6}>\r\n                <FormGroup controlId=\"formHorizontalAddress\" validationState={this.validateLocalAddress()} onBlur={()=>this.setState({addF:true})} onFocus={()=>this.setState({addF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.address}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.address} value={this.state.address} onChange={val=>this.setState({address:val.target.value})}/>\r\n                        {this.state.addF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalSex\">\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        Sex\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <Radio name=\"radioGroup\" defaultChecked inline onChange={val=>this.setState({sex:true})}>\r\n                            {locale.customer.male}\r\n                        </Radio>{' '}\r\n                        <Radio name=\"radioGroup\" inline onChange={val=>this.setState({sex:false})}>\r\n                            {locale.customer.female}\r\n                        </Radio>{' '}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        DoB\r\n                    </Col>\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({month:val.target.value})}> \r\n                                {MONTHS.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({day:val.target.value+1})}>\r\n                                {DAYS.map((item, val)=><option value={val} key={val}>{item+1}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({year:val.target.value})}>\r\n                                {YEARS.map((item, val)=><option value={item} key={val}>{item}</option>)}\r\n                            </FormControl>                            \r\n                        </Col>\r\n\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n            <Col xs={12}>\r\n\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col smOffset={2} sm={4}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(CustomerForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DisplayCustomer = ({customer, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{customer.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.customer.phone}: ${customer.phone}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.wechat}: ${customer.wechat}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.email}: ${customer.email}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.type}: ${locale.customer.CUSTOMERTYPES[customer.customerType]}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayCustomer);","import React from 'react';\r\nimport {Col, Row} from 'react-bootstrap';\r\nimport DisplayCustomer from '../presentational/DisplayCustomer';\r\n\r\n\r\nclass ViewCustomerDetails extends React.Component{ \r\n    state={\r\n        name: this.props.customer.name\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.customer.name){\r\n            return{\r\n                name:nextProps.customer.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {customer} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayCustomer customer={customer} />\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default ViewCustomerDetails;","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport CustomerForm from '../forms/CustomerForm';\r\nimport ViewCustomerDetails from '../forms/ViewCustomerDetails';\r\nimport AddLocale from '../../locales/Context';\r\n// import Security from '../login/Security';\r\n\r\n\r\nclass CustSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {customer, locale}=this.props;\r\n\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.customer.customerDetails}>\r\n              {customer!=null&&<ViewCustomerDetails {...this.props}/>}\r\n            </Tab>\r\n\r\n\r\n            \r\n              <Tab eventKey={2} title={locale.customer.newCustomer}>\r\n                <CustomerForm onSubmit={this.props.onSubmit}/>\r\n              </Tab>\r\n            \r\n\r\n\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(CustSubTabs);","import {setAlert} from '../actions/notification';\r\nimport {fetchAllCustomers} from '../actions/customers';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\nexport const fetchCustomers=()=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/customer/all`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchAllCustomers(response));\r\n            }\r\n\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const createCustomer=(values)=>{\r\n    return (dispatch,getState)=>{\r\n        return fetch(`/customer`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchCustomers());\r\n                dispatch(setAlert('customer_added',SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>{}); \r\n    }\r\n};","import {FETCH_CUSTOMERS} from './action_types/customers';\r\n\r\nexport const fetchAllCustomers=(payload)=>({\r\n    type: FETCH_CUSTOMERS,\r\n    payload\r\n})","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport CustSubTabs from '../presentational/CustSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport { fetchCustomers, createCustomer } from '../../store/helpers/customerFetchers';\r\n\r\n\r\nclass CustomerContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        selectedCust:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.customers !== prevState.allCust){\r\n            const x = nextProps.customers.length;\r\n            return {\r\n                allCust: nextProps.customers,\r\n                selectedCust: x>0?nextProps.customers[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n    }\r\n\r\n    getStaff=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({selectedCust:cust[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedCust==null){\r\n            return false;\r\n        }else if(id===this.state.selectedCust._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createCustomer(values, this.props.token)\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Customer ${this.state.selectedCust.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    deleteCustomer=()=>{\r\n        alert(`Will delete ${this.state.selectedCust.name}`)\r\n    }\r\n\r\n    render(){\r\n        const {allCust} = this.state;\r\n        return(\r\n        <div>\r\n            <Col sm={2}>\r\n                {allCust.length>0&&allCust.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <CustSubTabs customer={this.state.selectedCust} deleteCustomer={this.deleteCustomer} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    customers: state.customers\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    createCustomer: (values)=>dispatch(createCustomer(values))\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomerContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst BasicInventoryDetails = (props) =>{\r\n    const {productType, name, description, quantity, retailPrice}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{name}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.type}</Col>\r\n                            <Col md={8}>{productType}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.description}</Col>\r\n                            <Col md={8}>{description}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.quantity}</Col>\r\n                            <Col md={8}>{quantity}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.retailPrice}</Col>\r\n                            <Col md={8}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                        </Row>                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(BasicInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass RestrictedInventoryDetails extends React.Component{\r\n    state={\r\n        newPrice: 0\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changePrice, locale} = this.props;\r\n        const {costPrice, retailPrice}=inventory;\r\n        return (\r\n            <div>\r\n                <Col>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Heading><b>{locale.inventory.pricing}</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.costPrice}:</Col>\r\n                                <Col md={8}>{costPrice} rmb</Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        </Security>\r\n\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.retailPrice}:</Col>\r\n                                <Col md={4}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalName\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newPrice} onChange={event=>this.setState({newPrice: event.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" block onClick={()=>changePrice(this.state.newPrice)}>{locale.btns.updatePrc}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        \r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.profit}:</Col>\r\n                                <Col md={8}>{retailPrice-costPrice} {locale.commonInfo.rmb}</Col>\r\n                            </Row>\r\n                        </Security>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddLocale(RestrictedInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst requireStyle=(quantity)=>{\r\n    if(quantity===0){\r\n        return \"danger\"\r\n    } else if(quantity < 10){\r\n        return \"warning\"\r\n    } else {\r\n        return \"success\";\r\n    }\r\n}\r\n\r\nclass InventoryChangeQuantity extends React.Component{\r\n    state={\r\n        newQty:1\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changeQuantity, locale} = this.props;\r\n        const {quantity}=inventory;\r\n        return (\r\n            <Col>\r\n                <Panel bsStyle={requireStyle(quantity)}>\r\n                    <Panel.Heading><b>{locale.inventory.changeQuantity}:</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.currentQuantity}:</Col>\r\n                                <Col md={4}>{quantity}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalQty\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newQty} onChange={val=>this.setState({newQty: val.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" block onClick={()=>changeQuantity(this.state.newQty)}>{locale.btns.updateQty}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        )\r\n    };\r\n};\r\n\r\nexport default AddLocale(InventoryChangeQuantity);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst SupplierDetails = (props) =>{\r\n    const {supplierName, supplierAddress, supplierPhone}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{locale.inventory.suppDetails}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.suppName}:</Col>\r\n                            <Col md={8}>{supplierName}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppPhone}:</Col>\r\n                            <Col md={8}>{supplierPhone}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppAdd}:</Col>\r\n                            <Col md={8}>{supplierAddress}</Col>\r\n                        </Row>\r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(SupplierDetails);","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col, Row,ControlLabel, Button, HelpBlock\r\n} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {validateName, validatePhone} from '../validationFunctions/index';\r\n\r\n\r\nconst DEFAULT={\r\n    name:'',\r\n    type:'',\r\n    description: '',\r\n    supplierName: '',\r\n    supplierPhone:'',\r\n    supplierAddress:'',\r\n    quantity: 1,\r\n    costPrice: 1,\r\n    retailPrice: 2,\r\n\r\n    nameF:false,\r\n    typeF:false,\r\n    descF: false,\r\n    supNF: false,\r\n    supPF: false,\r\n    supAF: false\r\n};\r\n\r\nclass InventoryForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        productType:'',\r\n        description: '',\r\n        supplierName: '',\r\n        supplierPhone:'',\r\n        supplierAddress:'',\r\n        quantity: 1,\r\n        costPrice: 1,\r\n        retailPrice: 2,\r\n\r\n        nameF:false,\r\n        typeF:false,\r\n        descF: false,\r\n        supNF: false,\r\n        supPF: false,\r\n        supAF: false\r\n    }\r\n\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalType=()=>{\r\n        if(this.state.typeF){\r\n            const con = validateName(this.state.productType);\r\n            con&&this.setState({typeF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSName=()=>{\r\n        if(this.state.supNF){\r\n            const con = validateName(this.state.supplierName);\r\n            con&&this.setState({supNF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSNumber=()=>{\r\n        if(this.state.supPF){\r\n            const con = validatePhone(this.state.supplierPhone);\r\n            con&&this.setState({supPF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSAddress=()=>{\r\n        if(this.state.supAF){\r\n            const con = validateName(this.state.supplierAddress);\r\n            con&&this.setState({supAF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>this.setState({...DEFAULT});\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {\r\n            name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n            quantity, costPrice, retailPrice\r\n        } = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({\r\n                name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n                quantity, costPrice, retailPrice\r\n            });\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n        validateName(this.state.productType)&&\r\n        validateName(this.state.supplierName)&&\r\n        validatePhone(this.state.supplierPhone)&&\r\n        validateName(this.state.supplierAddress)?true:false;\r\n    }\r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n            <div>\r\n                <hr/>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                        <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.name}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                                {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalType\" validationState={this.validateLocalType()} onBlur={()=>this.setState({typeF:true})} onFocus={()=>this.setState({typeF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.type}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.type} value={this.state.productType} onChange={val=>this.setState({productType:val.target.value})}/>\r\n                                {this.state.typeF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalDescription\">\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.description}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.description} value={this.state.description} onChange={val=>this.setState({description:val.target.value})}/>\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSName\" validationState={this.validateLocalSName()} onBlur={()=>this.setState({supNF:true})} onFocus={()=>this.setState({supNF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppName}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.supName} value={this.state.supplierName} onChange={val=>this.setState({supplierName:val.target.value})}/>\r\n                                    {this.state.supNF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSPhone\" validationState={this.validateLocalSNumber()} onBlur={()=>this.setState({supPF:true})} onFocus={()=>this.setState({supPF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppPhone}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Number\" placeholder={locale.inventory.suppPhone} value={this.state.supplierPhone} onChange={val=>this.setState({supplierPhone:val.target.value})}/>\r\n                                    {this.state.supPF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSAddress\" validationState={this.validateLocalSAddress()} onBlur={()=>this.setState({supAF:true})} onFocus={()=>this.setState({supAF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppAdd}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.suppAdd} value={this.state.spplierA} onChange={val=>this.setState({supplierAddress:val.target.value})}/>\r\n                                    {this.state.supAF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                    </Row>\r\n                    <hr/>\r\n                    <Row>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalQuantity\">\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                {locale.inventory.quantity}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.quantity} value={this.state.quantity} onChange={val=>this.setState({quantity:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalCost\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.costPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={this.state.costPrice} value={this.state.costPrice} onChange={val=>this.setState({costPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n \r\n                            <FormGroup controlId=\"formHorizontalRetail\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.retailPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.retailPrice} value={this.state.retailPrice} onChange={val=>this.setState({retailPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>\r\n                            <Row>\r\n                                <Col componentClass={ControlLabel} xs={6} smPull={2}>\r\n                                    {locale.inventory.profit} {+this.state.retailPrice-+this.state.costPrice} {locale.commonInfo.rmb}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col xsOffset={3} xs={2}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </Form>            \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AddLocale(InventoryForm);\r\n\r\n\r\n","import React from 'react';\r\nimport {Tab, Tabs, Row, Col} from 'react-bootstrap';\r\n\r\nimport BasicInventoryDetails from './BasicInventoryDetails';\r\nimport RestrictedInventoryDetails from './RestrictedInventoryDetails';\r\nimport InventoryChangeQuantity from './InventoryChangeQuantity';\r\nimport SuppliersDetails from './SuppliersDetails';\r\n\r\nimport InventoryForm from '../forms/InventoryForm';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass InvenSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {inventory, locale}=this.props;\r\n\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.inventory.inventoryDetails}>\r\n              <Row>\r\n                  <Col sm={6}>\r\n                    {inventory.length>0&&<BasicInventoryDetails {...this.props}/>}\r\n                  </Col>\r\n\r\n                  <Security level={3}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<SuppliersDetails {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n\r\n                </Row>\r\n                <Row>\r\n                  <Security level={2}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<InventoryChangeQuantity {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n\r\n                  <Security level={2}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<RestrictedInventoryDetails {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n              </Row>\r\n            </Tab>\r\n            \r\n            <Security level={3}>\r\n              <Tab eventKey={2} title={locale.inventory.inventoryStatistics}>\r\n                <h2>COMING SOON!!!</h2>\r\n                <h3>graphs and details about the actual sales</h3>\r\n              </Tab>\r\n            </Security>\r\n            \r\n            <Security level={2}>\r\n              <Tab eventKey={3} title={locale.inventory.newInventory}>\r\n                {<InventoryForm {...this.props}/>}\r\n              </Tab>\r\n            </Security>\r\n          \r\n          \r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(InvenSubTabs);","import {setAlert} from '../actions/notification';\r\nimport {fetchAllInventory} from '../actions/inventory';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\n\r\nexport const fetchInventory=()=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            }else {\r\n                const temp = response.sort((a, b)=>{\r\n                    const x = a.quantity;\r\n                    const y = b.quantity;\r\n                    return ((x > y) ? -1 : ((x < y) ? 1 : 0));\r\n                });\r\n\r\n                dispatch(fetchAllInventory(temp));\r\n\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const updateInventory=(data, id)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify({id, data: {...data}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_updated', SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const addInventory=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        .then(res=>res.json())\r\n        ).then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_added', SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>{});\r\n    }\r\n}","import {FETCH_INVENTORY} from './action_types/inventory';\r\n\r\nexport const fetchAllInventory = (payload)=>({\r\n    type: FETCH_INVENTORY,\r\n    payload\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col, Row} from 'react-bootstrap';\r\n\r\nimport InvenSubTabs from '../presentational/InvenSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\n\r\nimport {updateInventory, addInventory, fetchInventory} from '../../store/helpers/inventoryFetchers';\r\n\r\nclass InventoryContainer extends React.Component{ \r\n    state={\r\n        allInven:[],\r\n        selectedInven: ''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.inventory !== prevState.allInven){\r\n            const x = nextProps.inventory.length;\r\n            return {\r\n                allInven: nextProps.inventory,\r\n                selectedInven: x>0?nextProps.inventory[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n    getInventory=(id)=>{\r\n        const inven = this.state.allInven.filter(temp=>temp._id===id);\r\n        this.setState({selectedInven:inven[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedInven==null){\r\n            return false;\r\n        }else if(id===this.state.selectedInven._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.addInventory(values, this.props.token).catch(err=>console.log(err));\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Inventory ${this.state.selectedInven.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    onDelete=()=>{\r\n        alert(`Will delete ${this.state.selectedInven.name}`)\r\n    }\r\n\r\n    changePrice=(newPrice)=>{\r\n        this.update({retailPrice: newPrice});\r\n    }\r\n\r\n    changeQuantity=(quantity)=>{\r\n        this.update({quantity});\r\n    }\r\n\r\n    update=(data)=>{\r\n        this.props.updateInventory(data, this.state.selectedInven._id, this.props.token);\r\n    }\r\n\r\n\r\n    render(){\r\n        const {allInven} = this.state;\r\n        return(\r\n        <div>\r\n            <Row>\r\n                <Col sm={2}>\r\n                    {allInven.length>0&&allInven.map(item=><StaffItem name={item.name} getStaff={this.getInventory} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n                </Col>\r\n                <Col sm={10}>\r\n                    <InvenSubTabs inventory={this.state.selectedInven} changeQuantity={this.changeQuantity} changePrice={this.changePrice} onDelete={this.onDelete} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    inventory: state.inventory\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    updateInventory: (data, id)=>dispatch(updateInventory(data, id)), \r\n    addInventory: (data)=>dispatch(addInventory(data)),\r\n    fetchInventory: ()=>dispatch(fetchInventory())\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InventoryContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst CustomerItem = ({title, phone, wechat, id, setCustomer, selected, locale}) =>(\r\n    <div onClick={(value)=>setCustomer(id)}>\r\n        <Col md={4}>\r\n            <Panel bsStyle={selected?\"success\":\"info\"}>\r\n                <Panel.Heading><b>{title}</b></Panel.Heading>\r\n                <Panel.Body>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.phone}</Col>\r\n                        <Col md={1}>{phone}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.wechat}</Col>\r\n                        <Col md={1}>{wechat}</Col>                            \r\n                    </Row>\r\n                </Panel.Body>\r\n            </Panel>\r\n        </Col>\r\n    </div>\r\n);\r\n\r\nexport default AddLocale(CustomerItem);","import React from 'react';\r\nimport CustomerItem from './CustomerItem';\r\n\r\n\r\n//TODO: fix the layout so it is in rows and each panel has been restrcted\r\n\r\nexport default ({list, setCustomer, selected, locale})=>(\r\n    <div>\r\n        {list.map(item=><CustomerItem \r\n            title={item.name} \r\n            phone={item.phone} \r\n            wechat={item.wechat} \r\n            key={item._id} \r\n            id={item._id} \r\n            setCustomer={setCustomer} \r\n            selected={selected._id===item._id?true:false}\r\n        />)}\r\n    </div>\r\n);\r\n\r\n\r\n//TODO: sort the inventory by quantity\r\n","import React from 'react';\r\nimport {Panel, FormControl, FormGroup, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass InventoryItem extends React.Component{ \r\n\r\n    state= {\r\n        cost: this.props.price,\r\n        quantity:this.props.quantity,\r\n        requiredQuantity: 0,\r\n    };\r\n\r\n    increment=()=>{\r\n        const newReq = this.state.requiredQuantity+1;\r\n        const newQuantity = this.state.quantity-1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    decrement=()=>{\r\n        const newReq = this.state.requiredQuantity-1;\r\n        const newQuantity = this.state.quantity+1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    changePrice=(e)=>{\r\n        const newPrice = e.target.value;\r\n        this.setState({cost:newPrice}, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        })\r\n    }\r\n    \r\n    requireStyle=()=>{\r\n        const {quantity}=this.props;\r\n        if(quantity===0){\r\n            return \"danger\"\r\n        } else if(quantity < 10){\r\n            return \"warning\"\r\n        } else {\r\n            return \"success\";\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {title, description, price, quantity, locale} = this.props;\r\n        return(\r\n            <div>\r\n                <Col md={6}>\r\n                <Panel bsStyle={this.requireStyle()}>\r\n                    <Panel.Heading>{title}</Panel.Heading>\r\n                    <Panel.Body>\r\n                        {description}<br/><br/>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ppUnit}:</b></Col>{price}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.qtyAvail}:</b></Col> {this.state.quantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.required}:</b></Col> {this.state.requiredQuantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ttlPrice}:</b></Col> {this.state.cost*this.state.requiredQuantity} {locale.commonInfo.rmb}</Row>\r\n                        <Row>{\r\n                            quantity>0&&\r\n                            <div>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity<quantity&&<Button bsStyle=\"info\" onClick={this.increment}>+</Button>}\r\n                                </Col>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity>0&&<Button bsStyle=\"warning\" onClick={this.decrement}>-</Button>}\r\n                                </Col>\r\n                            </div>\r\n                        }</Row>\r\n                        {quantity>0&&<FormGroup controlId=\"formHorizontalName\">\r\n                            <FormControl type=\"Number\" placeholder={this.state.cost} onChange={this.changePrice}/>\r\n                        </FormGroup>\r\n                        }\r\n                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(InventoryItem);","import React from 'react';\r\nimport {Table} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst InventoryTable = ({compiledList, locale})=>{\r\n    let total=0;\r\n\r\n    return(\r\n        <div>\r\n            <Table striped bordered condensed hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>{locale.purchase.item}</th>\r\n                        <th>{locale.purchase.qtyS}</th>\r\n                        <th>{locale.purchase.price}</th>\r\n                        <th>{locale.purchase.ttlPrice}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        compiledList.map((item, val)=>{\r\n                            total = total+(item.quantity*item.price);\r\n    \r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                    <tr>\r\n                        <td colSpan={3}><b>{locale.purchase.total}</b></td>\r\n                        <td colSpan={2}>{`${total} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(InventoryTable);","import React from 'react';\r\nimport InventoryItem from './InventoryItem';\r\nimport InventoryTable from './InventoryTable';\r\n\r\nimport {Col, Grid} from 'react-bootstrap';\r\n\r\nexport default ({list, selectItem, compiledList})=>(\r\n    <Grid>\r\n        <Col md={8}>\r\n        {list.map(item=><InventoryItem \r\n            key={item._id}\r\n            title={item.name} \r\n            description={item.description} \r\n            price={item.retailPrice}\r\n            quantity={item.quantity}\r\n            id={item._id}\r\n            selectItem={selectItem}\r\n        />)}\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n            <InventoryTable compiledList={compiledList}/>\r\n        </Col>\r\n    </Grid>\r\n);","import React from 'react';\r\nimport {Table, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst CheckPurchasePrice = ({customer, staff, selectedItems, confirmOrder, cancel, locale})=>{\r\n    let totalCost=0;\r\n    let totalItems=0;\r\n\r\n    return(\r\n        <div>\r\n            <Row>\r\n                <Col xs={8} xsOffset={2}>\r\n            <Table bordered condensed hover>\r\n\r\n                <tbody>\r\n                    <tr>\r\n                        <td><b>{locale.customer.name}</b></td>\r\n                        <td>{customer.name}</td>\r\n                        <td><b>{locale.staff.name}</b></td>\r\n                        <td>{staff.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.phone}</b></td>\r\n                        <td>{customer.phone}</td>\r\n                        <td><b>{locale.commonInfo.date}</b></td>\r\n                        <td>12-09-2018</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.wechat}</b></td>\r\n                        <td>{customer.wechat}</td>\r\n                        <td><b>{locale.commonInfo.time}</b></td>\r\n                        <td>12:52</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                    <td>#</td>\r\n                        <td>{locale.purchase.item}</td>\r\n                        <td>{locale.purchase.qtyS}</td>\r\n                        <td>{locale.purchase.price}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        selectedItems.map((item, val)=>{\r\n                            totalCost = totalCost+(item.quantity*item.price);\r\n                            totalItems = totalItems+item.quantity;\r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <td>{locale.purchase.qtyQuan}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{totalItems}</td>\r\n                        <td>{`${totalCost} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n            <Col md={2} smOffset={3}>\r\n                <Button bsStyle=\"success\" block onClick={()=>confirmOrder()}>{locale.btns.confirm}</Button>\r\n            </Col>\r\n            <Col md={2} smOffset={2}>\r\n                <Button bsStyle=\"danger\" block onClick={()=>cancel()}>{locale.btns.cancel}</Button>\r\n            </Col>\r\n            </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(CheckPurchasePrice);","import React from 'react';\r\nimport {Panel, Button, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst TEMP=false;\r\n\r\nconst CompletedOrder = ({locale, completed, refNo})=>(\r\n    <div>\r\n          <Panel bsStyle=\"success\">\r\n            <Panel.Heading>\r\n            <Panel.Title componentClass=\"h2\">{locale.purchase.success}</Panel.Title>\r\n            </Panel.Heading>\r\n            <Panel.Body>{locale.purchase.purMsg}</Panel.Body>\r\n            <Panel.Body>{locale.purchase.purRefNo} {refNo}</Panel.Body>\r\n            \r\n            <Row>\r\n                <Col md={2} smOffset={3}>\r\n                    {TEMP&&<Button bsStyle=\"success\" block>{locale.btns.emailInvoice}</Button>}\r\n                </Col>\r\n                <Col md={2} smOffset={2}>\r\n                    {TEMP&&<Button bsStyle=\"warning\" block>{locale.btns.printInvoice}</Button>}<br/>\r\n                </Col>\r\n            </Row>\r\n            <Button block bsStyle=\"success\" onClick={completed}>{locale.btns.continue}</Button>\r\n        </Panel>\r\n    </div>\r\n)\r\n\r\nexport default AddLocale(CompletedOrder);","import {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\n\r\n\r\nconst purchaseCall=(data)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/purchases`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(data)\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const createPurchases=(inven, customer, staff, refNo)=>{\r\n    return (dispatch)=>{\r\n        let result=true;\r\n        return new Promise((resolve, reject)=>{\r\n            inven.forEach((item)=>{\r\n                const data= {\r\n                    invoiceNo: refNo,\r\n                    totalPrice: (+item.quantity*+item.price),\r\n                    unitPrice: item.price,\r\n                    quantity: item.quantity,\r\n                    dateOfPurchase: new Date(),\r\n                    __customer: customer._id,\r\n                    __staff: staff._id,\r\n                    __inventory: item._id\r\n                };\r\n                \r\n                purchaseCall(data);\r\n            });\r\n            \r\n            if(result){\r\n                dispatch(setAlert('purchase_placed', SUCCESS));\r\n                resolve();\r\n            }else{\r\n                dispatch(setAlert('Purchase_not_placed', DANGER));\r\n                reject();\r\n            }\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport uuid from 'uuid';\r\nimport {ProgressBar, Button, Col, Row, Grid} from 'react-bootstrap';\r\nimport CustomerList from '../presentational/CustomerList';\r\nimport InventoryList from '../presentational/InventoryList';\r\nimport CheckPurchasePrice from '../presentational/CheckPurchasePrice';\r\nimport CompleteOrder from '../presentational/CompletedOrder';\r\n\r\nimport {fetchCustomers} from '../../store/helpers/customerFetchers';\r\nimport {fetchInventory} from '../../store/helpers/inventoryFetchers';\r\nimport {createPurchases} from '../../store/helpers/purchaseFetchers';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst STAGES=['Select Customer', 'Select Product', 'Check Order', 'Completed'];\r\nconst DEFAULTS= {\r\n    stage: 0,\r\n    percent:25,\r\n    customer: '',\r\n    selectedItems:[]\r\n};\r\n\r\n\r\nclass PurchaseContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        allInven:[],\r\n\r\n\r\n        stage: 0,\r\n        percent:0,\r\n        customer: '',\r\n        selectedItems:[],\r\n        refNo:'',\r\n        completed: false\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps !== prevState){\r\n            return {\r\n                allInven: nextProps.inventory,\r\n                allCust: nextProps.customers,\r\n                stage: nextProps.message==='purchase_placed'?3:prevState.stage,\r\n                percent: nextProps.message==='purchase_placed'?100:prevState.percent\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n\r\n    /**increases the stage: advances to the next stage*/\r\n    increment=()=>this.setState((temp)=>({\r\n        stage: temp.stage+1,\r\n        percent:temp.percent+33,\r\n    }));\r\n\r\n    /**decreases the stage: advances to the next stage*/\r\n    decrement=()=>this.setState((temp)=>({\r\n        stage: temp.stage-1,\r\n        percent:temp.percent-25,\r\n    }));\r\n\r\n    /**Resets the state */\r\n    reset=()=>this.setState({\r\n        ...DEFAULTS\r\n    });\r\n\r\n    setCustomer=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({\r\n            customer: cust[0]\r\n        });\r\n    }\r\n\r\n    selectItem=(id, quantity, price, name)=>{\r\n        let tempArray = this.state.selectedItems;\r\n\r\n        if(tempArray.find(x=>x._id===id)){\r\n            const finalArray = tempArray.map(x=>{\r\n                if(x._id===id){\r\n                    return{\r\n                        ...x,\r\n                        quantity: parseInt(quantity),\r\n                        price: parseFloat(price)\r\n                    };\r\n                }else{\r\n                    return x;\r\n                }\r\n            })\r\n            this.setState({selectedItems:finalArray.filter(q=>q.quantity>0)});\r\n        } else{\r\n            if(quantity>0){\r\n                tempArray.push({_id:id, quantity: parseInt(quantity), price: parseFloat(price), name});\r\n                this.setState({selectedItems:tempArray});\r\n            }\r\n        }\r\n    }\r\n\r\n    disableNext=()=>{\r\n        if(this.state.customer===''&&this.state.stage===0){\r\n            return true;\r\n        } else if(this.state.selectedItems.length===0 && this.state.stage===1){\r\n            return true;\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    confirmOrder=()=>{\r\n        const {customer} = this.state;\r\n        const s = this.state.selectedItems;\r\n        const refNo=uuid();\r\n        this.setState({refNo});\r\n\r\n        this.props.createPurchases(s, customer, this.props.staff, refNo);\r\n        if(this.state.completed){\r\n            this.increment();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {locale}=this.props;\r\n        return(\r\n        <Grid>\r\n            <h3>{STAGES[this.state.stage]}</h3>\r\n            <div><ProgressBar active now={this.state.percent} label={locale.purchase.STAGES[this.state.stage]} /></div>\r\n            {\r\n                this.state.stage!==3&&\r\n                <div>\r\n                    <Row>\r\n                        <Col xs={2}>\r\n                            <Button bsStyle=\"warning\" onClick={this.decrement} block disabled={this.state.stage>0?false:true}>Back</Button>\r\n                        </Col>\r\n                        {this.state.stage<2&&\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"primary\" onClick={this.increment} block disabled={this.disableNext()}>Next</Button>\r\n                            </Col>\r\n                        }\r\n\r\n                        {this.state.stage<2&&\r\n                            <Col xs={1} smOffset={6}>\r\n                                <Button bsStyle=\"danger\"  onClick={this.reset} small=\"true\">Clear</Button>\r\n                            </Col>\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            }\r\n            {this.state.stage===0&& <div>{<CustomerList list={this.state.allCust} setCustomer={this.setCustomer} selected={this.state.customer}/>}</div>}\r\n            {this.state.stage===1&& <div>{<InventoryList list={this.state.allInven} selectItem={this.selectItem} compiledList={this.state.selectedItems}/>}</div>}\r\n            {this.state.stage===2&& <div><CheckPurchasePrice cancel={this.reset} confirmOrder={this.confirmOrder} selectedItems={this.state.selectedItems} customer={this.state.customer} staff={this.props.staff}/></div>}\r\n            {this.state.stage===3&& <div><CompleteOrder completed={this.reset} refNo={this.state.refNo}/></div>}\r\n\r\n        </Grid>\r\n);\r\n}\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staff: state.auth.staff,\r\n    inventory: state.inventory,\r\n    customers: state.customers,\r\n    message : state.alert.msg\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    fetchInventory:()=>dispatch(fetchInventory()),\r\n    createPurchases: (data, customer, staff, refNo)=>dispatch(createPurchases(data, customer, staff, refNo))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddLocale(PurchaseContainer));","import React from 'react';\r\nimport {Route, Switch, Router} from 'react-router-dom';\r\nimport history from './components/history';\r\n\r\nimport AuthRoute from './components/login/AuthRoute';\r\nimport NavBarContainer from './components/container/NavBarContainer';\r\nimport TabNavigation from './components/TabNavigation';\r\nimport Login from './components/login/Login';\r\nimport IsAuth from './components/login/IsAuth';\r\nimport Dashboard from './components/Dashboard';\r\nimport AlertBar from './components/container/AlertBar';\r\n\r\nimport Development from './components/presentational/Development';\r\n\r\nimport {StaffContainer, CustomerContainer, InventoryContainer, PurchaseContainer} from './components/container';\r\n\r\n\r\nclass App extends React.Component{ \r\n\r\n    render(){\r\n        \r\n        return(\r\n        <Router  history={history}>\r\n            <div>\r\n                <Development/>\r\n                <IsAuth><NavBarContainer /></IsAuth>\r\n            <div className=\"container\">\r\n                <AlertBar />\r\n                <IsAuth><TabNavigation /></IsAuth>\r\n                \r\n                <Switch>\r\n                    <AuthRoute path=\"/purchase\" exact={true} Component={PurchaseContainer} level={-1}/>\r\n                    <AuthRoute path=\"/staff\" exact={true} Component={StaffContainer} level={3}/>\r\n                    <AuthRoute path=\"/customer\" exact={true} Component={CustomerContainer} level={-1}/>\r\n                    <AuthRoute path=\"/inventory\" exact={true} Component={InventoryContainer} level={-1}/>\r\n                    <AuthRoute path=\"/dashboard\" exact={true} Component={Dashboard} level={-1}/>\r\n                    <Route path=\"/\" exact={true} component={Login}/>\r\n                </Switch>\r\n            </div>\r\n            </div>\r\n        </Router>\r\n);   }\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport configureStore from './store/store';\r\n\r\n\r\nimport App from './App';\r\n\r\nconst store = configureStore();\r\nconst anchor = document.getElementById(\"root\");\r\n\r\nconst jsx = (\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>\r\n);\r\n\r\nReactDOM.render(jsx, anchor);"],"sourceRoot":""}