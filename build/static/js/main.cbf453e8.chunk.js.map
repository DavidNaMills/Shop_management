{"version":3,"sources":["store/reducers/auth.js","store/actions/action_types/auth.js","store/reducers/notification.js","store/actions/action_types/notifications.js","store/reducers/staff.js","store/actions/action_types/staff.js","store/reducers/customers.js","store/actions/action_types/customers.js","store/reducers/inventory.js","store/actions/action_types/inventory.js","store/store.js","components/history.js","components/login/AuthRoute.js","locales/english.js","locales/Context.js","locales/chinese.js","components/NavBar.js","store/actions/notification.js","style/alert.js","components/container/NavBarContainer.js","store/actions/auth.js","components/login/Security.js","components/TabNavigation.js","components/validationFunctions/validateEmail.js","components/validationFunctions/validateName.js","components/validationFunctions/validatePhone.js","components/validationFunctions/validateUsername.js","components/validationFunctions/validatePassword.js","components/validationFunctions/confirmPassword.js","components/login/Login.js","components/login/IsAuth.js","components/Dashboard.js","components/container/AlertBar.js","components/presentational/Development.js","components/forms/StaffForm.js","components/presentational/DisplayStaff.js","components/forms/UpdateStaffLevelForm.js","components/presentational/StaffSubTabs.js","components/presentational/StaffItem.js","store/helpers/staffFetchers.js","components/container/StaffContainer.js","components/defaultStates.js","components/forms/CustomerForm.js","components/presentational/DisplayCustomer.js","components/forms/ViewCustomerDetails.js","components/presentational/CustSubTabs.js","store/helpers/customerFetchers.js","store/actions/customers.js","components/container/CustomerContainer.js","components/presentational/BasicInventoryDetails.js","components/presentational/RestrictedInventoryDetails.js","components/presentational/InventoryChangeQuantity.js","components/presentational/SuppliersDetails.js","components/forms/InventoryForm.js","components/presentational/InvenSubTabs.js","store/helpers/inventoryFetchers.js","store/actions/inventory.js","components/container/InventoryContainer.js","components/presentational/CustomerItem.js","components/presentational/CustomerList.js","components/presentational/InventoryItem.js","components/presentational/InventoryTable.js","components/presentational/InventoryList.js","components/presentational/CheckPurchasePrice.js","components/presentational/CompletedOrder.js","store/helpers/purchaseFetchers.js","components/container/PurchaseContainer.js","App.js","index.js"],"names":["defaultState","reducers_auth","state","arguments","length","undefined","action","type","payload","msg","notification","reducers_staff","customers","reducers_inventory","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","createHistory","connect","auth","_ref","Component","path","react_default","a","createElement","Route","render","token","Redirect","to","pathname","english","logout","settings","welcomeMsg","btns","back","next","clear","confirm","continue","cancel","delete","submit","updateLvl","updateQty","updatePrc","emailInvoice","printInvoice","mainNav","dashboard","purchase","staff","customer","inventory","selectCust","selectProduct","checkOrder","completed","success","purMsg","purRefNo","ppUnit","qtyAvail","required","ttlPrice","price","item","qty","qtyS","qtyQuan","total","staffName","customerName","STAGES","staffDetails","newStaff","LEVEL","level","name","email","security","username","password","repassword","customerDetails","newCustomer","wechat","phone","CUSTOMERTYPES","address","sex","male","female","dob","MONTHS","inventoryDetails","newInventory","inventoryStatistics","description","suppDetails","suppName","suppAdd","suppPhone","quantity","changeQuantity","currentQuantity","costPrice","retailPrice","profit","pricing","commonInfo","selected","rmb","date","time","HELP","confirmPass","ALERTS","undefined_err","staff_1","no_user","not_active","password_mismatch","staff_not_found","staff_exists","inven_add_fail","inven_not_found","inventory_not_deleted","error_code_1","pur_not_saved","purchase_update_failed","no_record_to_delete","staff_validation","customer_not_found","customer_not_created","invalid_search_criteria","staff_saved","unauthorised","customer_added","exists","inventory_added","inventory_updated","purchase_placed","staff_created","level_updated","staff_deleted","inventory_cost","inventory_quantity","Purchase_not_placed","email_exists","username_exists","Locale","React","createContext","AddLocale","ComposedComponent","_Component","Authenticate","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","language","inherits","createClass","key","value","_this2","Provider","Consumer","locale","assign","props","Navbar","inverse","collapseOnSelect","Header","Brand","href","Toggle","Collapse","Nav","pullRight","NavDropdown","eventKey","title","id","MenuItem","divider","onClick","setAlert","typ","dispatch","SetTheAlert","setTimeout","resetAlert","objectSpread","DANGER","NavBarContainer","_this$props$user","user","components_NavBar","staffLevel","children","TabNavigation","context","handleSelect","bind","assertThisInitialized","setState","bsStyle","justified","activeKey","onSelect","k","lib","NavItem","login_Security","validateEmail","test","String","toLowerCase","validateName","validatePhone","number","validateUsername","validatePassword","confirmPassword","password2","DEFAULTS","isUsername","userF","passF","displayBtn","Login","validateLocalUsername","con","validateLocalPassword","userChange","val","target","passChange","displayUsername","FormGroup","controlId","validationState","onBlur","Row","Col","sm","FormControl","placeholder","onChange","HelpBlock","displayPassword","btnOnClick","startLogin","className","Button","block","fetch","method","credentials","headers","Content-Type","crossdomain","body","JSON","stringify","then","response","status","history","replace","json","catch","err","Dashboard","AlertBar","findMsg","filter","x","_this$props$alert","alert","Alert","Development","DEFAULTSTATE","nameF","emailF","passC","levelF","onSubmit","e","preventDefault","_this$state","fullValidation","validateLocalName","validateLocalEmail","confirmLocalPassword","_this$state2","Form","horizontal","onFocus","componentClass","ControlLabel","xs","smOffset","ButtonToolbar","DropdownButton","InputGroup","map","active","xsOffset","parseInt","Panel","Heading","Body","_this$props","onUpdateLevel","deleteStaff","userName","origLevel","presentational_DisplayStaff","disabled","nextProps","prevState","StaffSubTabs","Tabs","Tab","forms_UpdateStaffLevelForm","forms_StaffForm","StaffItem","getStaff","iselected","fetchStaff","getState","axios","url","authorization","console","log","StaffContainer","allStaff","selectedStaff","temp","_id","isSelected","values","createStaff","newLevel","updateLevel","deleteStaffMember","presentational_StaffSubTabs","mode","errmsg","data","res","day","month","year","phoneF","wechatF","addF","Date","validateLocalWechat","validateLocalAddress","validateLocalPhone","calculateDays","limit","includes","i","push","createYears","getFullYear","DAYS","YEARS","Radio","defaultChecked","inline","customerType","ViewCustomerDetails","presentational_DisplayCustomer","CustSubTabs","forms_ViewCustomerDetails","forms_CustomerForm","fetchCustomers","CustomerContainer","allCust","selectedCust","cust","createCustomer","onUpdate","newInfo","deleteCustomer","presentational_CustSubTabs","_props$inventory","productType","md","newPrice","changePrice","event","newQty","requireStyle","supplierName","supplierAddress","supplierPhone","DEFAULT","typeF","descF","supNF","supPF","supAF","validateLocalType","validateLocalSName","validateLocalSNumber","validateLocalSAddress","supName","spplierA","smPull","InvenSubTabs","presentational_BasicInventoryDetails","SuppliersDetails","presentational_InventoryChangeQuantity","presentational_RestrictedInventoryDetails","forms_InventoryForm","fetchInventory","sort","b","y","InventoryContainer","allInven","selectedInven","getInventory","inven","addInventory","onDelete","update","updateInventory","presentational_InvenSubTabs","setCustomer","CustomerList","list","presentational_CustomerItem","cost","requiredQuantity","increment","newReq","newQuantity","parseFloat","selectItem","decrement","compiledList","Table","striped","bordered","condensed","hover","colSpan","InventoryList","Grid","presentational_InventoryItem","presentational_InventoryTable","selectedItems","confirmOrder","totalCost","totalItems","refNo","Title","createPurchases","Promise","resolve","reject","forEach","stage","percent","PurchaseContainer","reset","tempArray","find","finalArray","q","disableNext","s","uuid","ProgressBar","now","label","small","presentational_CheckPurchasePrice","presentational_CompletedOrder","message","App","process","ENV","Router","login_IsAuth","container_NavBarContainer","container_AlertBar","components_TabNavigation","Switch","login_AuthRoute","exact","component","store","createStore","combineReducers","applyMiddleware","anchor","document","getElementById","jsx","es","src_App","ReactDOM"],"mappings":"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","file":"static/js/main.cbf453e8.chunk.js","sourcesContent":["import {LOGIN, LOGOUT} from '../actions/action_types/auth';\r\n\r\nconst defaultState = {};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case LOGIN:\r\n            const newState=action.payload;\r\n            return newState;\r\n        case LOGOUT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const LOGIN = 'login';\r\nexport const LOGOUT = 'logout';","import {ALERT, RESET_ALERT} from '../actions/action_types/notifications';\r\n\r\nconst defaultState={msg:''};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case ALERT:\r\n            return action.payload;\r\n        case RESET_ALERT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n};","export const ALERT = 'alert';\r\nexport const RESET_ALERT ='reset_alert';\r\n","import {FETCH_STAFF} from '../actions/action_types/staff';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_STAFF:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_STAFF = 'fetch_staff';","import {FETCH_CUSTOMERS} from '../actions/action_types/customers';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_CUSTOMERS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_CUSTOMERS = 'fetch_customers';","import {FETCH_INVENTORY} from '../actions/action_types/inventory';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_INVENTORY:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_INVENTORY = 'fetch_inventory';","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport auth from './reducers/auth';\r\nimport notification from './reducers/notification';\r\nimport staff from './reducers/staff';\r\nimport customers from './reducers/customers';\r\nimport inventory from './reducers/inventory';\r\n\r\nconst enhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst middleware = [thunk];\r\n\r\nexport default ()=>{\r\n    const store = createStore(\r\n        combineReducers({\r\n            auth,\r\n            alert: notification,\r\n            staff,\r\n            customers,\r\n            inventory\r\n        }),\r\n        enhancer(),\r\n        applyMiddleware(...middleware)\r\n    );\r\n    return store;\r\n}","import createHistory from 'history/createBrowserHistory';\r\n\r\nexport default createHistory();","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\n\r\nconst AuthRoute = ({Component, path, auth}) =>{\r\n    return (\r\n        <Route path={path} render={()=>\r\n                auth.token ?\r\n                <Component /> :\r\n                <Redirect to={{pathname:'/'}} />\r\n        } />\r\n    )\r\n};\r\n\r\nconst mapStateToProps=(state)=>({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","export default {\r\n    logout: 'Logout',\r\n    settings: 'Settings',\r\n    welcomeMsg: 'Logged in as: ',\r\n\r\n    btns:{\r\n        back:'Previous',\r\n        next:'Next',\r\n        clear: 'Clear',\r\n        confirm:'Confirm',\r\n        continue:'Continue',\r\n        cancel: 'Cancel',\r\n        delete: 'Delete',\r\n        submit: 'Submit', \r\n        updateLvl:'Update Level',\r\n        updateQty:'Update Quantity',\r\n        updatePrc:'Update Price',\r\n        emailInvoice:'Email Invoice',\r\n        printInvoice:'Print Invoice'\r\n    },\r\n    mainNav:{\r\n        dashboard:'Home',\r\n        purchase:'Purchases',\r\n        staff:'Staff',\r\n        customer:'Customers',\r\n        inventory:'Inventory'\r\n    },\r\n    purchase:{\r\n        selectCust: 'Select a customer',\r\n        selectProduct: 'Select a product',\r\n        checkOrder:'Check order',\r\n        completed: 'Completed',\r\n        success:'Success',\r\n        purMsg:'Purchase has been confirmed',\r\n        purRefNo:'Purchase reference number: ',\r\n        ppUnit:'Price per unit',\r\n        qtyAvail:'Quantity available',\r\n        required:'Required',\r\n        ttlPrice:'Total price',\r\n        price: 'price',\r\n        item:'Item',\r\n        qty:'Quantity',\r\n        qtyS:'Qty',\r\n        qtyQuan:'Total Qty',\r\n        total:'Total',\r\n        staffName:'Staff name',\r\n        customerName:'Customer name',\r\n        STAGES:['Select Customer', 'Select Product', 'Check Order', 'Completed']\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'Staff Details',\r\n        newStaff:'New Staff',\r\n        LEVEL: ['Basic', 'Junior', 'Advanced', 'Admin'],\r\n        level: 'Level',\r\n        name:'Name',\r\n        email:'Email',\r\n        security:'Security level',\r\n        username:'Username',\r\n        password:'Password',\r\n        repassword:'Re-enter password'\r\n    },\r\n    customer:{\r\n        customerDetails:'Customer Details',\r\n        newCustomer:'New Customer',\r\n        name:'Name',\r\n        email:'Email',\r\n        wechat: 'WeChat',\r\n        phone:'Phone',\r\n        type: 'Customer type',\r\n        CUSTOMERTYPES:['New', 'Current', 'Super', 'Advanced'],\r\n        address:'Address',\r\n        sex:'Sex',\r\n        male:'Male',\r\n        female:'Female',\r\n        dob:'DoB',\r\n        MONTHS:['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'Inventory Details',\r\n        newInventory:'New Inventory',\r\n        inventoryStatistics:'Inventory Statistics',\r\n        name:'Product Name',\r\n        type:'Product type',\r\n        description:'description',\r\n        suppDetails: 'Suppliers Details',\r\n        suppName:'Suppliers name',\r\n        suppAdd:'Suppliers Address',\r\n        suppPhone:'Suppliers Phone',\r\n        quantity:'Quantity',\r\n        changeQuantity: 'Change quantity',\r\n        currentQuantity: 'Current quantity',\r\n        costPrice:'Cost price',\r\n        retailPrice:'Retail price',\r\n        profit:'Profit',\r\n        pricing: 'Pricing'\r\n    },\r\n    commonInfo:{\r\n        selected:'Selected: ',\r\n        rmb:'rmb',\r\n        date:'Date',\r\n        time:'Time'\r\n    },\r\n    HELP:{\r\n        name:'Name must contain at least 2 characters',\r\n        email:'Enter a valid email',\r\n        username:'Username must contain at least 8 characters',\r\n        password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n        confirmPass: 'Password does not match',\r\n        phone: 'Must be 11 numbers',\r\n        wechat:'Wechat must contain at least 2 characters'\r\n    },\r\n    ALERTS:{\r\n        undefined_err: \"Error: undefined\",\r\n        staff_1: \"Staff not saved\",\r\n        no_user: \"Staff not found\",\r\n        not_active: \"Staff not active\",\r\n        password_mismatch: \"Password does not match\",\r\n        staff_not_found: \"Staff not found\",\r\n\t\tstaff_exists: \"Member of staff already exists\",\r\n\t\tinven_add_fail: \"Inventory not saved\",\r\n\t\tinven_not_found: \"Inventory was not found\",\r\n\t\tinventory_not_deleted: 'Inventory not deleted',\r\n\t\terror_code_1:\"Error code 1\",\r\n\t\tpur_not_saved: \"Purchase not saved\",\r\n\t\tpurchase_update_failed: \"Purchase update failed\",\r\n\t\tno_record_to_delete: \"No purchase to delete\",\r\n\t\tstaff_validation: \"Validation error\",\r\n\t\tcustomer_not_found: \"Customer not found\",\r\n\t\tcustomer_not_created: \"Customer not created\",\r\n\t\tinvalid_search_criteria: \"Invalid search criteria\",\r\n        staff_saved : \"New staff has been created\",\r\n        unauthorised: 'Incorrect Username and/or Password',\r\n        customer_added: 'New customer has been added',\r\n        exists: 'Already exists!',\r\n        inventory_added: 'New inventory has been added',\r\n        inventory_updated: 'New inventory has been updated',\r\n        purchase_placed: 'Purchase has been placed',\r\n        staff_created: 'Staff has been added',\r\n        level_updated:'Level has been updated',\r\n        staff_deleted: 'Staff member has been deleted',\r\n        inventory_cost: 'Inventory cost has been changed',\r\n        inventory_quantity: 'Inventory quantity has been changed',\r\n        Purchase_not_placed: 'Error placing purchase',\r\n        email_exists: 'Email already exists',\r\n        username_exists: 'Username already exists'\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport chinese from './chinese';\r\nimport english from './english';\r\n\r\nexport const Locale = React.createContext(chinese);\r\n\r\nconst AddLocale = (ComposedComponent) => {\r\n    class Authenticate extends Component {\r\n        state={\r\n            language: english\r\n        }\r\n\r\n        render() {\r\n        return(\r\n            <Locale.Provider value={this.state.language}>\r\n                <Locale.Consumer>{locale=>\r\n                    <ComposedComponent {...this.props} locale={locale} />\r\n                }</Locale.Consumer>\r\n            </Locale.Provider>\r\n        );\r\n      }\r\n    }\r\n    return Authenticate;\r\n  };\r\n   \r\n  export default AddLocale;","export default {\r\n    logout: '',\r\n    settings: '',\r\n    welcomeMsg: ':',\r\n\r\n    btns:{\r\n        back:'',\r\n        next:'',\r\n        clear: '',\r\n        confirm:'',\r\n        cancel: '',\r\n        delete: '',\r\n        submit: 'Submit', \r\n        updateLvl:'Update Level',\r\n        updateQty:'Update Quantity',\r\n        updatePrc:'Update Price',\r\n        emailInvoice:'Email Invoice',\r\n        printInvoice:'Print Invoice'\r\n    },\r\n    mainNav:{\r\n        dashboard:'',\r\n        purchase:'',\r\n        staff:'',\r\n        customer:'',\r\n        inventory:''\r\n    },\r\n    purchase:{\r\n        selectCust: 'Select a customer',\r\n        selectProduct: 'Select a product',\r\n        checkOrder:'Check order',\r\n        completed: 'Completed',\r\n        success:'Success',\r\n        purMsg:'Purchase has been confirmed',\r\n        purRefNo:'Purchase reference number: ',\r\n        ppUnit:'Price per unit',\r\n        qtyAvail:'Quantity available',\r\n        required:'Required',\r\n        ttlPrice:'Total price',\r\n        price: 'price',\r\n        item:'Item',\r\n        qty:'Quantity',\r\n        qtyS:'Qty',\r\n        qtyQuan:'Total Qty',\r\n        total:'Total',\r\n        staffName:'Staff name',\r\n        customerName:'Customer name'\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'Staff Details',\r\n        newStaff:'New Staff',\r\n        LEVEL: ['Basic', 'Junior', 'Advanced', 'Admin'],\r\n        level: 'Level',\r\n        name:'Name',\r\n        email:'Email',\r\n        security:'Security level',\r\n        username:'Username',\r\n        password:'Password',\r\n        repassword:'Re-enter password'\r\n    },\r\n    customer:{\r\n        customerDetails:'Customer Details',\r\n        newCustomer:'New Customer',\r\n        name:'Name',\r\n        email:'Email',\r\n        wechat: 'WeChat',\r\n        phone:'Phone',\r\n        type: 'Customer type',\r\n        CUSTOMERTYPES:['New', 'Current', 'Super', 'Advanced'],\r\n        address:'Address',\r\n        sex:'Sex',\r\n        male:'Male',\r\n        female:'Female',\r\n        dob:'DoB',\r\n        MONTHS:['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'Inventory Details',\r\n        newInventory:'New nventory',\r\n        inventoryStatistics:'Inventory Statistics',\r\n        name:'Product Name',\r\n        type:'Product type',\r\n        description:'description',\r\n        suppDetails: 'Suppliers Details',\r\n        suppName:'Suppliers name',\r\n        suppAdd:'Suppliers Address',\r\n        suppPhone:'Suppliers Phone',\r\n        quantity:'Quantity',\r\n        changeQuantity: 'Change quantity',\r\n        currentQuantity: 'Current quantity',\r\n        costPrice:'Cost price',\r\n        retailPrice:'Retail price',\r\n        profit:'Profit',\r\n        pricing: 'Pricing'\r\n    },\r\n    commonInfo:{\r\n        selected:'Selected: ',\r\n        rmb:'rmb',\r\n        date:'Date',\r\n        time:'Time'\r\n    },\r\n    HELP:{\r\n        name:'Name must contain at least 2 characters',\r\n        email:'Enter a valid email',\r\n        username:'Username must contain at least 8 characters',\r\n        password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n        confirmPass: 'Password does not match',\r\n        phone: 'Must be 11 numbers',\r\n        wechat:'Wechat must contain at least 2 characters'\r\n    }\r\n}","import React from 'react';\r\n\r\nimport {Navbar, Nav, NavDropdown, MenuItem} from 'react-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\n\r\nconst NavBar =({locale, logout, name, level})=>(    \r\n<Navbar inverse collapseOnSelect>\r\n  <Navbar.Header>\r\n    <Navbar.Brand>\r\n      <a href=\"#brand\">Shop Management</a>\r\n    </Navbar.Brand>\r\n    <Navbar.Toggle />\r\n  </Navbar.Header>\r\n  <Navbar.Collapse>\r\n    <Nav pullRight>\r\n      <NavDropdown eventKey={3} title={`${locale.welcomeMsg} ${name} ${locale.staff.level}: ${locale.staff.LEVEL[level]}`} id=\"basic-nav-dropdown\">\r\n        <MenuItem eventKey={3.1}>{locale.settings}</MenuItem>\r\n        <MenuItem divider />\r\n        <MenuItem eventKey={3.3} onClick={()=>logout()}>{locale.logout}</MenuItem>\r\n      </NavDropdown>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n</Navbar>\r\n);\r\n\r\nexport default AddLocale(NavBar);","import {ALERT, RESET_ALERT} from './action_types/notifications';\r\n\r\nexport const setAlert=(msg, typ)=>{\r\n    return (dispatch)=>{\r\n        dispatch(SetTheAlert({msg, typ}));\r\n        setTimeout(()=>{\r\n            dispatch(resetAlert());\r\n        }, 10000);\r\n    }\r\n};\r\n\r\nconst SetTheAlert=(msg)=>({\r\n    type: ALERT,\r\n    payload: {...msg}\r\n});\r\n\r\n\r\nconst resetAlert=()=>({\r\n    type: RESET_ALERT\r\n});","export const DANGER = \"danger\";\r\nexport const SUCCESS = \"success\";","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport NavBar from '../NavBar';\r\n\r\nimport {startLogout} from '../../store/actions/auth';\r\n\r\nclass NavBarContainer extends React.Component{ \r\n\r\n    render(){\r\n        const {name, level} = this.props.user;\r\n        return(\r\n            <div>\r\n                <NavBar logout={this.props.logout} name={name} level={level}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    logout: ()=>dispatch(startLogout())\r\n})\r\n\r\nconst mapStateToProps=(state)=>({\r\n    user: state.auth.staff,\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBarContainer);","import {LOGIN, LOGOUT} from './action_types/auth';\r\nimport {setAlert} from './notification';\r\nimport history from '../../components/history';\r\nimport { DANGER } from '../../style/alert';\r\n\r\n// const URL = 'http://localhost:5000';\r\n\r\nconst login=(data)=>({\r\n    type: LOGIN,\r\n    payload: data\r\n});\r\n\r\nexport const startLogin=(username, password)=>{\r\n    return (dispatch)=>{\r\n        fetch(`/login`,\r\n            {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {'Content-Type': 'application/json'},\r\n                crossdomain: true,\r\n                body: JSON.stringify({username, password})\r\n            }\r\n        ).then(response=>{\r\n            if(response.status===401){\r\n                dispatch(setAlert('unauthorised', DANGER));\r\n                history.replace('/');\r\n            }else{\r\n                return response;\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            dispatch(login(response));\r\n        })\r\n        .then(()=>history.replace('/dashboard'))\r\n        .catch((err)=>{});\r\n    }\r\n};\r\n\r\n\r\nconst logout=()=>({\r\n    type:LOGOUT\r\n});\r\n\r\nexport const startLogout=()=>{\r\n    return(dispatch)=>{\r\n        dispatch(logout());\r\n    };\r\n}\r\n\r\n// 401 unauthorised","import {connect} from 'react-redux';\r\n\r\nconst Security = props =>{\r\n    const test = +props.staffLevel>=+props.level;\r\n    return(\r\n            test===true &&props.children\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staffLevel: state.auth.staff.level\r\n});\r\n\r\nexport default connect(mapStateToProps)(Security);","import React from 'react';\r\nimport {LinkContainer} from 'react-router-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\nimport {Nav, NavItem} from 'react-bootstrap';\r\nimport Security from './login/Security';\r\n\r\nclass TabNavigation extends React.Component {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n  \r\n      this.handleSelect = this.handleSelect.bind(this);\r\n  \r\n      this.state = {\r\n        key: 1\r\n      };\r\n    }\r\n  \r\n    handleSelect(key) {\r\n      this.setState({ key });\r\n    }\r\n  \r\n    render() {\r\n      const {locale} = this.props;\r\n      return (\r\n        <Nav bsStyle=\"tabs\" justified activeKey={this.state.key} onSelect={k => this.handleSelect(k)}>\r\n        \r\n          <LinkContainer to=\"/dashboard\"><NavItem eventKey={1}>{locale.mainNav.dashboard}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/purchase\"><NavItem eventKey={2}>{locale.mainNav.purchase}</NavItem></LinkContainer>\r\n          <Security level={3}><LinkContainer to=\"/staff\"><NavItem eventKey={3}>{locale.mainNav.staff}</NavItem></LinkContainer></Security>\r\n          <LinkContainer to=\"/customer\"><NavItem eventKey={4}>{locale.mainNav.customer}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/inventory\"><NavItem eventKey={5}>{locale.mainNav.inventory}</NavItem></LinkContainer>\r\n\r\n        </Nav>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default AddLocale(TabNavigation);","\r\nexport const validateEmail=(email)=>{\r\n    const re = /^(([^<>().,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase())?true:false;\r\n}\r\n","export const validateName=(name)=>{\r\n    return name.length>1?true:false;\r\n};\r\n\r\n","export const validatePhone=(number)=>{\r\n    const re = /(^[0-9]{11})/;\r\n    return re.test(number)&&number.length===11?true:false;   \r\n}","export const validateUsername=(username)=>{\r\n    return username.length>7?true:false;\r\n}","export const validatePassword=(password)=>{\r\n    const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%&])(?=.{8,})/;\r\n    /**\r\n     * 1 + lowercase\r\n     * 1 + uppercase\r\n     * 1 + number\r\n     * 1 + !@#$%^&*\r\n     * least 8 characters long\r\n     */\r\n    return re.test(String(password));\r\n}","export const confirmPassword=(password, password2)=>{\r\n        return password===password2?true:false;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {FormControl, FormGroup, Button, HelpBlock, Col, Row} from 'react-bootstrap';\r\nimport {validateUsername, validatePassword} from '../validationFunctions/index';\r\nimport {startLogin} from '../../store/actions/auth';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nconst DEFAULTS={\r\n    username: '',\r\n    password: '',\r\n    isUsername: true,\r\n\r\n    userF:false,\r\n    passF:false,\r\n    displayBtn:false    \r\n};\r\n\r\nclass Login extends React.Component{ \r\n    state={\r\n        username: '',\r\n        password: '',\r\n        isUsername: true,\r\n\r\n        userF:false,\r\n        passF:false,\r\n        displayBtn:false\r\n    };\r\n\r\n    validateLocalUsername=()=>{\r\n    if(this.state.userF){\r\n            if(this.state.username.length>8){\r\n                this.setState({displayBtn:true});\r\n            }\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false, displayBtn:true});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    userChange=val=>{\r\n        this.setState({\r\n            username:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validateUsername(this.state.username)});\r\n        });\r\n    };\r\n\r\n    passChange=val=>{\r\n        this.setState({\r\n            password:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validatePassword(this.state.password)});\r\n        });\r\n    };\r\n\r\n    displayUsername = ()=>(\r\n            <div>\r\n                <h1>ShangNaDavid</h1>\r\n                <h2>{this.props.locale.staff.username}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <FormControl type=\"Username\" placeholder={this.props.locale.staff.username} value={this.state.username} onChange={val=>this.userChange(val)}/>\r\n                                {this.state.userF && <HelpBlock>{this.props.locale.HELP.username}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n\r\n    displayPassword = ()=>(\r\n            <div>\r\n                <h2>{this.props.locale.staff.password}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <FormControl type=\"Password\" placeholder={this.props.locale.staff.password} value={this.state.password} onChange={val=>this.passChange(val)}/>\r\n                                {this.state.passF && <HelpBlock>{this.props.locale.HELP.password}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n\r\n\r\n    btnOnClick=()=>{\r\n        if(this.state.isUsername){\r\n            this.setState({isUsername:false, displayBtn:false, userF:false, passF:false,});\r\n        }else{\r\n            this.props.startLogin(this.state.username, this.state.password);\r\n        }\r\n    }\r\n\r\n    cancel=()=>{\r\n        this.setState({\r\n            ...DEFAULTS\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"container\"><Row>\r\n                {this.state.isUsername? this.displayUsername() : this.displayPassword()}\r\n                {this.state.displayBtn &&\r\n                    <div>\r\n                        <Row>\r\n                            <Col sm={4}>\r\n                                <Button bsStyle=\"info\" onClick={()=>{this.btnOnClick()}} block>\r\n                                    Next\r\n                                </Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </div>\r\n                }\r\n                </Row>\r\n                <Row>\r\n                <Col sm={4}>\r\n                    <br/>\r\n                    <Button bsStyle=\"warning\" onClick={()=>{this.cancel()}} block>\r\n                        Cancel\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    startLogin : (username, password)=>dispatch(startLogin(username, password))\r\n});\r\n\r\n// export default Login;\r\nexport default connect(undefined, mapDispatchToProps)(AddLocale(Login));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst IsAuth = props =>(\r\n        <div>\r\n        {\r\n            props.token && props.children\r\n        }\r\n        </div>\r\n)\r\n\r\nconst mapStateToProps=(state)=>({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(IsAuth);","import React from 'react';\r\n\r\nexport default ()=>(\r\n    <div>A Message from the dashboard</div>\r\n)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Alert} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass AlertBar extends React.Component{ \r\n\r\n    findMsg=(msg)=>{\r\n        return this.props.locale.ALERTS.filter(x=>x===msg);\r\n    }\r\n\r\n    render(){\r\n        const {msg, typ}=this.props.alert;\r\n        const {locale} = this.props;\r\n        return(\r\n            <div>\r\n            {msg&&\r\n                <Alert bsStyle={typ}>\r\n                    <p>\r\n                        {locale.ALERTS[msg]}\r\n                    </p>\r\n                </Alert>\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    alert : state.alert\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddLocale(AlertBar));","import React from 'react';\r\nimport {Alert} from 'react-bootstrap';\r\n\r\n\r\nexport default ()=>( \r\n            <div>\r\n                <Alert bsStyle='info'>\r\n                    <h2>\r\n                        DEVELOPMENT\r\n                    </h2>\r\n            </Alert>\r\n        </div>\r\n);","import React from 'react';\r\nimport {\r\n    HelpBlock, Form, FormControl, FormGroup, Col, Row, ControlLabel, Button, InputGroup, DropdownButton, MenuItem, ButtonToolbar\r\n} from 'react-bootstrap';\r\nimport {validateEmail, validateName, validateUsername, validatePassword, confirmPassword} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DEFAULTSTATE= {\r\n    name:'',\r\n    level: 0,\r\n    username:'',\r\n    email:'',\r\n    password:'',\r\n    password2:'',\r\n\r\n    nameF:false,\r\n    emailF:false,\r\n    userF:false,\r\n    passF:false,\r\n    passC:false,\r\n    levelF: true\r\n};\r\n\r\nclass StaffForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        level: 0,\r\n        username:'',\r\n        email:'',\r\n        password:'',\r\n        password2:'',\r\n\r\n        nameF:false,\r\n        emailF:false,\r\n        userF:false,\r\n        passF:false,\r\n        passC:false,\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, level, username, email, password} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({name, level, username, email, password});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n            validateEmail(this.state.email) &&\r\n            validateUsername(this.state.username) &&\r\n            validatePassword(this.state.password)?true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalUsername=()=>{\r\n        if(this.state.userF){\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    confirmLocalPassword=()=>{\r\n        const {password, password2}=this.state;\r\n\r\n        if(this.state.passC && password2.length===0){\r\n            return \"error\";\r\n        }else if(this.state.passC){\r\n            const con = confirmPassword(password, password2);\r\n            con&&this.setState({passC:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }    \r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n        <div>\r\n            <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                    {locale.staff.name}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Text\" placeholder={locale.staff.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                    {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col xs={2} smOffset={2}>\r\n                        <ButtonToolbar>\r\n                            <DropdownButton\r\n                                componentClass={InputGroup.Button}\r\n                                id=\"input-dropdown-addon\"\r\n                                title=\"Security Level\"\r\n                                key={this.state.level}\r\n                                onSelect={(eventKey=>this.setState({level:eventKey}))}\r\n                            >\r\n                                {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} active>{item}</MenuItem>)}\r\n\r\n                            </DropdownButton>\r\n                        </ButtonToolbar>\r\n                    </Col>\r\n                    <Col xs={4} xsOffset={2} smOffset={0}>\r\n                        <h5>{`${locale.commonInfo.selected} ${locale.staff.LEVEL[parseInt(this.state.level)]}`}</h5>\r\n                    </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.email}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Email\" placeholder={locale.staff.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                    {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.username}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Username\" placeholder={locale.staff.username} value={this.state.username} onChange={val=>this.setState({username:val.target.value})}/>\r\n                    {this.state.userF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n                \r\n                <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.password}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.password} value={this.state.password} onChange={val=>this.setState({password:val.target.value})}/>\r\n                    {this.state.passF && <HelpBlock>{locale.HELP.password}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalConfirmPassword\" validationState={this.confirmLocalPassword()} onBlur={()=>this.setState({passC:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.repassword}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.repassword} value={this.state.password2} onChange={val=>this.setState({password2:val.target.value})}/>\r\n                    {this.state.passC && <HelpBlock>{locale.HELP.confirmPass}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                        <Col smOffset={2} sm={2}>\r\n                            <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                        </Col>\r\n                        <Col sm={2}>\r\n                            <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n            </Form>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(StaffForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nconst DisplayStaff = ({staff, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{staff.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.staff.level}: ${locale.staff.LEVEL[staff.level]}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.staff.email}: ${staff.email}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayStaff);","import React from 'react';\r\nimport {Col, Row, Button, InputGroup, MenuItem, DropdownButton} from 'react-bootstrap';\r\nimport DisplayStaff from '../presentational/DisplayStaff';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass UpdateStaffLevelForm extends React.Component{ \r\n    state={\r\n        name: this.props.staff.name,\r\n        level: +this.props.staff.level\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.staff.name){\r\n            return{\r\n                level: +nextProps.staff.level, \r\n                name:nextProps.staff.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {staff, onUpdateLevel, deleteStaff, locale, userName} = this.props;\r\n        const {level} = this.state;\r\n        const origLevel =+staff.level;\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayStaff staff={staff} />\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col sm={5}>\r\n                    <InputGroup>\r\n                    <DropdownButton\r\n                      componentClass={InputGroup.Button}\r\n                      id=\"input-dropdown-addon\"\r\n                      title=\"Update Security Level\"\r\n                      eventKey={level}\r\n                      onSelect={(eventKey=>this.setState({level:+eventKey}))}\r\n                      block\r\n                    >\r\n                        {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} key={val} active={val===level?true:false}>{item}</MenuItem>)}\r\n                    </DropdownButton>\r\n                  </InputGroup>\r\n                  </Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Col sm={5}>\r\n                  {userName!==staff.name&&<Button bsStyle=\"success\" disabled={level===origLevel&&true} onClick={()=>onUpdateLevel(level)} block> {level===origLevel?locale.staff.LEVEL[level] : `${locale.btns.updateLvl} ${locale.staff.LEVEL[level]}`}</Button>}\r\n                  {userName!==staff.name&&<Button bsStyle=\"danger\" onClick={()=>deleteStaff()}>{locale.btns.delete}</Button>}\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(UpdateStaffLevelForm);","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport StaffForm from '../forms/StaffForm';\r\nimport UpdateStaffLevelForm from '../forms/UpdateStaffLevelForm';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\n\r\nclass StaffSubTabs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 1\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {staff, locale}=this.props;\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.staff.staffDetails}>\r\n              {staff!=null&&<UpdateStaffLevelForm {...this.props}/>}\r\n            </Tab>\r\n            <Tab eventKey={2} title={locale.staff.newStaff}>\r\n              <Security level={3}>\r\n                {<StaffForm onSubmit={this.props.onSubmit}/>}\r\n              </Security>\r\n            </Tab>\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(StaffSubTabs);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\n\r\nexport default ({name, getStaff, id, iselected}) => (\r\n  <div onClick={val=>getStaff(id)}>\r\n    <Panel bsStyle={iselected?\"success\":\"info\"}>\r\n      <Panel.Heading>{name}</Panel.Heading>\r\n    </Panel>\r\n  </div>\r\n);\r\n","import {fetchAllStaff} from '../actions/staff';\r\nimport {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\nimport axios from 'axios';\r\n\r\nexport const fetchStaff=()=>{\r\n    return (dispatch, getState)=>{\r\n        return axios({\r\n            method: 'get',\r\n            url: `/staff/all`,\r\n            headers:{\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        // .then(response=>response.json())\r\n        .then(response=>{\r\n            console.log(response);\r\n            // if(response.err){\r\n            //     console.log(response.err);\r\n            //     if(response.err.errmsg){\r\n            //         dispatch(setAlert(response.err.errmsg, DANGER));\r\n            //     } else{\r\n            //         dispatch(setAlert(response.err, DANGER));\r\n            //     }\r\n            // } else{\r\n\r\n            //     dispatch(fetchAllStaff(response.allStaff));\r\n            // }\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n            // dispatch(setAlert(err, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\nexport const createStaff=(values)=>{\r\n    console.log('in createStaff');\r\n    return (dispatch, getState)=>{\r\n        console.log('just before signup');\r\n        return fetch(`/signup`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>console.log(response.json()))\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(setAlert('staff_created', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch((err)=>{\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateLevel=(id, level)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/staff`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id, data: {level}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('level_updated', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const deleteStaffMember=(id)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/staff`,{\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id})\r\n        })\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('staff_deleted',SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport StaffSubTabs from '../presentational/StaffSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport {fetchStaff, createStaff, updateLevel, deleteStaffMember} from '../../store/helpers/staffFetchers';\r\n\r\n\r\n\r\nclass StaffContainer extends React.Component{ \r\n    state={\r\n        allStaff:[],\r\n        selectedStaff:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.staff !== prevState.allStaff){\r\n            return {\r\n                allStaff: nextProps.staff,\r\n                selectedStaff: nextProps.staff[0]\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.allStaff();\r\n    }\r\n    \r\n\r\n    getStaff=(id)=>{\r\n        const staff = this.state.allStaff.filter(temp=>temp._id===id);\r\n        this.setState({selectedStaff:staff[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedStaff==null){\r\n            return false;\r\n        }else if(id===this.state.selectedStaff._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n/***TODO:\r\n *  \r\n *  update secutity level\r\n *  block the account\r\n *  if account blocked, unblock it\r\n *  show blocked accounts in red\r\n *  filter \r\n * \r\n *  submit newly created staff\r\n *  clear new staff form\r\n */\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createStaff(values);\r\n    }\r\n\r\n    onUpdateLevel=(newLevel)=>{\r\n        this.props.updateLevel(this.state.selectedStaff._id, newLevel);\r\n    }\r\n\r\n    deleteStaff=()=>{\r\n        this.props.deleteStaffMember(this.state.selectedStaff._id);\r\n    }\r\n\r\n    render(){\r\n        const {allStaff}=this.state;\r\n        return(\r\n        <div>\r\n            <Col sm={2}>\r\n            {allStaff.length>0&&allStaff.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <StaffSubTabs userName={this.props.name} staff={this.state.selectedStaff} deleteStaff={this.deleteStaff} onSubmit={this.onSubmit} onUpdateLevel={this.onUpdateLevel}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    staff: state.staff\r\n})\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    allStaff: ()=>dispatch(fetchStaff()),\r\n    createStaff: (values)=>dispatch(createStaff(values)),\r\n    updateLevel: (level, id)=>dispatch(updateLevel(level, id)), \r\n    deleteStaffMember: (id)=>dispatch(deleteStaffMember(id))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StaffContainer);","export const HELP={\r\n    name:'Name must contain at least 2 characters',\r\n    email:'Enter a valid email',\r\n    username:'Username must contain at least 8 characters',\r\n    password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n    confirmPass: 'Password does not match',\r\n    phone: 'Must be 11 numbers',\r\n    wechat:'Wechat must contain at least 2 characters'\r\n};\r\n\r\n\r\nexport const LEVEL=['Basic', 'Junior', 'Advanced', 'Admin'];\r\n\r\nexport const CUSTOMERTYPES=['new', 'current', 'super', 'god like'];\r\n\r\nexport const MONTHS=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col,ControlLabel, Button, HelpBlock, Row, Radio\r\n} from 'react-bootstrap';\r\n\r\nimport {validateEmail, validateName, validatePhone, validateUsername} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {MONTHS} from '../defaultStates';\r\n\r\nconst DEFAULTSTATE ={\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    wechat:'',\r\n    dob:'',\r\n    sex: true,     //true=male, false=female\r\n    address:'',\r\n    type: 0,\r\n\r\n    day:1,\r\n    month:0,\r\n    year:1945,\r\n\r\n    nameF: false,\r\n    emailF: false,\r\n    phoneF: false,\r\n    wechatF: false,\r\n    addF: false\r\n    \r\n}\r\n\r\nclass CustomerForm extends React.Component{ \r\n    state={\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        wechat:'',\r\n        dob:'',\r\n        sex: true,     //true=male, false=female\r\n        address:'',\r\n        type: 0,\r\n\r\n        day:1,\r\n        month:0,\r\n        year:1945,\r\n    \r\n        nameF: false,\r\n        emailF: false,\r\n        phoneF: false,\r\n        wechatF: false,\r\n        addF: false\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, email, phone, wechat, type, sex, address, day, month, year} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            const dob = new Date(year, month, day);\r\n            this.props.onSubmit({name, email, phone, wechat, type, dob, sex, address});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name)&&\r\n        validateName(this.state.wechat)&&\r\n        validateEmail(this.state.email)&&\r\n        validatePhone(this.state.phone)? true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalWechat=()=>{\r\n        if(this.state.wechatF){\r\n            const con = validateName(this.state.wechat);\r\n            con&&this.setState({wechatF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalAddress=()=>{\r\n        if(this.state.addF){\r\n            const con = validateUsername(this.state.address);\r\n            con&&this.setState({addF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n    validateLocalPhone=()=>{\r\n        if(this.state.phoneF){\r\n            const con = validatePhone(this.state.phone);\r\n            con&&this.setState({phoneF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }  \r\n\r\n    calculateDays=()=>{\r\n        const {month}=this.state;\r\n        const thirty = [3, 5, 8, 10];\r\n        const thirty1= [0, 2, 4, 6, 7, 9, 11];\r\n        let limit=0;\r\n\r\n        if(thirty.includes(month)){\r\n            limit=30;\r\n        } else if(thirty1.includes(month)){\r\n            limit=31;\r\n        } else{\r\n            limit=28;\r\n        }\r\n\r\n        let temp=[];\r\n        \r\n        for (let i = 0; i < limit; i++) { \r\n            temp.push(i);\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    createYears=()=>{\r\n        let temp=[];\r\n        const limit=new Date().getFullYear();\r\n        for (let i = 1945; i < limit+1; i++) { \r\n            temp.push(i);\r\n        }\r\n        return temp;\r\n    }\r\n\r\n\r\n    render(){\r\n        const DAYS = this.calculateDays();\r\n        const YEARS = this.createYears();\r\n        const {locale} = this.props;\r\n        \r\n        return(\r\n            <div>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n\r\n    <Row>\r\n        <Col xs={6}>\r\n                    <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.name}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                        {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.email}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Email\" placeholder={locale.customer.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                        {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalPhone\" validationState={this.validateLocalPhone()} onBlur={()=>this.setState({phoneF:true})} onFocus={()=>this.setState({phoneF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.phone}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Number\" placeholder={locale.customer.phone} value={this.state.phone} onChange={val=>this.setState({phone:val.target.value})}/>\r\n                        {this.state.phoneF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n                    \r\n                    <FormGroup controlId=\"formHorizontalWechat\" validationState={this.validateLocalWechat()} onBlur={()=>this.setState({wechatF:true})} onFocus={()=>this.setState({wechatF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.wechat}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.wechat} value={this.state.wechat} onChange={val=>this.setState({wechat:val.target.value})}/>\r\n                        {this.state.wechatF && <HelpBlock>{locale.HELP.wechat}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col xs={4} smOffset={1}>\r\n                                <FormControl componentClass=\"select\" placeholder=\"select\" onChange={(val=>this.setState({type:val.target.value}))}>\r\n                                    {locale.customer.CUSTOMERTYPES.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                                </FormControl>\r\n                            </Col>\r\n                            <Col xs={4} xsOffset={1} smOffset={1}>\r\n                                <h5>{`Selected ${locale.customer.CUSTOMERTYPES[parseInt(this.state.type)]}`}</h5>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n            </Col>\r\n\r\n            <Col xs={6}>\r\n                <FormGroup controlId=\"formHorizontalAddress\" validationState={this.validateLocalAddress()} onBlur={()=>this.setState({addF:true})} onFocus={()=>this.setState({addF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.address}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.address} value={this.state.address} onChange={val=>this.setState({address:val.target.value})}/>\r\n                        {this.state.addF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalSex\">\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        Sex\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <Radio name=\"radioGroup\" defaultChecked inline onChange={val=>this.setState({sex:true})}>\r\n                            {locale.customer.male}\r\n                        </Radio>{' '}\r\n                        <Radio name=\"radioGroup\" inline onChange={val=>this.setState({sex:false})}>\r\n                            {locale.customer.female}\r\n                        </Radio>{' '}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        DoB\r\n                    </Col>\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({month:val.target.value})}> \r\n                                {MONTHS.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({day:val.target.value+1})}>\r\n                                {DAYS.map((item, val)=><option value={val} key={val}>{item+1}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({year:val.target.value})}>\r\n                                {YEARS.map((item, val)=><option value={item} key={val}>{item}</option>)}\r\n                            </FormControl>                            \r\n                        </Col>\r\n\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n            <Col xs={12}>\r\n\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col smOffset={2} sm={4}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(CustomerForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DisplayCustomer = ({customer, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{customer.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.customer.phone}: ${customer.phone}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.wechat}: ${customer.wechat}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.email}: ${customer.email}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.type}: ${locale.customer.CUSTOMERTYPES[customer.customerType]}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayCustomer);","import React from 'react';\r\nimport {Col, Row} from 'react-bootstrap';\r\nimport DisplayCustomer from '../presentational/DisplayCustomer';\r\n\r\n\r\nclass ViewCustomerDetails extends React.Component{ \r\n    state={\r\n        name: this.props.customer.name\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.customer.name){\r\n            return{\r\n                name:nextProps.customer.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {customer} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayCustomer customer={customer} />\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default ViewCustomerDetails;","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport CustomerForm from '../forms/CustomerForm';\r\nimport ViewCustomerDetails from '../forms/ViewCustomerDetails';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\n\r\nclass CustSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {customer, locale}=this.props;\r\n\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.customer.customerDetails}>\r\n              {customer!=null&&<ViewCustomerDetails {...this.props}/>}\r\n            </Tab>\r\n\r\n\r\n            \r\n              <Tab eventKey={2} title={locale.customer.newCustomer}>\r\n                <Security level={3}>\r\n                  <CustomerForm onSubmit={this.props.onSubmit}/>\r\n                </Security>\r\n              </Tab>\r\n            \r\n\r\n\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(CustSubTabs);","import {setAlert} from '../actions/notification';\r\nimport {fetchAllCustomers} from '../actions/customers';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\nexport const fetchCustomers=()=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/customer/all`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchAllCustomers(response));\r\n            }\r\n\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const createCustomer=(values)=>{\r\n    return (dispatch,getState)=>{\r\n        return fetch(`/customer`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchCustomers());\r\n                dispatch(setAlert('customer_added',SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>{}); \r\n    }\r\n};","import {FETCH_CUSTOMERS} from './action_types/customers';\r\n\r\nexport const fetchAllCustomers=(payload)=>({\r\n    type: FETCH_CUSTOMERS,\r\n    payload\r\n})","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport CustSubTabs from '../presentational/CustSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport { fetchCustomers, createCustomer } from '../../store/helpers/customerFetchers';\r\n\r\n\r\nclass CustomerContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        selectedCust:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.customers !== prevState.allCust){\r\n            const x = nextProps.customers.length;\r\n            return {\r\n                allCust: nextProps.customers,\r\n                selectedCust: x>0?nextProps.customers[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n    }\r\n\r\n    getStaff=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({selectedCust:cust[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedCust==null){\r\n            return false;\r\n        }else if(id===this.state.selectedCust._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createCustomer(values, this.props.token)\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Customer ${this.state.selectedCust.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    deleteCustomer=()=>{\r\n        alert(`Will delete ${this.state.selectedCust.name}`)\r\n    }\r\n\r\n    render(){\r\n        const {allCust} = this.state;\r\n        return(\r\n        <div>\r\n            <Col sm={2}>\r\n                {allCust.length>0&&allCust.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <CustSubTabs customer={this.state.selectedCust} deleteCustomer={this.deleteCustomer} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    customers: state.customers\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    createCustomer: (values)=>dispatch(createCustomer(values))\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomerContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst BasicInventoryDetails = (props) =>{\r\n    const {productType, name, description, quantity, retailPrice}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{name}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.type}</Col>\r\n                            <Col md={8}>{productType}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.description}</Col>\r\n                            <Col md={8}>{description}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.quantity}</Col>\r\n                            <Col md={8}>{quantity}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.retailPrice}</Col>\r\n                            <Col md={8}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                        </Row>                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(BasicInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass RestrictedInventoryDetails extends React.Component{\r\n    state={\r\n        newPrice: 0\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changePrice, locale} = this.props;\r\n        const {costPrice, retailPrice}=inventory;\r\n        return (\r\n            <div>\r\n                <Col>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Heading><b>{locale.inventory.pricing}</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.costPrice}:</Col>\r\n                                <Col md={8}>{costPrice} rmb</Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        </Security>\r\n\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.retailPrice}:</Col>\r\n                                <Col md={4}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalName\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newPrice} onChange={event=>this.setState({newPrice: event.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" block onClick={()=>changePrice(this.state.newPrice)}>{locale.btns.updatePrc}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        \r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.profit}:</Col>\r\n                                <Col md={8}>{retailPrice-costPrice} {locale.commonInfo.rmb}</Col>\r\n                            </Row>\r\n                        </Security>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddLocale(RestrictedInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst requireStyle=(quantity)=>{\r\n    if(quantity===0){\r\n        return \"danger\"\r\n    } else if(quantity < 10){\r\n        return \"warning\"\r\n    } else {\r\n        return \"success\";\r\n    }\r\n}\r\n\r\nclass InventoryChangeQuantity extends React.Component{\r\n    state={\r\n        newQty:1\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changeQuantity, locale} = this.props;\r\n        const {quantity}=inventory;\r\n        return (\r\n            <Col>\r\n                <Panel bsStyle={requireStyle(quantity)}>\r\n                    <Panel.Heading><b>{locale.inventory.changeQuantity}:</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.currentQuantity}:</Col>\r\n                                <Col md={4}>{quantity}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalQty\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newQty} onChange={val=>this.setState({newQty: val.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" block onClick={()=>changeQuantity(this.state.newQty)}>{locale.btns.updateQty}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        )\r\n    };\r\n};\r\n\r\nexport default AddLocale(InventoryChangeQuantity);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst SupplierDetails = (props) =>{\r\n    const {supplierName, supplierAddress, supplierPhone}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{locale.inventory.suppDetails}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.suppName}:</Col>\r\n                            <Col md={8}>{supplierName}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppPhone}:</Col>\r\n                            <Col md={8}>{supplierPhone}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppAdd}:</Col>\r\n                            <Col md={8}>{supplierAddress}</Col>\r\n                        </Row>\r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(SupplierDetails);","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col, Row,ControlLabel, Button, HelpBlock\r\n} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {validateName, validatePhone} from '../validationFunctions/index';\r\n\r\n\r\nconst DEFAULT={\r\n    name:'',\r\n    type:'',\r\n    description: '',\r\n    supplierName: '',\r\n    supplierPhone:'',\r\n    supplierAddress:'',\r\n    quantity: 1,\r\n    costPrice: 1,\r\n    retailPrice: 2,\r\n\r\n    nameF:false,\r\n    typeF:false,\r\n    descF: false,\r\n    supNF: false,\r\n    supPF: false,\r\n    supAF: false\r\n};\r\n\r\nclass InventoryForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        productType:'',\r\n        description: '',\r\n        supplierName: '',\r\n        supplierPhone:'',\r\n        supplierAddress:'',\r\n        quantity: 1,\r\n        costPrice: 1,\r\n        retailPrice: 2,\r\n\r\n        nameF:false,\r\n        typeF:false,\r\n        descF: false,\r\n        supNF: false,\r\n        supPF: false,\r\n        supAF: false\r\n    }\r\n\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalType=()=>{\r\n        if(this.state.typeF){\r\n            const con = validateName(this.state.productType);\r\n            con&&this.setState({typeF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSName=()=>{\r\n        if(this.state.supNF){\r\n            const con = validateName(this.state.supplierName);\r\n            con&&this.setState({supNF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSNumber=()=>{\r\n        if(this.state.supPF){\r\n            const con = validatePhone(this.state.supplierPhone);\r\n            con&&this.setState({supPF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSAddress=()=>{\r\n        if(this.state.supAF){\r\n            const con = validateName(this.state.supplierAddress);\r\n            con&&this.setState({supAF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>this.setState({...DEFAULT});\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {\r\n            name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n            quantity, costPrice, retailPrice\r\n        } = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({\r\n                name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n                quantity, costPrice, retailPrice\r\n            });\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n        validateName(this.state.productType)&&\r\n        validateName(this.state.supplierName)&&\r\n        validatePhone(this.state.supplierPhone)&&\r\n        validateName(this.state.supplierAddress)?true:false;\r\n    }\r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n            <div>\r\n                <hr/>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                        <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.name}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                                {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalType\" validationState={this.validateLocalType()} onBlur={()=>this.setState({typeF:true})} onFocus={()=>this.setState({typeF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.type}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.type} value={this.state.productType} onChange={val=>this.setState({productType:val.target.value})}/>\r\n                                {this.state.typeF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalDescription\">\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.description}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.description} value={this.state.description} onChange={val=>this.setState({description:val.target.value})}/>\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSName\" validationState={this.validateLocalSName()} onBlur={()=>this.setState({supNF:true})} onFocus={()=>this.setState({supNF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppName}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.supName} value={this.state.supplierName} onChange={val=>this.setState({supplierName:val.target.value})}/>\r\n                                    {this.state.supNF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSPhone\" validationState={this.validateLocalSNumber()} onBlur={()=>this.setState({supPF:true})} onFocus={()=>this.setState({supPF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppPhone}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Number\" placeholder={locale.inventory.suppPhone} value={this.state.supplierPhone} onChange={val=>this.setState({supplierPhone:val.target.value})}/>\r\n                                    {this.state.supPF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSAddress\" validationState={this.validateLocalSAddress()} onBlur={()=>this.setState({supAF:true})} onFocus={()=>this.setState({supAF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppAdd}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.suppAdd} value={this.state.spplierA} onChange={val=>this.setState({supplierAddress:val.target.value})}/>\r\n                                    {this.state.supAF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                    </Row>\r\n                    <hr/>\r\n                    <Row>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalQuantity\">\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                {locale.inventory.quantity}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.quantity} value={this.state.quantity} onChange={val=>this.setState({quantity:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalCost\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.costPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={this.state.costPrice} value={this.state.costPrice} onChange={val=>this.setState({costPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n \r\n                            <FormGroup controlId=\"formHorizontalRetail\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.retailPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.retailPrice} value={this.state.retailPrice} onChange={val=>this.setState({retailPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>\r\n                            <Row>\r\n                                <Col componentClass={ControlLabel} xs={6} smPull={2}>\r\n                                    {locale.inventory.profit} {+this.state.retailPrice-+this.state.costPrice} {locale.commonInfo.rmb}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col xsOffset={3} xs={2}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </Form>            \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AddLocale(InventoryForm);\r\n\r\n\r\n","import React from 'react';\r\nimport {Tab, Tabs, Row, Col} from 'react-bootstrap';\r\n\r\nimport BasicInventoryDetails from './BasicInventoryDetails';\r\nimport RestrictedInventoryDetails from './RestrictedInventoryDetails';\r\nimport InventoryChangeQuantity from './InventoryChangeQuantity';\r\nimport SuppliersDetails from './SuppliersDetails';\r\n\r\nimport InventoryForm from '../forms/InventoryForm';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass InvenSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {inventory, locale}=this.props;\r\n\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.inventory.inventoryDetails}>\r\n              <Row>\r\n                  <Col sm={6}>\r\n                    {inventory.length>0&&<BasicInventoryDetails {...this.props}/>}\r\n                  </Col>\r\n\r\n                  <Security level={3}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<SuppliersDetails {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n\r\n                </Row>\r\n                <Row>\r\n                  <Security level={2}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<InventoryChangeQuantity {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n\r\n                  <Security level={2}>\r\n                    <Col sm={6}>\r\n                      {inventory.length>0&&<RestrictedInventoryDetails {...this.props}/>}\r\n                    </Col>\r\n                  </Security>\r\n              </Row>\r\n            </Tab>\r\n            \r\n              <Tab eventKey={2} title={locale.inventory.inventoryStatistics}>\r\n            <Security level={3}>\r\n              <div>\r\n                <h2>COMING SOON!!!</h2>\r\n                <h3>graphs and details about the actual sales</h3>\r\n              </div>\r\n            </Security>\r\n              </Tab>\r\n            \r\n              <Tab eventKey={3} title={locale.inventory.newInventory}>\r\n            <Security level={3}>\r\n                {<InventoryForm {...this.props}/>}\r\n            </Security>\r\n              </Tab>\r\n          \r\n          \r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(InvenSubTabs);","import {setAlert} from '../actions/notification';\r\nimport {fetchAllInventory} from '../actions/inventory';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\n\r\nexport const fetchInventory=()=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            }else {\r\n                const temp = response.sort((a, b)=>{\r\n                    const x = a.quantity;\r\n                    const y = b.quantity;\r\n                    return ((x > y) ? -1 : ((x < y) ? 1 : 0));\r\n                });\r\n\r\n                dispatch(fetchAllInventory(temp));\r\n\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const updateInventory=(data, id)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify({id, data: {...data}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_updated', SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const addInventory=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/inventory`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        .then(res=>console.log(res))\r\n        .then(res=>console.log(res.json())\r\n        .then(res=>res.json())\r\n        ).then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_added', SUCCESS));\r\n            }\r\n        })\r\n        .catch(err=>{}));\r\n    }\r\n}","import {FETCH_INVENTORY} from './action_types/inventory';\r\n\r\nexport const fetchAllInventory = (payload)=>({\r\n    type: FETCH_INVENTORY,\r\n    payload\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col, Row} from 'react-bootstrap';\r\n\r\nimport InvenSubTabs from '../presentational/InvenSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\n\r\nimport {updateInventory, addInventory, fetchInventory} from '../../store/helpers/inventoryFetchers';\r\n\r\nclass InventoryContainer extends React.Component{ \r\n    state={\r\n        allInven:[],\r\n        selectedInven: ''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.inventory !== prevState.allInven){\r\n            const x = nextProps.inventory.length;\r\n            return {\r\n                allInven: nextProps.inventory,\r\n                selectedInven: x>0?nextProps.inventory[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n    getInventory=(id)=>{\r\n        const inven = this.state.allInven.filter(temp=>temp._id===id);\r\n        this.setState({selectedInven:inven[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedInven==null){\r\n            return false;\r\n        }else if(id===this.state.selectedInven._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.addInventory(values, this.props.token).catch(err=>console.log(err));\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Inventory ${this.state.selectedInven.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    onDelete=()=>{\r\n        alert(`Will delete ${this.state.selectedInven.name}`)\r\n    }\r\n\r\n    changePrice=(newPrice)=>{\r\n        this.update({retailPrice: newPrice});\r\n    }\r\n\r\n    changeQuantity=(quantity)=>{\r\n        this.update({quantity});\r\n    }\r\n\r\n    update=(data)=>{\r\n        this.props.updateInventory(data, this.state.selectedInven._id, this.props.token);\r\n    }\r\n\r\n\r\n    render(){\r\n        const {allInven} = this.state;\r\n        return(\r\n        <div>\r\n            <Row>\r\n                <Col sm={2}>\r\n                    {allInven.length>0&&allInven.map(item=><StaffItem name={item.name} getStaff={this.getInventory} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n                </Col>\r\n                <Col sm={10}>\r\n                    <InvenSubTabs inventory={this.state.selectedInven} changeQuantity={this.changeQuantity} changePrice={this.changePrice} onDelete={this.onDelete} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    inventory: state.inventory\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    updateInventory: (data, id)=>dispatch(updateInventory(data, id)), \r\n    addInventory: (data)=>dispatch(addInventory(data)),\r\n    fetchInventory: ()=>dispatch(fetchInventory())\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InventoryContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst CustomerItem = ({title, phone, wechat, id, setCustomer, selected, locale}) =>(\r\n    <div onClick={(value)=>setCustomer(id)}>\r\n        <Col md={4}>\r\n            <Panel bsStyle={selected?\"success\":\"info\"}>\r\n                <Panel.Heading><b>{title}</b></Panel.Heading>\r\n                <Panel.Body>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.phone}</Col>\r\n                        <Col md={1}>{phone}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.wechat}</Col>\r\n                        <Col md={1}>{wechat}</Col>                            \r\n                    </Row>\r\n                </Panel.Body>\r\n            </Panel>\r\n        </Col>\r\n    </div>\r\n);\r\n\r\nexport default AddLocale(CustomerItem);","import React from 'react';\r\nimport CustomerItem from './CustomerItem';\r\n\r\n\r\n//TODO: fix the layout so it is in rows and each panel has been restrcted\r\n\r\nexport default ({list, setCustomer, selected, locale})=>(\r\n    <div>\r\n        {list.map(item=><CustomerItem \r\n            title={item.name} \r\n            phone={item.phone} \r\n            wechat={item.wechat} \r\n            key={item._id} \r\n            id={item._id} \r\n            setCustomer={setCustomer} \r\n            selected={selected._id===item._id?true:false}\r\n        />)}\r\n    </div>\r\n);\r\n\r\n\r\n//TODO: sort the inventory by quantity\r\n","import React from 'react';\r\nimport {Panel, FormControl, FormGroup, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass InventoryItem extends React.Component{ \r\n\r\n    state= {\r\n        cost: this.props.price,\r\n        quantity:this.props.quantity,\r\n        requiredQuantity: 0,\r\n    };\r\n\r\n    increment=()=>{\r\n        const newReq = this.state.requiredQuantity+1;\r\n        const newQuantity = this.state.quantity-1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    decrement=()=>{\r\n        const newReq = this.state.requiredQuantity-1;\r\n        const newQuantity = this.state.quantity+1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    changePrice=(e)=>{\r\n        const newPrice = e.target.value;\r\n        this.setState({cost:newPrice}, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        })\r\n    }\r\n    \r\n    requireStyle=()=>{\r\n        const {quantity}=this.props;\r\n        if(quantity===0){\r\n            return \"danger\"\r\n        } else if(quantity < 10){\r\n            return \"warning\"\r\n        } else {\r\n            return \"success\";\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {title, description, price, quantity, locale} = this.props;\r\n        return(\r\n            <div>\r\n                <Col md={6}>\r\n                <Panel bsStyle={this.requireStyle()}>\r\n                    <Panel.Heading>{title}</Panel.Heading>\r\n                    <Panel.Body>\r\n                        {description}<br/><br/>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ppUnit}:</b></Col>{price}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.qtyAvail}:</b></Col> {this.state.quantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.required}:</b></Col> {this.state.requiredQuantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ttlPrice}:</b></Col> {this.state.cost*this.state.requiredQuantity} {locale.commonInfo.rmb}</Row>\r\n                        <Row>{\r\n                            quantity>0&&\r\n                            <div>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity<quantity&&<Button bsStyle=\"info\" onClick={this.increment}>+</Button>}\r\n                                </Col>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity>0&&<Button bsStyle=\"warning\" onClick={this.decrement}>-</Button>}\r\n                                </Col>\r\n                            </div>\r\n                        }</Row>\r\n                        {quantity>0&&<FormGroup controlId=\"formHorizontalName\">\r\n                            <FormControl type=\"Number\" placeholder={this.state.cost} onChange={this.changePrice}/>\r\n                        </FormGroup>\r\n                        }\r\n                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(InventoryItem);","import React from 'react';\r\nimport {Table} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst InventoryTable = ({compiledList, locale})=>{\r\n    let total=0;\r\n\r\n    return(\r\n        <div>\r\n            <Table striped bordered condensed hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>{locale.purchase.item}</th>\r\n                        <th>{locale.purchase.qtyS}</th>\r\n                        <th>{locale.purchase.price}</th>\r\n                        <th>{locale.purchase.ttlPrice}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        compiledList.map((item, val)=>{\r\n                            total = total+(item.quantity*item.price);\r\n    \r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                    <tr>\r\n                        <td colSpan={3}><b>{locale.purchase.total}</b></td>\r\n                        <td colSpan={2}>{`${total} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(InventoryTable);","import React from 'react';\r\nimport InventoryItem from './InventoryItem';\r\nimport InventoryTable from './InventoryTable';\r\n\r\nimport {Col, Grid} from 'react-bootstrap';\r\n\r\nexport default ({list, selectItem, compiledList})=>(\r\n    <Grid>\r\n        <Col md={8}>\r\n        {list.map(item=><InventoryItem \r\n            key={item._id}\r\n            title={item.name} \r\n            description={item.description} \r\n            price={item.retailPrice}\r\n            quantity={item.quantity}\r\n            id={item._id}\r\n            selectItem={selectItem}\r\n        />)}\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n            <InventoryTable compiledList={compiledList}/>\r\n        </Col>\r\n    </Grid>\r\n);","import React from 'react';\r\nimport {Table, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst CheckPurchasePrice = ({customer, staff, selectedItems, confirmOrder, cancel, locale})=>{\r\n    let totalCost=0;\r\n    let totalItems=0;\r\n\r\n    return(\r\n        <div>\r\n            <Row>\r\n                <Col xs={8} xsOffset={2}>\r\n            <Table bordered condensed hover>\r\n\r\n                <tbody>\r\n                    <tr>\r\n                        <td><b>{locale.customer.name}</b></td>\r\n                        <td>{customer.name}</td>\r\n                        <td><b>{locale.staff.name}</b></td>\r\n                        <td>{staff.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.phone}</b></td>\r\n                        <td>{customer.phone}</td>\r\n                        <td><b>{locale.commonInfo.date}</b></td>\r\n                        <td>12-09-2018</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.wechat}</b></td>\r\n                        <td>{customer.wechat}</td>\r\n                        <td><b>{locale.commonInfo.time}</b></td>\r\n                        <td>12:52</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                    <td>#</td>\r\n                        <td>{locale.purchase.item}</td>\r\n                        <td>{locale.purchase.qtyS}</td>\r\n                        <td>{locale.purchase.price}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        selectedItems.map((item, val)=>{\r\n                            totalCost = totalCost+(item.quantity*item.price);\r\n                            totalItems = totalItems+item.quantity;\r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <td>{locale.purchase.qtyQuan}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{totalItems}</td>\r\n                        <td>{`${totalCost} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n            <Col md={2} smOffset={3}>\r\n                <Button bsStyle=\"success\" block onClick={()=>confirmOrder()}>{locale.btns.confirm}</Button>\r\n            </Col>\r\n            <Col md={2} smOffset={2}>\r\n                <Button bsStyle=\"danger\" block onClick={()=>cancel()}>{locale.btns.cancel}</Button>\r\n            </Col>\r\n            </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(CheckPurchasePrice);","import React from 'react';\r\nimport {Panel, Button, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst TEMP=false;\r\n\r\nconst CompletedOrder = ({locale, completed, refNo})=>(\r\n    <div>\r\n          <Panel bsStyle=\"success\">\r\n            <Panel.Heading>\r\n            <Panel.Title componentClass=\"h2\">{locale.purchase.success}</Panel.Title>\r\n            </Panel.Heading>\r\n            <Panel.Body>{locale.purchase.purMsg}</Panel.Body>\r\n            <Panel.Body>{locale.purchase.purRefNo} {refNo}</Panel.Body>\r\n            \r\n            <Row>\r\n                <Col md={2} smOffset={3}>\r\n                    {TEMP&&<Button bsStyle=\"success\" block>{locale.btns.emailInvoice}</Button>}\r\n                </Col>\r\n                <Col md={2} smOffset={2}>\r\n                    {TEMP&&<Button bsStyle=\"warning\" block>{locale.btns.printInvoice}</Button>}<br/>\r\n                </Col>\r\n            </Row>\r\n            <Button block bsStyle=\"success\" onClick={completed}>{locale.btns.continue}</Button>\r\n        </Panel>\r\n    </div>\r\n)\r\n\r\nexport default AddLocale(CompletedOrder);","import {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\n\r\n\r\nconst purchaseCall=(data)=>{\r\n    return (dispatch, getState)=>{\r\n        return fetch(`/purchases`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(data)\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            }\r\n        })\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\nexport const createPurchases=(inven, customer, staff, refNo)=>{\r\n    return (dispatch)=>{\r\n        let result=true;\r\n        return new Promise((resolve, reject)=>{\r\n            inven.forEach((item)=>{\r\n                const data= {\r\n                    invoiceNo: refNo,\r\n                    totalPrice: (+item.quantity*+item.price),\r\n                    unitPrice: item.price,\r\n                    quantity: item.quantity,\r\n                    dateOfPurchase: new Date(),\r\n                    __customer: customer._id,\r\n                    __staff: staff._id,\r\n                    __inventory: item._id\r\n                };\r\n                \r\n                purchaseCall(data);\r\n            });\r\n            \r\n            if(result){\r\n                dispatch(setAlert('purchase_placed', SUCCESS));\r\n                resolve();\r\n            }else{\r\n                dispatch(setAlert('Purchase_not_placed', DANGER));\r\n                reject();\r\n            }\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport uuid from 'uuid';\r\nimport {ProgressBar, Button, Col, Row, Grid} from 'react-bootstrap';\r\nimport CustomerList from '../presentational/CustomerList';\r\nimport InventoryList from '../presentational/InventoryList';\r\nimport CheckPurchasePrice from '../presentational/CheckPurchasePrice';\r\nimport CompleteOrder from '../presentational/CompletedOrder';\r\n\r\nimport {fetchCustomers} from '../../store/helpers/customerFetchers';\r\nimport {fetchInventory} from '../../store/helpers/inventoryFetchers';\r\nimport {createPurchases} from '../../store/helpers/purchaseFetchers';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst STAGES=['Select Customer', 'Select Product', 'Check Order', 'Completed'];\r\nconst DEFAULTS= {\r\n    stage: 0,\r\n    percent:25,\r\n    customer: '',\r\n    selectedItems:[]\r\n};\r\n\r\n\r\nclass PurchaseContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        allInven:[],\r\n\r\n\r\n        stage: 0,\r\n        percent:0,\r\n        customer: '',\r\n        selectedItems:[],\r\n        refNo:'',\r\n        completed: false\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps !== prevState){\r\n            return {\r\n                allInven: nextProps.inventory,\r\n                allCust: nextProps.customers,\r\n                stage: nextProps.message==='purchase_placed'?3:prevState.stage,\r\n                percent: nextProps.message==='purchase_placed'?100:prevState.percent\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n\r\n    /**increases the stage: advances to the next stage*/\r\n    increment=()=>this.setState((temp)=>({\r\n        stage: temp.stage+1,\r\n        percent:temp.percent+33,\r\n    }));\r\n\r\n    /**decreases the stage: advances to the next stage*/\r\n    decrement=()=>this.setState((temp)=>({\r\n        stage: temp.stage-1,\r\n        percent:temp.percent-25,\r\n    }));\r\n\r\n    /**Resets the state */\r\n    reset=()=>this.setState({\r\n        ...DEFAULTS\r\n    });\r\n\r\n    setCustomer=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({\r\n            customer: cust[0]\r\n        });\r\n    }\r\n\r\n    selectItem=(id, quantity, price, name)=>{\r\n        let tempArray = this.state.selectedItems;\r\n\r\n        if(tempArray.find(x=>x._id===id)){\r\n            const finalArray = tempArray.map(x=>{\r\n                if(x._id===id){\r\n                    return{\r\n                        ...x,\r\n                        quantity: parseInt(quantity),\r\n                        price: parseFloat(price)\r\n                    };\r\n                }else{\r\n                    return x;\r\n                }\r\n            })\r\n            this.setState({selectedItems:finalArray.filter(q=>q.quantity>0)});\r\n        } else{\r\n            if(quantity>0){\r\n                tempArray.push({_id:id, quantity: parseInt(quantity), price: parseFloat(price), name});\r\n                this.setState({selectedItems:tempArray});\r\n            }\r\n        }\r\n    }\r\n\r\n    disableNext=()=>{\r\n        if(this.state.customer===''&&this.state.stage===0){\r\n            return true;\r\n        } else if(this.state.selectedItems.length===0 && this.state.stage===1){\r\n            return true;\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    confirmOrder=()=>{\r\n        const {customer} = this.state;\r\n        const s = this.state.selectedItems;\r\n        const refNo=uuid();\r\n        this.setState({refNo});\r\n\r\n        this.props.createPurchases(s, customer, this.props.staff, refNo);\r\n        if(this.state.completed){\r\n            this.increment();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {locale}=this.props;\r\n        return(\r\n        <Grid>\r\n            <h3>{STAGES[this.state.stage]}</h3>\r\n            <div><ProgressBar active now={this.state.percent} label={locale.purchase.STAGES[this.state.stage]} /></div>\r\n            {\r\n                this.state.stage!==3&&\r\n                <div>\r\n                    <Row>\r\n                        <Col xs={2}>\r\n                            <Button bsStyle=\"warning\" onClick={this.decrement} block disabled={this.state.stage>0?false:true}>Back</Button>\r\n                        </Col>\r\n                        {this.state.stage<2&&\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"primary\" onClick={this.increment} block disabled={this.disableNext()}>Next</Button>\r\n                            </Col>\r\n                        }\r\n\r\n                        {this.state.stage<2&&\r\n                            <Col xs={1} smOffset={6}>\r\n                                <Button bsStyle=\"danger\"  onClick={this.reset} small=\"true\">Clear</Button>\r\n                            </Col>\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            }\r\n            {this.state.stage===0&& <div>{<CustomerList list={this.state.allCust} setCustomer={this.setCustomer} selected={this.state.customer}/>}</div>}\r\n            {this.state.stage===1&& <div>{<InventoryList list={this.state.allInven} selectItem={this.selectItem} compiledList={this.state.selectedItems}/>}</div>}\r\n            {this.state.stage===2&& <div><CheckPurchasePrice cancel={this.reset} confirmOrder={this.confirmOrder} selectedItems={this.state.selectedItems} customer={this.state.customer} staff={this.props.staff}/></div>}\r\n            {this.state.stage===3&& <div><CompleteOrder completed={this.reset} refNo={this.state.refNo}/></div>}\r\n\r\n        </Grid>\r\n);\r\n}\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staff: state.auth.staff,\r\n    inventory: state.inventory,\r\n    customers: state.customers,\r\n    message : state.alert.msg\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    fetchInventory:()=>dispatch(fetchInventory()),\r\n    createPurchases: (data, customer, staff, refNo)=>dispatch(createPurchases(data, customer, staff, refNo))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddLocale(PurchaseContainer));","import React from 'react';\r\nimport {Route, Switch, Router} from 'react-router-dom';\r\nimport history from './components/history';\r\n\r\nimport AuthRoute from './components/login/AuthRoute';\r\nimport NavBarContainer from './components/container/NavBarContainer';\r\nimport TabNavigation from './components/TabNavigation';\r\nimport Login from './components/login/Login';\r\nimport IsAuth from './components/login/IsAuth';\r\nimport Dashboard from './components/Dashboard';\r\nimport AlertBar from './components/container/AlertBar';\r\n\r\nimport Development from './components/presentational/Development';\r\n\r\nimport {StaffContainer, CustomerContainer, InventoryContainer, PurchaseContainer} from './components/container';\r\n\r\n\r\nclass App extends React.Component{ \r\n\r\n    render(){\r\n        console.log(process.env.ENV);\r\n        return(\r\n        <Router  history={history}>\r\n            <div>\r\n                {process.env.ENV==='development'&&<Development/>}\r\n                <IsAuth><NavBarContainer /></IsAuth>\r\n            <div className=\"container\">\r\n                <AlertBar />\r\n                <IsAuth><TabNavigation /></IsAuth>\r\n                \r\n                <Switch>\r\n                    <AuthRoute path=\"/purchase\" exact={true} Component={PurchaseContainer} level={-1}/>\r\n                    <AuthRoute path=\"/staff\" exact={true} Component={StaffContainer} level={3}/>\r\n                    <AuthRoute path=\"/customer\" exact={true} Component={CustomerContainer} level={-1}/>\r\n                    <AuthRoute path=\"/inventory\" exact={true} Component={InventoryContainer} level={-1}/>\r\n                    <AuthRoute path=\"/dashboard\" exact={true} Component={Dashboard} level={-1}/>\r\n                    <Route path=\"/\" exact={true} component={Login}/>\r\n                </Switch>\r\n            </div>\r\n            </div>\r\n        </Router>\r\n);   }\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport configureStore from './store/store';\r\n\r\n\r\nimport App from './App';\r\n\r\nconst store = configureStore();\r\nconst anchor = document.getElementById(\"root\");\r\n\r\nconst jsx = (\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>\r\n);\r\n\r\nReactDOM.render(jsx, anchor);"],"sourceRoot":""}