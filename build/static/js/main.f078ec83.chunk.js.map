{"version":3,"sources":["store/reducers/auth.js","store/actions/action_types/auth.js","store/reducers/notification.js","store/actions/action_types/notifications.js","store/reducers/staff.js","store/actions/action_types/staff.js","store/reducers/customers.js","store/actions/action_types/customers.js","store/reducers/inventory.js","store/actions/action_types/inventory.js","store/reducers/purchasesComplete.js","store/actions/action_types/purchases.js","store/reducers/spinner.js","store/actions/action_types/spinner.js","store/reducers/language.js","store/actions/action_types/language.js","store/store.js","components/history.js","components/login/AuthRoute.js","locales/chinese.js","locales/english.js","locales/Context.js","components/presentational/FlagIcon.js","components/NavBar.js","store/actions/notification.js","style/alert.js","store/DemoData/auth.js","store/actions/auth.js","store/actions/spinner.js","components/container/NavBarContainer.js","store/actions/language.js","components/login/Security.js","components/TabNavigation.js","components/validationFunctions/validateEmail.js","components/validationFunctions/validateName.js","components/validationFunctions/validatePhone.js","components/validationFunctions/validateUsername.js","components/validationFunctions/validatePassword.js","components/validationFunctions/confirmPassword.js","components/login/Login.js","components/login/IsAuth.js","components/Dashboard.js","components/container/AlertBar.js","components/presentational/Spinner.js","components/forms/StaffForm.js","components/presentational/DisplayStaff.js","components/forms/UpdateStaffLevelForm.js","components/presentational/StaffSubTabs.js","components/presentational/StaffItem.js","store/actions/staff.js","store/DemoData/staff.js","store/helpers/staffFetchers.js","components/container/StaffContainer.js","components/defaultStates.js","components/forms/CustomerForm.js","components/presentational/DisplayCustomer.js","components/forms/ViewCustomerDetails.js","components/presentational/CustSubTabs.js","store/actions/customers.js","store/DemoData/customers.js","store/helpers/customerFetchers.js","components/container/CustomerContainer.js","components/presentational/BasicInventoryDetails.js","components/presentational/RestrictedInventoryDetails.js","components/presentational/InventoryChangeQuantity.js","components/presentational/SuppliersDetails.js","components/forms/InventoryForm.js","components/presentational/InvenSubTabs.js","store/actions/inventory.js","store/DemoData/inventory.js","store/helpers/inventoryFetchers.js","components/container/InventoryContainer.js","components/presentational/CustomerItem.js","components/presentational/CustomerList.js","components/presentational/InventoryItem.js","components/presentational/InventoryTable.js","components/presentational/InventoryList.js","components/presentational/CheckPurchasePrice.js","components/presentational/CompletedOrder.js","store/helpers/purchaseFetchers.js","store/actions/purchases.js","components/container/PurchaseContainer.js","App.js","index.js"],"names":["defaultState","reducers_auth","state","arguments","length","undefined","action","type","payload","msg","notification","reducers_staff","customers","reducers_inventory","completed","purchasesComplete","isLoading","spinner","lan","language","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","createHistory","connect","auth","_ref","Component","path","react_default","a","createElement","Route","render","token","Redirect","to","pathname","chinese","logout","settings","welcomeMsg","btns","back","next","clear","confirm","cancel","delete","submit","updateLvl","updateQty","updatePrc","emailInvoice","printInvoice","mainNav","dashboard","purchase","staff","customer","inventory","selectCust","selectProduct","checkOrder","success","purMsg","purRefNo","ppUnit","qtyAvail","required","ttlPrice","price","item","qty","qtyS","qtyQuan","total","staffName","customerName","STAGES","staffDetails","newStaff","LEVEL","level","securityLevel","name","email","security","username","password","repassword","updateSecurityLvl","customerDetails","newCustomer","wechat","phone","CUSTOMERTYPES","address","sex","male","female","dob","MONTHS","selected","inventoryDetails","newInventory","inventoryStatistics","description","suppDetails","suppName","suppAdd","suppPhone","quantity","changeQuantity","currentQuantity","costPrice","retailPrice","profit","pricing","commonInfo","rmb","HELP","confirmPass","ALERTS","undefined_err","staff_1","no_user","not_active","password_mismatch","staff_not_found","staff_exists","inven_add_fail","inven_not_found","inventory_not_deleted","error_code_1","pur_not_saved","purchase_update_failed","no_record_to_delete","staff_validation","customer_not_found","customer_not_created","invalid_search_criteria","staff_saved","unauthorised","customer_added","exists","inventory_added","inventory_updated","purchase_placed","staff_created","level_updated","staff_deleted","inventory_cost","inventory_quantity","Purchase_not_placed","email_exists","username_exists","DEMO_CUSTOMER_EXISTS","DEMO_INVALID_EMAIL","DEMO_EMAIL_EXISTS","DEMO_CUSTOMER_ADDED","DEMO_STAFF_EXISTS","DEMO_STAFF_INVALID_EMAIL","DEMO_STAFF_EMAIL_EXISTS","DEMO_STAFF_CREATED","DEMO_STAFF_LEVEL","DEMO_STAFF_DELETED","DEMO_INVENTORY_UPDATED","DEMO_INVENTORY_ADDED","DEMO_INVENTORY_PURCHASE","english","continue","date","time","Locale","React","createContext","AddLocale","ComposedComponent","Authenticate","_Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","value","_this2","Provider","returnLanguage","Consumer","locale","assign","FlagIcon","FlagIconFactory","useCssModules","user","changeLanguage","Navbar","collapseOnSelect","Header","Brand","Toggle","Collapse","Nav","pullRight","NavDropdown","eventKey","title","concat","id","MenuItem","divider","onClick","presentational_FlagIcon","code","size","setAlert","typ","dispatch","SetTheAlert","setTimeout","resetAlert","objectSpread","DANGER","SUCCESS","DemoData_auth","_id","login","data","startLogin_real","fetch","method","credentials","headers","Content-Type","crossdomain","body","JSON","stringify","then","response","status","history","replace","json","catch","err","NavBarContainer","changeLocale","console","log","style","marginBottom","components_NavBar","staffLevel","children","TabNavigation","context","handleSelect","bind","assertThisInitialized","setState","bsStyle","justified","activeKey","onSelect","k","lib","NavItem","login_Security","validateEmail","test","String","toLowerCase","validateName","validatePhone","number","validateUsername","validatePassword","confirmPassword","password2","DEFAULTS","isUsername","userF","passF","displayBtn","styles","margin","paddingTop","marginLeft","paddingLeft","marginRight","paddingRight","paddingBottom","border","borderRadius","titleStyle","textAlign","Login","validateLocalUsername","con","validateLocalPassword","userChange","val","target","passChange","displayUsername","FormGroup","controlId","validationState","onBlur","Row","Col","md","FormControl","placeholder","onChange","HelpBlock","displayPassword","btnOnClick","startLogin","className","mdOffset","Button","block","disabled","authDummy","Dashboard","marginTop","AlertBar","findMsg","filter","x","_this$props$alert","alert","Alert","Spinner","position","top","left","alignItems","display","height","justifyContent","width","zIndex","backgroundColor","react_spinners","sizeUnit","color","loading","DEFAULTSTATE","nameF","emailF","passC","levelF","onSubmit","e","preventDefault","_this$state","fullValidation","validateLocalName","validateLocalEmail","confirmLocalPassword","_this$state2","Form","horizontal","onFocus","componentClass","ControlLabel","sm","xs","smOffset","ButtonToolbar","DropdownButton","InputGroup","map","active","xsOffset","parseInt","Panel","Heading","Body","_this$props","onUpdateLevel","deleteStaff","userName","origLevel","presentational_DisplayStaff","nextProps","prevState","StaffSubTabs","Tabs","Tab","forms_UpdateStaffLevelForm","forms_StaffForm","StaffItem","getStaff","iselected","fetchAllStaff","DemoData_staff","fetchStaff","getState","dummyStaff","fetchStaff_real","authorization","errmsg","createStaff_real","values","mode","deleteStaffMember_real","res","StaffContainer","allStaff","selectedStaff","temp","isSelected","createStaff","newLevel","updateLevel","deleteStaffMember","presentational_StaffSubTabs","Math","random","day","month","year","phoneF","wechatF","addF","Date","validateLocalWechat","validateLocalAddress","validateLocalPhone","calculateDays","limit","includes","i","push","createYears","getFullYear","DAYS","YEARS","Radio","defaultChecked","inline","customerType","ViewCustomerDetails","presentational_DisplayCustomer","CustSubTabs","forms_ViewCustomerDetails","forms_CustomerForm","fetchAllCustomers","DemoData_customers","purchaseTtl","fetchCustomers","dummyCustomer","fetchCustomers_real","CustomerContainer","allCust","selectedCust","cust","createCustomer","onUpdate","newInfo","deleteCustomer","presentational_CustSubTabs","isLoaded","_props$inventory","productType","newPrice","changePrice","event","newQty","requireStyle","supplierName","supplierAddress","supplierPhone","DEFAULT","typeF","descF","supNF","supPF","supAF","validateLocalType","validateLocalSName","validateLocalSNumber","validateLocalSAddress","supName","spplierA","smPull","InvenSubTabs","presentational_BasicInventoryDetails","SuppliersDetails","presentational_InventoryChangeQuantity","presentational_RestrictedInventoryDetails","forms_InventoryForm","fetchAllInventory","DemoData_inventory","img","fetchInventory","dummyInventory","fetchInventory_real","sort","b","y","updateInventory_real","addInventory_real","InventoryContainer","allInven","selectedInven","getInventory","inven","addInventory","onDelete","update","updateInventory","presentational_InvenSubTabs","setCustomer","CustomerList","list","presentational_CustomerItem","cost","requiredQuantity","increment","newReq","newQuantity","parseFloat","selectItem","decrement","compiledList","Table","striped","bordered","condensed","hover","colSpan","InventoryList","Grid","presentational_InventoryItem","presentational_InventoryTable","selectedItems","confirmOrder","totalCost","totalItems","refNo","Title","createPurchases_real","makePurchase","ttl","forEach","__staff","stage","percent","PurchaseContainer","reset","resetPurchase","tempArray","find","finalArray","q","disableNext","s","uuid","createPurchases","ProgressBar","now","label","small","presentational_CheckPurchasePrice","presentational_CompletedOrder","isComplete","message","App","Router","container_NavBarContainer","container_AlertBar","presentational_Spinner","login_IsAuth","components_TabNavigation","Switch","login_AuthRoute","exact","component","store","createStore","combineReducers","applyMiddleware","apply","anchor","document","getElementById","jsx","es","src_App","ReactDOM"],"mappings":"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","file":"static/js/main.f078ec83.chunk.js","sourcesContent":["import {LOGIN, LOGOUT} from '../actions/action_types/auth';\r\n\r\nconst defaultState = {};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case LOGIN:\r\n            const newState=action.payload;\r\n            return newState;\r\n        case LOGOUT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const LOGIN = 'login';\r\nexport const LOGOUT = 'logout';","import {ALERT, RESET_ALERT} from '../actions/action_types/notifications';\r\n\r\nconst defaultState={msg:''};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case ALERT:\r\n            return action.payload;\r\n        case RESET_ALERT:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n};","export const ALERT = 'alert';\r\nexport const RESET_ALERT ='reset_alert';\r\n","import {FETCH_STAFF} from '../actions/action_types/staff';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_STAFF:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_STAFF = 'fetch_staff';","import {FETCH_CUSTOMERS} from '../actions/action_types/customers';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_CUSTOMERS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_CUSTOMERS = 'fetch_customers';","import {FETCH_INVENTORY} from '../actions/action_types/inventory';\r\n\r\nconst defaultState= [];\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case FETCH_INVENTORY:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_INVENTORY = 'fetch_inventory';","import {COMPLETED, RESET} from '../actions/action_types/purchases';\r\n\r\nconst defaultState={completed:false};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case COMPLETED:\r\n            return {completed:true};\r\n        case RESET:\r\n            return defaultState;\r\n        default:\r\n            return state;\r\n    }\r\n}","export const FETCH_PURCHASES = 'fetch_purchases';\r\nexport const COMPLETED = 'completed';\r\nexport const RESET = 'reset';","import {START_LOADER, STOP_LOADER} from '../actions/action_types/spinner';\r\n\r\nconst defaultState = {isLoading: false};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case START_LOADER:\r\n            const x={isLoading:true}\r\n            return x;\r\n        case STOP_LOADER:\r\n            return {isLoading:false};\r\n        default:\r\n            return state;\r\n    }\r\n}","export const START_LOADER = 'start_loader';\r\nexport const STOP_LOADER = 'stop_loader';","import {CHNG_LANG} from '../actions/action_types/language';\r\n\r\n\r\n\r\nconst defaultState = {lan: 'en'};\r\n\r\nexport default (state=defaultState, action)=>{\r\n    switch(action.type){\r\n        case CHNG_LANG:\r\n            return {lan:action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}","export const CHNG_LANG = 'change_langauge';","import {createStore, combineReducers, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport auth from './reducers/auth';\r\nimport notification from './reducers/notification';\r\nimport staff from './reducers/staff';\r\nimport customers from './reducers/customers';\r\nimport inventory from './reducers/inventory';\r\nimport purchasesComplete from './reducers/purchasesComplete';\r\nimport spinner from './reducers/spinner';\r\nimport language from './reducers/language';\r\n\r\nconst enhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst middleware = [thunk];\r\n\r\nexport default ()=>{\r\n    const store = createStore(\r\n        combineReducers({\r\n            auth,\r\n            alert: notification,\r\n            staff,\r\n            customers,\r\n            inventory,\r\n            isComplete: purchasesComplete,\r\n            spinner,\r\n            language\r\n        }),\r\n        enhancer(),\r\n        applyMiddleware(...middleware)\r\n    );\r\n    return store;\r\n}","import createHistory from 'history/createBrowserHistory';\r\n\r\nexport default createHistory();","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Route, Redirect} from 'react-router-dom';\r\n\r\n\r\nconst AuthRoute = ({Component, path, auth}) =>{\r\n    return (\r\n        <Route path={path} render={()=>\r\n                auth.token ?\r\n                <Component /> :\r\n                <Redirect to={{pathname:'/'}} />\r\n        } />\r\n    )\r\n};\r\n\r\nconst mapStateToProps=(state)=>({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);","export default {\r\n    logout: '',\r\n    settings: '',\r\n    welcomeMsg: ':',\r\n\r\n    btns:{\r\n        back:'',\r\n        next:'',\r\n        clear: '',\r\n        confirm:'',\r\n        cancel: '',\r\n        delete: '',\r\n        submit: '', \r\n        updateLvl:'',\r\n        updateQty:'',\r\n        updatePrc:'',\r\n        emailInvoice:'',\r\n        printInvoice:''\r\n    },\r\n    mainNav:{\r\n        dashboard:'',\r\n        purchase:'',\r\n        staff:'',\r\n        customer:'',\r\n        inventory:''\r\n    },\r\n    purchase:{\r\n        selectCust: '',\r\n        selectProduct: '',\r\n        checkOrder:'',\r\n        completed: '',\r\n        success:'',\r\n        purMsg:'',\r\n        purRefNo:':',\r\n        ppUnit:'',\r\n        qtyAvail:'',\r\n        required:'',\r\n        ttlPrice:'',\r\n        price: '',\r\n        item:'',\r\n        qty:'',\r\n        qtyS:'',\r\n        qtyQuan:'',\r\n        total:'',\r\n        staffName:'',\r\n        customerName:'',\r\n        STAGES:['', '', '', '']\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'',\r\n        newStaff:'',\r\n        LEVEL: ['', '', '', ''],\r\n        level: '',\r\n        securityLevel: '',\r\n        name:'',\r\n        email:'',\r\n        security:'',\r\n        username:'',\r\n        password:'',\r\n        repassword:'',\r\n        updateSecurityLvl: ''\r\n    },\r\n    customer:{\r\n        customerDetails:'',\r\n        newCustomer:'',\r\n        name:'',\r\n        email:'',\r\n        wechat: '',\r\n        phone:'',\r\n        type: '',\r\n        CUSTOMERTYPES:['new', 'current', 'super', 'god like'],\r\n        address:'',\r\n        sex:'',\r\n        male:'',\r\n        female:'',\r\n        dob:'DOB',\r\n        MONTHS:['', '', '', '', '', '', '', '', '', '', '', ''],\r\n        selected: ''\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'',\r\n        newInventory:'',\r\n        inventoryStatistics:'',\r\n        name:'',\r\n        type:'',\r\n        description:'',\r\n        suppDetails: '',\r\n        suppName:'',\r\n        suppAdd:'',\r\n        suppPhone:'',\r\n        quantity:'',\r\n        changeQuantity: '',\r\n        currentQuantity: '',\r\n        costPrice:'',\r\n        retailPrice:'',\r\n        profit:'',\r\n        pricing: ''\r\n    },\r\n    commonInfo:{\r\n        selected:':',\r\n        rmb:''\r\n    },\r\n    HELP:{\r\n        name:'2',\r\n        email:'',\r\n        username:'8',\r\n        password: '8. :1, 1, 1!@$^*',\r\n        confirmPass: '',\r\n        phone: '11',\r\n        wechat:'2'\r\n    },\r\n    ALERTS:{\r\n        undefined_err: \"\",\r\n        staff_1: \"\",\r\n        no_user: \"\",\r\n        not_active: \"\",\r\n        password_mismatch: \"\",\r\n        staff_not_found: \"\",\r\n\t\tstaff_exists: \"\",\r\n\t\tinven_add_fail: \"\",\r\n\t\tinven_not_found: \"\",\r\n\t\tinventory_not_deleted: '',\r\n\t\terror_code_1:\"1\",\r\n\t\tpur_not_saved: \"\",\r\n\t\tpurchase_update_failed: \"\",\r\n\t\tno_record_to_delete: \"\",\r\n\t\tstaff_validation: \"\",\r\n\t\tcustomer_not_found: \"\",\r\n\t\tcustomer_not_created: \"\",\r\n\t\tinvalid_search_criteria: \"\",\r\n        staff_saved : \"\",\r\n        unauthorised: '/',\r\n        customer_added: '',\r\n        exists: '',\r\n        inventory_added: '',\r\n        inventory_updated: '',\r\n        purchase_placed: '',\r\n        staff_created: '',\r\n        level_updated:'',\r\n        staff_deleted: '',\r\n        inventory_cost: '',\r\n        inventory_quantity: '',\r\n        Purchase_not_placed: '',\r\n        email_exists: '',\r\n        username_exists: '',\r\n\r\n\r\n        DEMO_CUSTOMER_EXISTS: 'Demo Version: (Randomised) Customer already exists',\r\n        DEMO_INVALID_EMAIL: 'Demo Version: (Randomised) Invalid email address',\r\n        DEMO_EMAIL_EXISTS: 'Demo Version: (Randomised) Email already exists',\r\n        DEMO_CUSTOMER_ADDED: '(Demo version: not really) customer_added',\r\n        DEMO_STAFF_EXISTS: 'Demo Version: (Randomised) Staff already exists',\r\n        DEMO_STAFF_INVALID_EMAIL: 'Demo Version: (Randomised) Invalid email address',\r\n        DEMO_STAFF_EMAIL_EXISTS: 'Demo Version: (Randomised) Email already exists',\r\n        DEMO_STAFF_CREATED: '(Demo version: not really) staff Added',\r\n        DEMO_STAFF_LEVEL: '(Demo version: not really) level updated',\r\n        DEMO_STAFF_DELETED:'(Demo version: not really) staff deleted',\r\n        DEMO_INVENTORY_UPDATED: '(Demo version) Inventory Updated',\r\n        DEMO_INVENTORY_ADDED: '(Demo version) inventory_added',\r\n        DEMO_INVENTORY_PURCHASE: '(Demo version) purchase placed'\r\n    }\r\n}","export default {\r\n    logout: 'Logout',\r\n    settings: 'Settings',\r\n    welcomeMsg: 'Logged in as: ',\r\n\r\n    btns:{\r\n        back:'Previous',\r\n        next:'Next',\r\n        clear: 'Clear',\r\n        confirm:'Confirm',\r\n        continue:'Continue',\r\n        cancel: 'Cancel',\r\n        delete: 'Delete',\r\n        submit: 'Submit', \r\n        updateLvl:'Update Level',\r\n        updateQty:'Update Quantity',\r\n        updatePrc:'Update Price',\r\n        emailInvoice:'Email Invoice',\r\n        printInvoice:'Print Invoice'\r\n    },\r\n    mainNav:{\r\n        dashboard:'Home',\r\n        purchase:'Purchases',\r\n        staff:'Staff',\r\n        customer:'Customers',\r\n        inventory:'Inventory'\r\n    },\r\n    purchase:{\r\n        selectCust: 'Select a customer',\r\n        selectProduct: 'Select a product',\r\n        checkOrder:'Check order',\r\n        completed: 'Completed',\r\n        success:'Success',\r\n        purMsg:'Purchase has been confirmed',\r\n        purRefNo:'Purchase reference number: ',\r\n        ppUnit:'Price per unit',\r\n        qtyAvail:'Quantity available',\r\n        required:'Required',\r\n        ttlPrice:'Total price',\r\n        price: 'price',\r\n        item:'Item',\r\n        qty:'Quantity',\r\n        qtyS:'Qty',\r\n        qtyQuan:'Total Qty',\r\n        total:'Total',\r\n        staffName:'Staff name',\r\n        customerName:'Customer name',\r\n        STAGES:['Select Customer', 'Select Product', 'Check Order', 'Completed']\r\n\r\n    },\r\n    staff:{\r\n        staffDetails:'Staff Details',\r\n        newStaff:'New Staff',\r\n        LEVEL: ['Basic', 'Junior', 'Advanced', 'Admin'],\r\n        level: 'Level',\r\n        securityLevel: 'Security Level',\r\n        name:'Name',\r\n        email:'Email',\r\n        security:'Security level',\r\n        username:'Username',\r\n        password:'Password',\r\n        repassword:'Re-enter password',\r\n        updateSecurityLvl: 'Update Security Level'\r\n    },\r\n    customer:{\r\n        customerDetails:'Customer Details',\r\n        newCustomer:'New Customer',\r\n        name:'Name',\r\n        email:'Email',\r\n        wechat: 'WeChat',\r\n        phone:'Phone',\r\n        type: 'Customer type',\r\n        CUSTOMERTYPES:['New', 'Current', 'Super', 'Advanced'],\r\n        address:'Address',\r\n        sex:'Sex',\r\n        male:'Male',\r\n        female:'Female',\r\n        dob:'DoB',\r\n        MONTHS:['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        selected: 'Selected'\r\n    },\r\n    inventory:{\r\n        inventoryDetails:'Inventory Details',\r\n        newInventory:'New Inventory',\r\n        inventoryStatistics:'Inventory Statistics',\r\n        name:'Product Name',\r\n        type:'Product type',\r\n        description:'description',\r\n        suppDetails: 'Suppliers Details',\r\n        suppName:'Suppliers name',\r\n        suppAdd:'Suppliers Address',\r\n        suppPhone:'Suppliers Phone',\r\n        quantity:'Quantity',\r\n        changeQuantity: 'Change quantity',\r\n        currentQuantity: 'Current quantity',\r\n        costPrice:'Cost price',\r\n        retailPrice:'Retail price',\r\n        profit:'Profit',\r\n        pricing: 'Pricing'\r\n    },\r\n    commonInfo:{\r\n        selected:'Selected: ',\r\n        rmb:'rmb',\r\n        date:'Date',\r\n        time:'Time'\r\n    },\r\n    HELP:{\r\n        name:'Name must contain at least 2 characters',\r\n        email:'Enter a valid email',\r\n        username:'Username must contain at least 8 characters',\r\n        password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n        confirmPass: 'Password does not match',\r\n        phone: 'Must be 11 numbers',\r\n        wechat:'Wechat must contain at least 2 characters'\r\n    },\r\n    ALERTS:{\r\n        undefined_err: \"Error: undefined\",\r\n        staff_1: \"Staff not saved\",\r\n        no_user: \"Staff not found\",\r\n        not_active: \"Staff not active\",\r\n        password_mismatch: \"Password does not match\",\r\n        staff_not_found: \"Staff not found\",\r\n\t\tstaff_exists: \"Member of staff already exists\",\r\n\t\tinven_add_fail: \"Inventory not saved\",\r\n\t\tinven_not_found: \"Inventory was not found\",\r\n\t\tinventory_not_deleted: 'Inventory not deleted',\r\n\t\terror_code_1:\"Error code 1\",\r\n\t\tpur_not_saved: \"Purchase not saved\",\r\n\t\tpurchase_update_failed: \"Purchase update failed\",\r\n\t\tno_record_to_delete: \"No purchase to delete\",\r\n\t\tstaff_validation: \"Validation error\",\r\n\t\tcustomer_not_found: \"Customer not found\",\r\n\t\tcustomer_not_created: \"Customer not created\",\r\n\t\tinvalid_search_criteria: \"Invalid search criteria\",\r\n        staff_saved : \"New staff has been created\",\r\n        unauthorised: 'Incorrect Username and/or Password',\r\n        customer_added: 'New customer has been added',\r\n        exists: 'Already exists!',\r\n        inventory_added: 'New inventory has been added',\r\n        inventory_updated: 'New inventory has been updated',\r\n        purchase_placed: 'Purchase has been placed',\r\n        staff_created: 'Staff has been added',\r\n        level_updated:'Level has been updated',\r\n        staff_deleted: 'Staff member has been deleted',\r\n        inventory_cost: 'Inventory cost has been changed',\r\n        inventory_quantity: 'Inventory quantity has been changed',\r\n        Purchase_not_placed: 'Error placing purchase',\r\n        email_exists: 'Email already exists',\r\n        username_exists: 'Username already exists',\r\n\r\n        DEMO_CUSTOMER_EXISTS: 'Demo Version: (Randomised) Customer already exists',\r\n        DEMO_INVALID_EMAIL: 'Demo Version: (Randomised) Invalid email address',\r\n        DEMO_EMAIL_EXISTS: 'Demo Version: (Randomised) Email already exists',\r\n        DEMO_CUSTOMER_ADDED: '(Demo version: not really) customer_added',\r\n        DEMO_STAFF_EXISTS: 'Demo Version: (Randomised) Staff already exists',\r\n        DEMO_STAFF_INVALID_EMAIL: 'Demo Version: (Randomised) Invalid email address',\r\n        DEMO_STAFF_EMAIL_EXISTS: 'Demo Version: (Randomised) Email already exists',\r\n        DEMO_STAFF_CREATED: '(Demo version: not really) staff Added',\r\n        DEMO_STAFF_LEVEL: '(Demo version: not really) level updated',\r\n        DEMO_STAFF_DELETED:'(Demo version: not really) staff deleted',\r\n        DEMO_INVENTORY_UPDATED: '(Demo version) Inventory Updated',\r\n        DEMO_INVENTORY_ADDED: '(Demo version) inventory_added',\r\n        DEMO_INVENTORY_PURCHASE: '(Demo version) purchase placed'\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport chinese from './chinese';\r\nimport english from './english';\r\n\r\nexport const Locale = React.createContext(chinese);\r\n\r\nconst AddLocale = (ComposedComponent) => {\r\n  \r\n    class Authenticate extends Component {\r\n        constructor(props){\r\n            super(props);\r\n            this.state={\r\n                language: this.props.language\r\n            };\r\n        }\r\n\r\n        returnLanguage(){\r\n            switch(this.props.language){\r\n                case 'en': return english;\r\n                case 'zh': return chinese;\r\n                default: return english;\r\n            }\r\n        }\r\n\r\n        render() {\r\n\r\n        return(\r\n            <Locale.Provider value={this.returnLanguage()}>\r\n                <Locale.Consumer>{locale=>\r\n                    <ComposedComponent {...this.props} locale={locale} />\r\n                }</Locale.Consumer>\r\n            </Locale.Provider>\r\n        );\r\n      }\r\n    }\r\n\r\n    const mapStateToProps=(state)=>({\r\n        language:state.language.lan\r\n      });\r\n\r\n    return connect(mapStateToProps)(Authenticate)\r\n  };\r\n  \r\n  export default AddLocale;","import React from 'react';\r\nimport FlagIconFactory from 'react-flag-icon-css';\r\n\r\n// const FlagIcon = FlagIconFactory(React);\r\nconst FlagIcon = FlagIconFactory(React, { useCssModules: false });\r\nexport default FlagIcon;\r\n","import React from 'react';\r\n\r\nimport {Navbar, Nav, NavDropdown, MenuItem} from 'react-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\nimport FlagIcon from './presentational/FlagIcon';\r\n\r\nconst NavBar =({locale, logout, user, changeLanguage})=>(    \r\n<Navbar  collapseOnSelect>\r\n  <Navbar.Header>\r\n    <Navbar.Brand>\r\n        ShangNaDavid\r\n    </Navbar.Brand>\r\n  <Navbar.Toggle />\r\n  \r\n  </Navbar.Header>\r\n    <Navbar.Collapse>\r\n      <Nav pullRight>\r\n\r\n  {user&&\r\n        <NavDropdown eventKey={3} title={`${locale.welcomeMsg} ${user.name} ${locale.staff.level}: ${locale.staff.LEVEL[user.level]}`} id=\"basic-nav-dropdown\">\r\n          <MenuItem eventKey={3.1}>{locale.settings}</MenuItem>\r\n          <MenuItem divider />\r\n          <MenuItem eventKey={3.2} onClick={()=>logout()}>{locale.logout}</MenuItem>\r\n        </NavDropdown>\r\n  }\r\n\r\n        <NavDropdown eventKey={1} title=\"Language\" id=\"basic-nav-dropdown\">\r\n          <MenuItem eventKey={1.1} onClick={()=>{changeLanguage('zh');}}><FlagIcon code={'cn'} size={'lg'}/> </MenuItem>\r\n          <MenuItem eventKey={1.2} onClick={()=>{changeLanguage('en');}}><FlagIcon code={'gb'} size={'lg'}/> English</MenuItem>\r\n        </NavDropdown>\r\n\r\n      </Nav>\r\n    </Navbar.Collapse>\r\n\r\n</Navbar>\r\n);\r\n\r\nexport default AddLocale(NavBar);","import {ALERT, RESET_ALERT} from './action_types/notifications';\r\n\r\nexport const setAlert=(msg, typ)=>{\r\n    return (dispatch)=>{\r\n        dispatch(SetTheAlert({msg, typ}));\r\n        setTimeout(()=>{\r\n            dispatch(resetAlert());\r\n        }, 10000);\r\n    }\r\n};\r\n\r\nconst SetTheAlert=(msg)=>({\r\n    type: ALERT,\r\n    payload: {...msg}\r\n});\r\n\r\n\r\nconst resetAlert=()=>({\r\n    type: RESET_ALERT\r\n});","export const DANGER = \"danger\";\r\nexport const SUCCESS = \"success\";","export default {\r\n        token: 'TESTTESTTEST',\r\n    staff:{\r\n        name: \"Dummy Account\",\r\n        level: 3,\r\n        _id: \"5bb4002061d4a7\"\r\n    }\r\n}","import {LOGIN, LOGOUT} from './action_types/auth';\r\nimport {setAlert} from './notification';\r\nimport {startLoader, endLoader} from './spinner';\r\nimport history from '../../components/history';\r\nimport { DANGER } from '../../style/alert';\r\n\r\n\r\nimport authDummy from '../DemoData/auth';\r\n\r\nconst login=(data)=>({\r\n    type: LOGIN,\r\n    payload: data\r\n});\r\n\r\n\r\n\r\nexport const startLogin=(username, password)=>{\r\n    return (dispatch)=>{\r\n        if(username==='demodemo' && password==='111zzzZZZ!'){\r\n            dispatch(startLoader());\r\n            setTimeout(()=>{\r\n                dispatch(login(authDummy));\r\n                dispatch(endLoader());\r\n                history.replace('/dashboard');\r\n            }, 3000);\r\n\r\n        } else{\r\n            dispatch(startLogin_real(username, password));\r\n        }\r\n    }\r\n}\r\n\r\nexport const startLogin_real=(username, password)=>{\r\n    return (dispatch)=>{\r\n        dispatch(startLoader());\r\n        fetch(`/login`,\r\n            {\r\n                method: 'POST',\r\n                credentials: 'include',\r\n                headers: {'Content-Type': 'application/json'},\r\n                crossdomain: true,\r\n                body: JSON.stringify({username, password})\r\n            }\r\n        ).then(response=>{\r\n            if(response.status===401){\r\n                dispatch(endLoader());\r\n                dispatch(setAlert('unauthorised', DANGER));\r\n                history.replace('/');\r\n            }else{\r\n                return response;\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            dispatch(login(response));\r\n        })\r\n        .then(()=>{\r\n            dispatch(endLoader());\r\n            history.replace('/dashboard');\r\n        })\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n        });\r\n    }\r\n};\r\n\r\n\r\nconst logout=()=>({\r\n    type:LOGOUT\r\n});\r\n\r\nexport const startLogout=()=>{\r\n    return(dispatch)=>{\r\n        dispatch(logout());\r\n    };\r\n}\r\n\r\n// 401 unauthorised","import {START_LOADER, STOP_LOADER} from './action_types/spinner';\r\n\r\nexport const startLoader=()=>({\r\n    type:START_LOADER\r\n});\r\n\r\nexport const endLoader=()=>({\r\n    type: STOP_LOADER\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport NavBar from '../NavBar';\r\n\r\nimport {startLogout} from '../../store/actions/auth';\r\nimport {changeLanguage} from '../../store/actions/language';\r\n\r\nclass NavBarContainer extends React.Component{ \r\n\r\n    changeLocale=(lan)=>{\r\n        console.log(lan);\r\n        this.props.locale(lan);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div style={{marginBottom:'2vh'}}>\r\n                <NavBar changeLanguage={this.changeLocale} logout={this.props.logout} user={this.props.user}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps=(dispatch, props)=>({\r\n    logout: ()=>dispatch(startLogout()),\r\n    locale: (lan)=>dispatch(changeLanguage(lan))\r\n})\r\n\r\nconst mapStateToProps=(state)=>({\r\n    user: state.auth.staff,\r\n    token: state.auth.token\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBarContainer);","import {CHNG_LANG} from './action_types/language';\r\n\r\nexport const changeLanguage=(lan)=>({\r\n    type: CHNG_LANG,\r\n    payload: lan\r\n});","import {connect} from 'react-redux';\r\n\r\nconst Security = props =>{\r\n    const test = +props.staffLevel>=(+props.level);\r\n\r\n    return(\r\n            test===true &&props.children\r\n    )\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staffLevel: state.auth.staff.level\r\n});\r\n\r\nexport default connect(mapStateToProps)(Security);","import React from 'react';\r\nimport {LinkContainer} from 'react-router-bootstrap';\r\nimport AddLocale from '../locales/Context';\r\nimport {Nav, NavItem} from 'react-bootstrap';\r\nimport Security from './login/Security';\r\n\r\nclass TabNavigation extends React.Component {\r\n    constructor(props, context) {\r\n      super(props, context);\r\n  \r\n      this.handleSelect = this.handleSelect.bind(this);\r\n  \r\n      this.state = {\r\n        key: 1\r\n      };\r\n    }\r\n  \r\n    handleSelect(key) {\r\n      this.setState({ key });\r\n    }\r\n  \r\n    render() {\r\n      const {locale} = this.props;\r\n      return (\r\n        <Nav bsStyle=\"tabs\" justified activeKey={this.state.key} onSelect={k => this.handleSelect(k)}>\r\n        \r\n          <LinkContainer to=\"/dashboard\"><NavItem eventKey={1}>{locale.mainNav.dashboard}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/purchase\"><NavItem eventKey={2}>{locale.mainNav.purchase}</NavItem></LinkContainer>\r\n          <Security level={3}><LinkContainer to=\"/staff\"><NavItem eventKey={3}>{locale.mainNav.staff}</NavItem></LinkContainer></Security>\r\n          <LinkContainer to=\"/customer\"><NavItem eventKey={4}>{locale.mainNav.customer}</NavItem></LinkContainer>\r\n          <LinkContainer to=\"/inventory\"><NavItem eventKey={5}>{locale.mainNav.inventory}</NavItem></LinkContainer>\r\n\r\n        </Nav>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default AddLocale(TabNavigation);","\r\nexport const validateEmail=(email)=>{\r\n    const re = /^(([^<>().,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase())?true:false;\r\n}\r\n","export const validateName=(name)=>{\r\n    return name.length>1?true:false;\r\n};\r\n\r\n","export const validatePhone=(number)=>{\r\n    const re = /(^[0-9]{11})/;\r\n    return re.test(number)&&number.length===11?true:false;   \r\n}","export const validateUsername=(username)=>{\r\n    return username.length>7?true:false;\r\n}","export const validatePassword=(password)=>{\r\n    const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#%&])(?=.{8,})/;\r\n    /**\r\n     * 1 + lowercase\r\n     * 1 + uppercase\r\n     * 1 + number\r\n     * 1 + !@#$%^&*\r\n     * least 8 characters long\r\n     */\r\n    return re.test(String(password));\r\n}","export const confirmPassword=(password, password2)=>{\r\n        return password===password2?true:false;\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {FormControl, FormGroup, Button, HelpBlock, Col, Row} from 'react-bootstrap';\r\nimport {validateUsername, validatePassword} from '../validationFunctions/index';\r\nimport {startLogin} from '../../store/actions/auth';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DEFAULTS={\r\n    username: '',\r\n    password: '',\r\n    isUsername: true,\r\n\r\n    userF:false,\r\n    passF:false,\r\n    displayBtn:false    \r\n};\r\n\r\nconst styles={\r\n    margin: '15vh',\r\n    paddingTop: '1vh',\r\n    \r\n    marginLeft: '5vh',\r\n    paddingLeft: '10vh',\r\n\r\n    marginRight: '5vh',\r\n    paddingRight: '10vh',\r\n    \r\n    paddingBottom: '5vh',\r\n    border: 'solid black 1px',\r\n    borderRadius: '5px'\r\n};\r\n\r\nconst titleStyle={\r\n    textAlign:'center', \r\n    paddingBottom: '30px'\r\n};\r\n\r\n\r\nclass Login extends React.Component{ \r\n    state={\r\n        username: '',\r\n        password: '',\r\n        isUsername: true,\r\n\r\n        userF:false,\r\n        passF:false,\r\n        displayBtn:false\r\n    };\r\n\r\n    validateLocalUsername=()=>{\r\n    if(this.state.userF){\r\n            if(this.state.username.length>8){\r\n                this.setState({displayBtn:true});\r\n            }\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false, displayBtn:true});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n    \r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    userChange=val=>{\r\n        this.setState({\r\n            username:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validateUsername(this.state.username)});\r\n        });\r\n    };\r\n\r\n    passChange=val=>{\r\n        this.setState({\r\n            password:val.target.value\r\n        }, ()=>{\r\n            this.setState({displayBtn: validatePassword(this.state.password)});\r\n        });\r\n    };\r\n\r\n    displayUsername = ()=>(\r\n            <div>\r\n                <h1 style={titleStyle}>ShangNaDavid</h1>\r\n                <h2>{this.props.locale.staff.username}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                <FormControl type=\"Username\" placeholder={this.props.locale.staff.username} value={this.state.username} onChange={val=>this.userChange(val)}/>\r\n                                {this.state.userF && <HelpBlock>{this.props.locale.HELP.username}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n        \r\n        displayPassword = ()=>(\r\n            <div>\r\n                <h1 style={titleStyle}>ShangNaDavid</h1>\r\n                <h2>{this.props.locale.staff.password}</h2>\r\n                <form>\r\n                    <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                <FormControl type=\"Password\" placeholder={this.props.locale.staff.password} value={this.state.password} onChange={val=>this.passChange(val)}/>\r\n                                {this.state.passF && <HelpBlock>{this.props.locale.HELP.password}</HelpBlock>}\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </form>                \r\n            </div>\r\n        )\r\n\r\n\r\n    btnOnClick=()=>{\r\n        if(this.state.isUsername){\r\n            this.setState({isUsername:false, displayBtn:false, userF:false, passF:false,});\r\n        }else{\r\n            this.props.startLogin(this.state.username, this.state.password);\r\n        }\r\n    }\r\n    // \r\n    cancel=()=>{\r\n        this.setState({\r\n            ...DEFAULTS\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n            <div className=\"container\">\r\n                <Col md={8} mdOffset={2}>\r\n                <div style={styles}>\r\n\r\n                <Row>\r\n                    {this.state.isUsername? this.displayUsername() : this.displayPassword()}\r\n                    {this.state.displayBtn &&\r\n                        <div>\r\n                            <Row>\r\n                                <Col md={12}>\r\n                                    <Button bsStyle=\"info\" onClick={()=>{this.btnOnClick()}} block disabled={this.props.isLoading}>\r\n                                        {locale.btns.next}\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    }\r\n                    </Row>\r\n                        <div>\r\n                    <Row>\r\n\r\n                    <Col md={12}>\r\n                        <br/>\r\n                        <Button bsStyle=\"warning\" onClick={()=>{this.cancel()}} block disabled={this.props.isLoading}>\r\n                            {locale.btns.cancel}\r\n                        </Button>\r\n                    </Col>\r\n                </Row>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    startLogin : (username, password)=>dispatch(startLogin(username, password))\r\n});\r\n\r\nconst mapStateToProps=(state)=>({\r\n    isLoading: state.spinner.isLoading\r\n})\r\n\r\n// export default Login;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddLocale(Login));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst IsAuth = props =>(\r\n        <div>\r\n        {\r\n            props.token && props.children\r\n        }\r\n        </div>\r\n)\r\n\r\nconst mapStateToProps=(state)=>({\r\n    token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(IsAuth);","import React from 'react';\r\n\r\nexport default ()=>(\r\n    <div>\r\n        <h2 style={{marginBottom:'30px', marginTop:'20px'}}>Phase 2 in development</h2>\r\n        <h4>Features to be implemented</h4>\r\n        <ul>\r\n            <li>Better design of login page and home, inc. use of glyphs</li>\r\n            <li>Better customer and inventory management</li>\r\n            <li>Viewing/searching/filtering of purchase details</li>\r\n            <li>Sales statistics</li>\r\n            <li>Staff performance statistics</li>\r\n            <li>Inventory statistics</li>\r\n            <li>Email customer receipt</li>\r\n            <li>Notification of customer birthdays</li>\r\n            <li>News letter creation</li>\r\n            <li>Strengthened security</li>\r\n            <li>Addition of image upload/display for inventory</li>\r\n            <li>Staff details management including password change/recovery</li>\r\n            <li>More informative error message reports</li>\r\n            <li>Ability to leave custom messages for staff</li>\r\n        </ul>\r\n        <p style={{marginTop:'20px'}}>Estimated date of completion: December 2018</p>\r\n    </div>\r\n)","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Alert} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass AlertBar extends React.Component{ \r\n\r\n    findMsg=(msg)=>{\r\n        return this.props.locale.ALERTS.filter(x=>x===msg);\r\n    }\r\n\r\n    render(){\r\n        const {msg, typ}=this.props.alert;\r\n        const {locale} = this.props;\r\n        return(\r\n            <div>\r\n            {msg&&\r\n                <Alert bsStyle={typ}>\r\n                    <p>\r\n                        {locale.ALERTS[msg]}\r\n                    </p>\r\n                </Alert>\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    alert : state.alert\r\n});\r\n\r\nexport default connect(mapStateToProps)(AddLocale(AlertBar));","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { RingLoader } from 'react-spinners';\r\n \r\n\r\n\r\nclass Spinner extends React.Component {\r\n  \r\n  render() {\r\n    const {isLoading} = this.props;\r\n    const styles={\r\n      position: \"absolute\",\r\n      top:0,\r\n      left:0,\r\n      alignItems: \"center\",\r\n      display:\"flex\",\r\n      height: \"100vh\",\r\n      justifyContent: \"center\",\r\n      width: \"100vw\",\r\n      zIndex:-9999\r\n    };\r\n\r\n    // const z = {zIndex:1, backgroundColor:'rgb(214, 255, 227, 0.4)'}\r\n    const z = {zIndex:999, backgroundColor:'rgb(89, 108, 255, 0.2)'}\r\n\r\n    return (\r\n      <div style={isLoading?{...styles, ...z}:styles}>\r\n        <RingLoader\r\n          sizeUnit={\"vh\"}\r\n          size={20}\r\n          color={'#00FFFF'}\r\n          loading={isLoading}\r\n        />\r\n      </div> \r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps=(state)=>({\r\n    isLoading: state.spinner.isLoading\r\n});\r\n\r\nexport default connect(mapStateToProps)(Spinner);","import React from 'react';\r\nimport {\r\n    HelpBlock, Form, FormControl, FormGroup, Col, Row, ControlLabel, Button, InputGroup, DropdownButton, MenuItem, ButtonToolbar\r\n} from 'react-bootstrap';\r\nimport {validateEmail, validateName, validateUsername, validatePassword, confirmPassword} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DEFAULTSTATE= {\r\n    name:'',\r\n    level: 0,\r\n    username:'',\r\n    email:'',\r\n    password:'',\r\n    password2:'',\r\n\r\n    nameF:false,\r\n    emailF:false,\r\n    userF:false,\r\n    passF:false,\r\n    passC:false,\r\n    levelF: true\r\n};\r\n\r\nclass StaffForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        level: 0,\r\n        username:'',\r\n        email:'',\r\n        password:'',\r\n        password2:'',\r\n\r\n        nameF:false,\r\n        emailF:false,\r\n        userF:false,\r\n        passF:false,\r\n        passC:false,\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, level, username, email, password} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({name, level, username, email, password});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n            validateEmail(this.state.email) &&\r\n            validateUsername(this.state.username) &&\r\n            validatePassword(this.state.password)?true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalUsername=()=>{\r\n        if(this.state.userF){\r\n            const con= validateUsername(this.state.username);\r\n            con&&this.setState({userF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalPassword=()=>{\r\n        /**\r\n         * 1 + lowercase\r\n         * 1 + uppercase\r\n         * 1 + number\r\n         * 1 + !@#$%^&*\r\n         * least 8 characters long\r\n         */\r\n        if(this.state.passF){\r\n            const con = validatePassword(this.state.password);\r\n            con&&this.setState({passF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    confirmLocalPassword=()=>{\r\n        const {password, password2}=this.state;\r\n\r\n        if(this.state.passC && password2.length===0){\r\n            return \"error\";\r\n        }else if(this.state.passC){\r\n            const con = confirmPassword(password, password2);\r\n            con&&this.setState({passC:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }    \r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n            <div style={{paddingTop:'3vh'}}>\r\n            <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                    {locale.staff.name}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Text\" placeholder={locale.staff.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                    {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col xs={2} smOffset={2}>\r\n                        <ButtonToolbar>\r\n                            <DropdownButton\r\n                                componentClass={InputGroup.Button}\r\n                                id=\"input-dropdown-addon\"\r\n                                title=\"Security Level\"\r\n                                key={this.state.level}\r\n                                onSelect={(eventKey=>this.setState({level:eventKey}))}\r\n                            >\r\n                                {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} active>{item}</MenuItem>)}\r\n\r\n                            </DropdownButton>\r\n                        </ButtonToolbar>\r\n                    </Col>\r\n                    <Col xs={4} xsOffset={2} smOffset={0}>\r\n                        <h5>{`${locale.commonInfo.selected} ${locale.staff.LEVEL[parseInt(this.state.level)]}`}</h5>\r\n                    </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.email}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Email\" placeholder={locale.staff.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                    {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalUsername\" validationState={this.validateLocalUsername()} onBlur={()=>this.setState({userF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.username}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Username\" placeholder={locale.staff.username} value={this.state.username} onChange={val=>this.setState({username:val.target.value})}/>\r\n                    {this.state.userF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n                \r\n                <FormGroup controlId=\"formHorizontalPassword\" validationState={this.validateLocalPassword()} onBlur={()=>this.setState({passF:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.password}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.password} value={this.state.password} onChange={val=>this.setState({password:val.target.value})}/>\r\n                    {this.state.passF && <HelpBlock>{locale.HELP.password}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup controlId=\"formHorizontalConfirmPassword\" validationState={this.confirmLocalPassword()} onBlur={()=>this.setState({passC:true})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.staff.repassword}\r\n                    </Col>\r\n                    <Col sm={4}>\r\n                    <FormControl type=\"Password\" placeholder={locale.staff.repassword} value={this.state.password2} onChange={val=>this.setState({password2:val.target.value})}/>\r\n                    {this.state.passC && <HelpBlock>{locale.HELP.confirmPass}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <hr/>\r\n                        <Col smOffset={2} sm={2}>\r\n                            <Button type=\"submit\" bsStyle=\"success\" block disabled={this.props.disabled}>{locale.btns.submit}</Button>\r\n                        </Col>\r\n                        <Col sm={2}>\r\n                            <Button bsStyle=\"warning\" onClick={()=>this.clear()} block disabled={this.props.disabled}>{locale.btns.clear}</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </FormGroup>\r\n            </Form>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(StaffForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nconst DisplayStaff = ({staff, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{staff.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.staff.level}: ${locale.staff.LEVEL[staff.level]}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.staff.email}: ${staff.email}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayStaff);","import React from 'react';\r\nimport {Col, Row, Button, InputGroup, MenuItem, DropdownButton} from 'react-bootstrap';\r\nimport DisplayStaff from '../presentational/DisplayStaff';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass UpdateStaffLevelForm extends React.Component{ \r\n    state={\r\n        name: this.props.staff.name,\r\n        level: +this.props.staff.level\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.staff.name){\r\n            return{\r\n                level: +nextProps.staff.level, \r\n                name:nextProps.staff.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {staff, onUpdateLevel, deleteStaff, locale, userName} = this.props;\r\n        const {level} = this.state;\r\n        const origLevel =+staff.level;\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayStaff staff={staff} />\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col sm={5}>\r\n                    <InputGroup>\r\n                    <DropdownButton\r\n                      componentClass={InputGroup.Button}\r\n                      id=\"input-dropdown-addon\"\r\n                      title={locale.staff.updateSecurityLvl}\r\n                      eventKey={level}\r\n                      onSelect={(eventKey=>this.setState({level:+eventKey}))}\r\n                      block\r\n                    >\r\n                        {locale.staff.LEVEL.map((item, val)=><MenuItem eventKey={val} key={val} active={val===level?true:false}>{item}</MenuItem>)}\r\n                    </DropdownButton>\r\n                  </InputGroup>\r\n                  </Col>\r\n                  </Row>\r\n                  <Row>\r\n                  <Col sm={5}>\r\n                  {userName!==staff.name&&<Button bsStyle=\"success\" disabled={(level===origLevel||this.props.disabled)&&true} onClick={()=>onUpdateLevel(level)} block> {level===origLevel?locale.staff.LEVEL[level] : `${locale.btns.updateLvl} ${locale.staff.LEVEL[level]}`}</Button>}\r\n                  {userName!==staff.name&&<Button bsStyle=\"danger\" onClick={()=>deleteStaff()} disabled={this.props.disabled}>{locale.btns.delete}</Button>}\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(UpdateStaffLevelForm);","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport StaffForm from '../forms/StaffForm';\r\nimport UpdateStaffLevelForm from '../forms/UpdateStaffLevelForm';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\n\r\nclass StaffSubTabs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 1\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {staff, locale}=this.props;\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.staff.staffDetails}>\r\n              <div style={{paddingTop:'3vh'}}>\r\n                {staff!=null&&<UpdateStaffLevelForm {...this.props}/>}\r\n              </div>\r\n            </Tab>\r\n\r\n\r\n            <Tab eventKey={2} title={locale.staff.newStaff}>\r\n              <Security level={3}>\r\n                <StaffForm disabled={this.props.disabled} onSubmit={this.props.onSubmit}/>\r\n              </Security>\r\n            </Tab>\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(StaffSubTabs);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\n\r\nexport default ({name, getStaff, id, iselected}) => (\r\n  <div onClick={val=>getStaff(id)}>\r\n    <Panel bsStyle={iselected?\"success\":\"info\"}>\r\n      <Panel.Heading>{name}</Panel.Heading>\r\n    </Panel>\r\n  </div>\r\n);\r\n","import {FETCH_STAFF} from './action_types/staff';\r\n\r\nexport const fetchAllStaff=(payload)=>({\r\n    type: FETCH_STAFF,\r\n    payload\r\n});","export default [\r\n    {   level: 3,\r\n        active: true,\r\n        _id: \"5bb7198fe61d4a7\",\r\n        name: \"Demo: David\",\r\n        username: \"thedrunkingpig\",\r\n        password: \"$2a$10$YetGNQ7h0.t.WZBI1O1EIe\",\r\n        email: \"mullxxxxxxxxxxxxxxxxx@hotmail.com\"\r\n    },\r\n    {   level: 2,\r\n        active: true,\r\n        _id: \"5bb7456d4a7\",\r\n        name: \"Demo: Michaela\",\r\n        username: \"thedrunkingpig\",\r\n        password: \"$2a.t.WZBI1O1EIe\",\r\n        email: \"m23xxxxx@hotmail.com\"\r\n    },\r\n    {   level: 1,\r\n        active: true,\r\n        _id: \"5bb73211d4a7\",\r\n        name: \"Demo: Euan\",\r\n        username: \"thedrunkingpig\",\r\n        password: \"$2a$10$YetGNO1EIe\",\r\n        email: \"123x@hotmail.com\"\r\n    },\r\n]","import {fetchAllStaff} from '../actions/staff';\r\nimport {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\nimport {startLoader, endLoader} from '../actions/spinner';\r\n\r\n\r\n\r\nimport dummyStaff from '../DemoData/staff';\r\nexport const fetchStaff=()=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(fetchAllStaff(dummyStaff));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n        }else{\r\n            dispatch(fetchStaff_real());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const fetchStaff_real=()=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/staff`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchAllStaff(response));\r\n            }\r\n\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch(err=>dispatch(setAlert(err.errmsg, DANGER)));\r\n    }\r\n}\r\n\r\n\r\nexport const createStaff=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n\r\n            const x= Math.random() * (3 - 0) + 0;\r\n            if(x===0){\r\n                const y= Math.random() * (3 - 0) + 0;\r\n                switch(y){\r\n                    case 0:\r\n                        dispatch(setAlert('DEMO_STAFF_EXISTS', DANGER));\r\n                        return;\r\n                    case 1:\r\n                        dispatch(setAlert('DEMO_STAFF_INVALID_EMAIL', DANGER));\r\n                        return;\r\n                    default:\r\n                        dispatch(setAlert('DEMO_STAFF_EMAIL_EXISTS', DANGER));\r\n                        return;\r\n                };\r\n            }else{\r\n                dispatch(setAlert('DEMO_STAFF_CREATED',SUCCESS));\r\n            }\r\n\r\n            dispatch(endLoader());\r\n\r\n\r\n        }else{\r\n            dispatch(createStaff_real(values));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const createStaff_real=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/signup`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else{\r\n                dispatch(setAlert('staff_created', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const updateLevel=(id, level)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n\r\n            dispatch(startLoader());\r\n            setTimeout(()=>{\r\n                dispatch(setAlert('DEMO_STAFF_LEVEL', SUCCESS));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n\r\n        }else{\r\n            dispatch(createStaff_real(id, level));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const updateLevel_real=(id, level)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/staff`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id, data: {level}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(endLoader());\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('level_updated', SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const deleteStaffMember=(id)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n\r\n            dispatch(startLoader());\r\n            setTimeout(()=>{\r\n                dispatch(setAlert('DEMO_STAFF_DELETED', SUCCESS));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n\r\n        }else{\r\n            dispatch(deleteStaffMember_real(id));\r\n        }        \r\n    }\r\n}\r\n\r\n\r\nexport const deleteStaffMember_real=(id)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/staff`,{\r\n            method: 'DELETE',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify({id})\r\n        })\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(endLoader());\r\n                dispatch(setAlert(response.err, DANGER));\r\n            } else{\r\n                dispatch(setAlert('staff_deleted',SUCCESS));\r\n                dispatch(fetchStaff());\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport StaffSubTabs from '../presentational/StaffSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport {fetchStaff, createStaff, updateLevel, deleteStaffMember} from '../../store/helpers/staffFetchers';\r\n\r\n\r\n\r\nclass StaffContainer extends React.Component{ \r\n    state={\r\n        allStaff:[],\r\n        selectedStaff:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.staff !== prevState.allStaff){\r\n            return {\r\n                allStaff: nextProps.staff,\r\n                selectedStaff: nextProps.staff[0]\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.allStaff();\r\n    }\r\n    \r\n\r\n    getStaff=(id)=>{\r\n        const staff = this.state.allStaff.filter(temp=>temp._id===id);\r\n        this.setState({selectedStaff:staff[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedStaff==null){\r\n            return false;\r\n        }else if(id===this.state.selectedStaff._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n/***TODO:\r\n *  \r\n *  update secutity level\r\n *  block the account\r\n *  if account blocked, unblock it\r\n *  show blocked accounts in red\r\n *  filter \r\n * \r\n *  submit newly created staff\r\n *  clear new staff form\r\n */\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createStaff(values);\r\n    }\r\n\r\n    onUpdateLevel=(newLevel)=>{\r\n        this.props.updateLevel(this.state.selectedStaff._id, newLevel);\r\n    }\r\n\r\n    deleteStaff=()=>{\r\n        this.props.deleteStaffMember(this.state.selectedStaff._id);\r\n    }\r\n\r\n    render(){\r\n        const {allStaff}=this.state;\r\n        return(\r\n        <div style={{paddingTop:'3vh'}}>\r\n            <Col sm={2}>\r\n            {allStaff.length>0&&allStaff.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <StaffSubTabs disabled={this.props.isLoading} userName={this.props.name} staff={this.state.selectedStaff} deleteStaff={this.deleteStaff} onSubmit={this.onSubmit} onUpdateLevel={this.onUpdateLevel}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    staff: state.staff,\r\n    isLoading: state.spinner.isLoading\r\n})\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    allStaff: ()=>dispatch(fetchStaff()),\r\n    createStaff: (values)=>dispatch(createStaff(values)),\r\n    updateLevel: (level, id)=>dispatch(updateLevel(level, id)), \r\n    deleteStaffMember: (id)=>dispatch(deleteStaffMember(id))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StaffContainer);","export const HELP={\r\n    name:'Name must contain at least 2 characters',\r\n    email:'Enter a valid email',\r\n    username:'Username must contain at least 8 characters',\r\n    password: 'At least 8 characters long. Must contain: 1 uppercase, 1 number, 1 !@#$%^&*',\r\n    confirmPass: 'Password does not match',\r\n    phone: 'Must be 11 numbers',\r\n    wechat:'Wechat must contain at least 2 characters'\r\n};\r\n\r\n\r\nexport const LEVEL=['Basic', 'Junior', 'Advanced', 'Admin'];\r\n\r\nexport const CUSTOMERTYPES=['new', 'current', 'super', 'god like'];\r\n\r\nexport const MONTHS=['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col,ControlLabel, Button, HelpBlock, Row, Radio\r\n} from 'react-bootstrap';\r\n\r\nimport {validateEmail, validateName, validatePhone, validateUsername} from '../validationFunctions/index';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {MONTHS} from '../defaultStates';\r\n\r\nconst DEFAULTSTATE ={\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    wechat:'',\r\n    dob:'',\r\n    sex: true,     //true=male, false=female\r\n    address:'',\r\n    type: 0,\r\n\r\n    day:1,\r\n    month:0,\r\n    year:1945,\r\n\r\n    nameF: false,\r\n    emailF: false,\r\n    phoneF: false,\r\n    wechatF: false,\r\n    addF: false\r\n    \r\n}\r\n\r\nclass CustomerForm extends React.Component{ \r\n    state={\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        wechat:'',\r\n        dob:'',\r\n        sex: true,     //true=male, false=female\r\n        address:'',\r\n        type: 0,\r\n\r\n        day:1,\r\n        month:0,\r\n        year:1945,\r\n    \r\n        nameF: false,\r\n        emailF: false,\r\n        phoneF: false,\r\n        wechatF: false,\r\n        addF: false\r\n    }\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {name, email, phone, wechat, type, sex, address, day, month, year} = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            const dob = new Date(year, month, day);\r\n            this.props.onSubmit({name, email, phone, wechat, type, dob, sex, address});\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name)&&\r\n        validateName(this.state.wechat)&&\r\n        validateEmail(this.state.email)&&\r\n        validatePhone(this.state.phone)? true:false;\r\n    }\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalWechat=()=>{\r\n        if(this.state.wechatF){\r\n            const con = validateName(this.state.wechat);\r\n            con&&this.setState({wechatF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalEmail=()=>{\r\n        if(this.state.emailF){\r\n            const con = validateEmail(this.state.email);\r\n            con&&this.setState({emailF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalAddress=()=>{\r\n        if(this.state.addF){\r\n            const con = validateUsername(this.state.address);\r\n            con&&this.setState({addF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n    validateLocalPhone=()=>{\r\n        if(this.state.phoneF){\r\n            const con = validatePhone(this.state.phone);\r\n            con&&this.setState({phoneF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }      \r\n    }\r\n\r\n    clear=()=>{\r\n        this.setState({...DEFAULTSTATE});\r\n    }  \r\n\r\n    calculateDays=()=>{\r\n        const {month}=this.state;\r\n        const thirty = [3, 5, 8, 10];\r\n        const thirty1= [0, 2, 4, 6, 7, 9, 11];\r\n        let limit=0;\r\n\r\n        if(thirty.includes(month)){\r\n            limit=30;\r\n        } else if(thirty1.includes(month)){\r\n            limit=31;\r\n        } else{\r\n            limit=28;\r\n        }\r\n\r\n        let temp=[];\r\n        \r\n        for (let i = 0; i < limit; i++) { \r\n            temp.push(i);\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    createYears=()=>{\r\n        let temp=[];\r\n        const limit=new Date().getFullYear();\r\n        for (let i = 1945; i < limit+1; i++) { \r\n            temp.push(i);\r\n        }\r\n        return temp;\r\n    }\r\n\r\n\r\n    render(){\r\n        const DAYS = this.calculateDays();\r\n        const YEARS = this.createYears();\r\n        const {locale} = this.props;\r\n        \r\n        return(\r\n            <div style={{paddingTop:'3vh'}}>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n\r\n    <Row>\r\n        <Col xs={6}>\r\n                    <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.name}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                        {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalEmail\" validationState={this.validateLocalEmail()} onBlur={()=>this.setState({emailF:true})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.email}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Email\" placeholder={locale.customer.email} value={this.state.email} onChange={val=>this.setState({email:val.target.value})}/>\r\n                        {this.state.emailF && <HelpBlock>{locale.HELP.email}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup controlId=\"formHorizontalPhone\" validationState={this.validateLocalPhone()} onBlur={()=>this.setState({phoneF:true})} onFocus={()=>this.setState({phoneF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                            {locale.customer.phone}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Number\" placeholder={locale.customer.phone} value={this.state.phone} onChange={val=>this.setState({phone:val.target.value})}/>\r\n                        {this.state.phoneF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n                    \r\n                    <FormGroup controlId=\"formHorizontalWechat\" validationState={this.validateLocalWechat()} onBlur={()=>this.setState({wechatF:true})} onFocus={()=>this.setState({wechatF:false})}>\r\n                        <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.wechat}\r\n                        </Col>\r\n                        <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.wechat} value={this.state.wechat} onChange={val=>this.setState({wechat:val.target.value})}/>\r\n                        {this.state.wechatF && <HelpBlock>{locale.HELP.wechat}</HelpBlock>}\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col xs={4} smOffset={1}>\r\n                                <FormControl componentClass=\"select\" placeholder=\"select\" onChange={(val=>this.setState({type:val.target.value}))}>\r\n                                    {locale.customer.CUSTOMERTYPES.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                                </FormControl>\r\n                            </Col>\r\n                            <Col xs={4} xsOffset={1} smOffset={1}>\r\n                                <h5>{`${locale.customer.selected} ${locale.customer.CUSTOMERTYPES[parseInt(this.state.type)]}`}</h5>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n            </Col>\r\n\r\n            <Col xs={6}>\r\n                <FormGroup controlId=\"formHorizontalAddress\" validationState={this.validateLocalAddress()} onBlur={()=>this.setState({addF:true})} onFocus={()=>this.setState({addF:false})}>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.address}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <FormControl type=\"Text\" placeholder={locale.customer.address} value={this.state.address} onChange={val=>this.setState({address:val.target.value})}/>\r\n                        {this.state.addF && <HelpBlock>{locale.HELP.username}</HelpBlock>}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup controlId=\"formHorizontalSex\">\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        {locale.customer.sex}\r\n                    </Col>\r\n                    <Col sm={6}>\r\n                        <Radio name=\"radioGroup\" defaultChecked inline onChange={val=>this.setState({sex:true})}>\r\n                            {locale.customer.male}\r\n                        </Radio>{' '}\r\n                        <Radio name=\"radioGroup\" inline onChange={val=>this.setState({sex:false})}>\r\n                            {locale.customer.female}\r\n                        </Radio>{' '}\r\n                    </Col>\r\n                </FormGroup>\r\n\r\n\r\n                <FormGroup>\r\n                    <Row>\r\n                    <Col componentClass={ControlLabel} sm={2}>\r\n                        DoB\r\n                    </Col>\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({month:val.target.value})}> \r\n                                {MONTHS.map((item, val)=><option value={val} key={val}>{item}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({day:val.target.value+1})}>\r\n                                {DAYS.map((item, val)=><option value={val} key={val}>{item+1}</option>)}\r\n                            </FormControl>\r\n                        </Col>\r\n\r\n\r\n                        <Col xs={3}>\r\n                            <FormControl componentClass=\"select\" placeholder=\"select\" onChange={val=>this.setState({year:val.target.value})}>\r\n                                {YEARS.map((item, val)=><option value={item} key={val}>{item}</option>)}\r\n                            </FormControl>                            \r\n                        </Col>\r\n\r\n                    </Row>\r\n                </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n            <Col xs={12}>\r\n                <hr/>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col smOffset={2} sm={4}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block disabled={this.props.disabled}>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block disabled={this.props.disabled}>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n\r\n            </Col>\r\n        </Row>\r\n\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(CustomerForm);","import React from 'react';\r\nimport {Panel} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DisplayCustomer = ({customer, locale})=>(\r\n    <div>\r\n         <Panel bsStyle=\"primary\">\r\n            <Panel.Heading>{customer.name}</Panel.Heading>\r\n            <Panel.Body>{`${locale.customer.phone}: ${customer.phone}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.wechat}: ${customer.wechat}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.email}: ${customer.email}`}</Panel.Body>\r\n            <Panel.Body>{`${locale.customer.type}: ${locale.customer.CUSTOMERTYPES[customer.customerType]}`}</Panel.Body>\r\n        </Panel> \r\n    </div>\r\n);\r\n\r\nexport default AddLocale(DisplayCustomer);","import React from 'react';\r\nimport {Col, Row} from 'react-bootstrap';\r\nimport DisplayCustomer from '../presentational/DisplayCustomer';\r\n\r\n\r\nclass ViewCustomerDetails extends React.Component{ \r\n    state={\r\n        name: this.props.customer.name\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(prevState.name!== nextProps.customer.name){\r\n            return{\r\n                name:nextProps.customer.name\r\n            };\r\n        } else{\r\n            return prevState;\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {customer} = this.props;\r\n\r\n        return(\r\n            <div>\r\n                 <Row>\r\n                    <Col sm={5}>\r\n                      <DisplayCustomer customer={customer} />\r\n                    </Col>\r\n                  </Row>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default ViewCustomerDetails;","import React from 'react';\r\nimport {Tab, Tabs} from 'react-bootstrap';\r\n\r\nimport CustomerForm from '../forms/CustomerForm';\r\nimport ViewCustomerDetails from '../forms/ViewCustomerDetails';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\n\r\nclass CustSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {customer, locale}=this.props;\r\n\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.customer.customerDetails}>\r\n              <div style={{paddingTop:'3vh'}}>\r\n                {customer!=null&&<ViewCustomerDetails {...this.props}/>}\r\n              </div>\r\n            </Tab>\r\n\r\n\r\n            \r\n              <Tab eventKey={2} title={locale.customer.newCustomer}>\r\n                <Security level={3}>\r\n                  <CustomerForm disabled={this.props.disabled} onSubmit={this.props.onSubmit}/>\r\n                </Security>\r\n              </Tab>\r\n            \r\n\r\n\r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(CustSubTabs);","import {FETCH_CUSTOMERS} from './action_types/customers';\r\n\r\nexport const fetchAllCustomers=(payload)=>({\r\n    type: FETCH_CUSTOMERS,\r\n    payload\r\n})","export default [\r\n    {\r\n        sex: true,\r\n        customerType: 0,\r\n        purchaseTtl: 1654,\r\n        _id: \"5bb9e442eb3d5b002a42aa4b\",\r\n        name: \"Demo: Chris\",\r\n        email: \"Chris@Chris.com\",\r\n        phone: \"12634567897\",\r\n        wechat: \"chrischris\",\r\n        dob: \"1962-10-28T16:00:00.000Z\",\r\n        address: \"12432132i\"\r\n    },\r\n    {\r\n        sex: false,\r\n        customerType: 2,\r\n        purchaseTtl: 0,\r\n        _id: \"5bb9e4422aa4b\",\r\n        name: \"Demo: Michelle\",\r\n        email: \"Michelle@someEmail.com\",\r\n        phone: \"12634567897\",\r\n        wechat: \"michelle_123\",\r\n        dob: \"1962-10-28T16:00:00.000Z\",\r\n        address: \"12432132i\"\r\n    },\r\n    {\r\n        sex: true,\r\n        customerType: 0,\r\n        purchaseTtl: 9999,\r\n        _id: \"5bb9wwwwwwwwwwwwwwwwwwwwwwwwwwwwfdsa4b\",\r\n        name: \"Demo: Finlay\",\r\n        email: \"finlay@finlay.com\",\r\n        phone: \"12634567897\",\r\n        wechat: \"finlayxxxxx\",\r\n        dob: \"1962-10-28T16:00:00.000Z\",\r\n        address: \"124\"\r\n    },\r\n]","import {setAlert} from '../actions/notification';\r\nimport {fetchAllCustomers} from '../actions/customers';\r\nimport {startLoader, endLoader} from '../actions/spinner';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\n\r\n\r\nimport dummyCustomer from '../DemoData/customers';\r\n\r\nexport const fetchCustomers=()=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(fetchAllCustomers(dummyCustomer));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n\r\n\r\n        } else {\r\n            dispatch(fetchCustomers_real());\r\n        }\r\n    };\r\n};\r\n\r\n\r\nexport const fetchCustomers_real=()=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/customer/all`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else{\r\n                dispatch(fetchAllCustomers(response));\r\n            }\r\n\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(setAlert(err.errmsg, DANGER));\r\n            dispatch(endLoader());\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const createCustomer=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n\r\n            const x= Math.random() * (3 - 0) + 0;\r\n            if(x===0){\r\n                const y= Math.random() * (3 - 0) + 0;\r\n                switch(y){\r\n                    case 0:\r\n                        dispatch(setAlert('DEMO_CUSTOMER_EXISTS', DANGER));\r\n                        return;\r\n                    case 1:\r\n                        dispatch(setAlert('DEMO_INVALID_EMAIL', DANGER));\r\n                        return;\r\n                    default:\r\n                        dispatch(setAlert('DEMO_EMAIL_EXISTS', DANGER));\r\n                        return;\r\n                };\r\n            }else{\r\n                dispatch(setAlert('DEMO_CUSTOMER_ADDED',SUCCESS));\r\n            }\r\n\r\n            dispatch(endLoader());\r\n\r\n        } else {\r\n            dispatch(fetchCustomers_real(values));\r\n        }\r\n    };\r\n};\r\n\r\nexport const createCustomer_real=(values)=>{\r\n    return (dispatch,getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/customer`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchCustomers());\r\n                dispatch(setAlert('customer_added',SUCCESS));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch(err=>{dispatch(endLoader());}); \r\n    }\r\n};\r\n\r\n\r\nexport const updateCustomerTTL=(values)=>{\r\n    return (dispatch,getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/customer/total`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token,\r\n            },\r\n            body: JSON.stringify(values)\r\n        }\r\n        )\r\n        .then(response=>response.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                dispatch(endLoader());\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n            } else{\r\n                dispatch(fetchCustomers());\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch(err=>{dispatch(endLoader());}); \r\n    }\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col} from 'react-bootstrap';\r\n\r\nimport CustSubTabs from '../presentational/CustSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\nimport { fetchCustomers, createCustomer } from '../../store/helpers/customerFetchers';\r\n\r\n\r\nclass CustomerContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        selectedCust:''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.customers !== prevState.allCust){\r\n            const x = nextProps.customers.length;\r\n            return {\r\n                allCust: nextProps.customers,\r\n                selectedCust: x>0?nextProps.customers[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n    }\r\n\r\n    getStaff=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({selectedCust:cust[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedCust==null){\r\n            return false;\r\n        }else if(id===this.state.selectedCust._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.createCustomer(values, this.props.token)\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Customer ${this.state.selectedCust.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    deleteCustomer=()=>{\r\n        alert(`Will delete ${this.state.selectedCust.name}`)\r\n    }\r\n\r\n    render(){\r\n        const {allCust} = this.state;\r\n        return(\r\n            <div style={{paddingTop:'3vh'}}>\r\n            <Col sm={2}>\r\n                {allCust.length>0&&allCust.map(item=><StaffItem name={item.name} getStaff={this.getStaff} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n            </Col>\r\n            <Col sm={10}>\r\n                <CustSubTabs disabled={this.props.isLoading} customer={this.state.selectedCust} deleteCustomer={this.deleteCustomer} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n            </Col>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    customers: state.customers,\r\n    isLoaded: state.spinner.isLoading\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    createCustomer: (values)=>dispatch(createCustomer(values))\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomerContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst BasicInventoryDetails = (props) =>{\r\n    const {productType, name, description, quantity, retailPrice}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{name}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.type}</Col>\r\n                            <Col md={8}>{productType}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.description}</Col>\r\n                            <Col md={8}>{description}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.quantity}</Col>\r\n                            <Col md={8}>{quantity}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.retailPrice}</Col>\r\n                            <Col md={8}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                        </Row>                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(BasicInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass RestrictedInventoryDetails extends React.Component{\r\n    state={\r\n        newPrice: 0\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changePrice, locale} = this.props;\r\n        const {costPrice, retailPrice}=inventory;\r\n        return (\r\n            <div>\r\n                <Col>\r\n                    <Panel bsStyle=\"info\">\r\n                        <Panel.Heading><b>{locale.inventory.pricing}</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.costPrice}:</Col>\r\n                                <Col md={8}>{costPrice} rmb</Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        </Security>\r\n\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.retailPrice}:</Col>\r\n                                <Col md={4}>{retailPrice} {locale.commonInfo.rmb}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalName\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newPrice} onChange={event=>this.setState({newPrice: event.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" block disabled={this.props.disabled} onClick={()=>changePrice(this.state.newPrice)}>{locale.btns.updatePrc}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                                <hr/>\r\n                            </Row>\r\n                        \r\n                        <Security level={3}>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.profit}:</Col>\r\n                                <Col md={8}>{retailPrice-costPrice} {locale.commonInfo.rmb}</Col>\r\n                            </Row>\r\n                        </Security>\r\n                        </Panel.Body>\r\n                    </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddLocale(RestrictedInventoryDetails);","import React from 'react';\r\nimport {Panel, Row, Col, FormControl, FormGroup, Button} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst requireStyle=(quantity)=>{\r\n    if(quantity===0){\r\n        return \"danger\"\r\n    } else if(quantity < 10){\r\n        return \"warning\"\r\n    } else {\r\n        return \"success\";\r\n    }\r\n}\r\n\r\nclass InventoryChangeQuantity extends React.Component{\r\n    state={\r\n        newQty:1\r\n    }\r\n\r\n    render(){\r\n        const {inventory, changeQuantity, locale} = this.props;\r\n        const {quantity}=inventory;\r\n        return (\r\n            <Col>\r\n                <Panel bsStyle={requireStyle(quantity)}>\r\n                    <Panel.Heading><b>{locale.inventory.changeQuantity}:</b></Panel.Heading>\r\n                        <Panel.Body>\r\n                            <Row>\r\n                                <Col md={4}>{locale.inventory.currentQuantity}:</Col>\r\n                                <Col md={4}>{quantity}</Col>\r\n                                <Col md={4}>\r\n                                    <FormGroup controlId=\"formHorizontalQty\">\r\n                                        <FormControl type=\"Number\" placeholder={this.state.newQty} onChange={val=>this.setState({newQty: val.target.value})}/>\r\n                                        <Button type=\"submit\" bsStyle=\"success\" disabled={this.props.disabled} block onClick={()=>changeQuantity(this.state.newQty)}>{locale.btns.updateQty}</Button>\r\n                                    </FormGroup>\r\n                                </Col>\r\n                            </Row>\r\n                        </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        )\r\n    };\r\n};\r\n\r\nexport default AddLocale(InventoryChangeQuantity);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst SupplierDetails = (props) =>{\r\n    const {supplierName, supplierAddress, supplierPhone}=props.inventory;\r\n    const {locale} = props;\r\n    return (\r\n        <div>\r\n            <Col>\r\n                <Panel bsStyle=\"info\">\r\n                    <Panel.Heading><b>{locale.inventory.suppDetails}</b></Panel.Heading>\r\n                    <Panel.Body>\r\n                        <Row>\r\n                            <Col md={4}>{locale.inventory.suppName}:</Col>\r\n                            <Col md={8}>{supplierName}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppPhone}:</Col>\r\n                            <Col md={8}>{supplierPhone}</Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col md={4}>{locale.inventory.suppAdd}:</Col>\r\n                            <Col md={8}>{supplierAddress}</Col>\r\n                        </Row>\r\n                    </Panel.Body>\r\n                </Panel>\r\n            </Col>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddLocale(SupplierDetails);","import React from 'react';\r\nimport {\r\n    Form, FormControl, FormGroup, Col, Row,ControlLabel, Button, HelpBlock\r\n} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nimport {validateName, validatePhone} from '../validationFunctions/index';\r\n\r\n\r\nconst DEFAULT={\r\n    name:'',\r\n    type:'',\r\n    description: '',\r\n    supplierName: '',\r\n    supplierPhone:'',\r\n    supplierAddress:'',\r\n    quantity: 1,\r\n    costPrice: 1,\r\n    retailPrice: 2,\r\n\r\n    nameF:false,\r\n    typeF:false,\r\n    descF: false,\r\n    supNF: false,\r\n    supPF: false,\r\n    supAF: false\r\n};\r\n\r\nclass InventoryForm extends React.Component{ \r\n    state={\r\n        name:'',\r\n        productType:'',\r\n        description: '',\r\n        supplierName: '',\r\n        supplierPhone:'',\r\n        supplierAddress:'',\r\n        quantity: 1,\r\n        costPrice: 1,\r\n        retailPrice: 2,\r\n\r\n        nameF:false,\r\n        typeF:false,\r\n        descF: false,\r\n        supNF: false,\r\n        supPF: false,\r\n        supAF: false\r\n    }\r\n\r\n\r\n    validateLocalName=()=>{\r\n        if(this.state.nameF){\r\n            const con = validateName(this.state.name);\r\n            con&&this.setState({nameF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalType=()=>{\r\n        if(this.state.typeF){\r\n            const con = validateName(this.state.productType);\r\n            con&&this.setState({typeF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSName=()=>{\r\n        if(this.state.supNF){\r\n            const con = validateName(this.state.supplierName);\r\n            con&&this.setState({supNF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSNumber=()=>{\r\n        if(this.state.supPF){\r\n            const con = validatePhone(this.state.supplierPhone);\r\n            con&&this.setState({supPF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    validateLocalSAddress=()=>{\r\n        if(this.state.supAF){\r\n            const con = validateName(this.state.supplierAddress);\r\n            con&&this.setState({supAF:false});\r\n            return con?\"success\":\"error\";\r\n        }else{\r\n            return null;\r\n        }\r\n    }\r\n\r\n    clear=()=>this.setState({...DEFAULT});\r\n\r\n    onSubmit=(e)=>{\r\n        e.preventDefault();\r\n        const {\r\n            name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n            quantity, costPrice, retailPrice\r\n        } = this.state;\r\n\r\n        if(this.fullValidation()){\r\n            this.props.onSubmit({\r\n                name, productType, description, supplierName, supplierPhone, supplierAddress,\r\n                quantity, costPrice, retailPrice\r\n            });\r\n        } else {\r\n            alert('Fix your mistakes!');\r\n        }\r\n    }\r\n\r\n    fullValidation=()=>{\r\n        return validateName(this.state.name) &&\r\n        validateName(this.state.productType)&&\r\n        validateName(this.state.supplierName)&&\r\n        validatePhone(this.state.supplierPhone)&&\r\n        validateName(this.state.supplierAddress)?true:false;\r\n    }\r\n\r\n    render(){\r\n        const {locale} = this.props;\r\n        return(\r\n            <div style={{paddingTop:'3vh'}}>\r\n                <Form horizontal onSubmit={e=>this.onSubmit(e)}>\r\n                    <Row>\r\n                        <Col xs={4}>\r\n                        <FormGroup controlId=\"formHorizontalName\" validationState={this.validateLocalName()} onBlur={()=>this.setState({nameF:true})} onFocus={()=>this.setState({nameF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.name}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.name} value={this.state.name} onChange={val=>this.setState({name:val.target.value})}/>\r\n                                {this.state.nameF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalType\" validationState={this.validateLocalType()} onBlur={()=>this.setState({typeF:true})} onFocus={()=>this.setState({typeF:false})}>\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.type}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                            <FormControl type=\"Text\" placeholder={locale.inventory.type} value={this.state.productType} onChange={val=>this.setState({productType:val.target.value})}/>\r\n                                {this.state.typeF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        <FormGroup controlId=\"formHorizontalDescription\">\r\n                            <Col componentClass={ControlLabel} xs={4}>\r\n                                {locale.inventory.description}\r\n                            </Col>\r\n                            <Col xs={8}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.description} value={this.state.description} onChange={val=>this.setState({description:val.target.value})}/>\r\n                            </Col>\r\n                        </FormGroup>\r\n\r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSName\" validationState={this.validateLocalSName()} onBlur={()=>this.setState({supNF:true})} onFocus={()=>this.setState({supNF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppName}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.supName} value={this.state.supplierName} onChange={val=>this.setState({supplierName:val.target.value})}/>\r\n                                    {this.state.supNF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSPhone\" validationState={this.validateLocalSNumber()} onBlur={()=>this.setState({supPF:true})} onFocus={()=>this.setState({supPF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppPhone}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Number\" placeholder={locale.inventory.suppPhone} value={this.state.supplierPhone} onChange={val=>this.setState({supplierPhone:val.target.value})}/>\r\n                                    {this.state.supPF && <HelpBlock>{locale.HELP.phone}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={8}>\r\n                            <FormGroup controlId=\"formHorizontalSAddress\" validationState={this.validateLocalSAddress()} onBlur={()=>this.setState({supAF:true})} onFocus={()=>this.setState({supAF:false})}>\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.suppAdd}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                <FormControl type=\"Text\" placeholder={locale.inventory.suppAdd} value={this.state.spplierA} onChange={val=>this.setState({supplierAddress:val.target.value})}/>\r\n                                    {this.state.supAF && <HelpBlock>{locale.HELP.name}</HelpBlock>}\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                    </Row>\r\n                    <hr/>\r\n                    <Row>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalQuantity\">\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                {locale.inventory.quantity}\r\n                                </Col>\r\n                                <Col xs={6}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.quantity} value={this.state.quantity} onChange={val=>this.setState({quantity:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n                        </Col>\r\n                        <Col xs={6}>\r\n                            <FormGroup controlId=\"formHorizontalCost\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.costPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={this.state.costPrice} value={this.state.costPrice} onChange={val=>this.setState({costPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>                        \r\n \r\n                            <FormGroup controlId=\"formHorizontalRetail\" >\r\n                                <Col componentClass={ControlLabel} xs={3}>\r\n                                    {locale.inventory.retailPrice}\r\n                                </Col>\r\n                                <Col xs={4}>\r\n                                    <FormControl type=\"Number\" placeholder={locale.inventory.retailPrice} value={this.state.retailPrice} onChange={val=>this.setState({retailPrice:val.target.value})}/>\r\n                                </Col>\r\n                            </FormGroup>\r\n                            <Row>\r\n                                <Col componentClass={ControlLabel} xs={6} smPull={2}>\r\n                                    {locale.inventory.profit} {+this.state.retailPrice-+this.state.costPrice} {locale.commonInfo.rmb}\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                    </Row>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <hr/>\r\n                            <Col xsOffset={3} xs={2}>\r\n                                <Button type=\"submit\" bsStyle=\"success\" block disabled={this.props.disabled}>{locale.btns.submit}</Button>\r\n                            </Col>\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"warning\" onClick={()=>this.clear()} block disabled={this.props.disabled}>{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                </Form>            \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default AddLocale(InventoryForm);\r\n\r\n\r\n","import React from 'react';\r\nimport {Tab, Tabs, Row, Col} from 'react-bootstrap';\r\n\r\nimport BasicInventoryDetails from './BasicInventoryDetails';\r\nimport RestrictedInventoryDetails from './RestrictedInventoryDetails';\r\nimport InventoryChangeQuantity from './InventoryChangeQuantity';\r\nimport SuppliersDetails from './SuppliersDetails';\r\n\r\nimport InventoryForm from '../forms/InventoryForm';\r\nimport AddLocale from '../../locales/Context';\r\nimport Security from '../login/Security';\r\n\r\nclass InvenSubTabs extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    \r\n        this.handleSelect = this.handleSelect.bind(this);\r\n    \r\n        this.state = {\r\n          key: 0\r\n        };\r\n      }\r\n    \r\n      handleSelect(key) {\r\n        this.setState({ key });\r\n      }\r\n    \r\n      render() {\r\n        const {locale}=this.props;\r\n        return (\r\n          <Tabs\r\n            eventKey={this.state.key}\r\n            onSelect={this.handleSelect}\r\n            id=\"controlled-tab-example\"\r\n          >\r\n            <Tab eventKey={1} title={locale.inventory.inventoryDetails}>\r\n              <div style={{paddingTop:'3vh'}}>\r\n              <Row>\r\n                  <Col sm={6}>\r\n                    <BasicInventoryDetails {...this.props}/>\r\n                  </Col>\r\n\r\n                    <Col sm={6}>\r\n                      <Security level={3}>\r\n                        <SuppliersDetails {...this.props}/>\r\n                      </Security>\r\n                    </Col>\r\n\r\n                </Row>\r\n                <Row>\r\n                    <Col sm={6}>\r\n                      <Security level={2}>\r\n                        <InventoryChangeQuantity {...this.props}/>\r\n                      </Security>\r\n                    </Col>\r\n\r\n                  <Security level={2}>\r\n                    <Col sm={6}>\r\n                      <RestrictedInventoryDetails {...this.props}/>\r\n                    </Col>\r\n                  </Security>\r\n              </Row>\r\n              </div>\r\n            </Tab>\r\n            \r\n              <Tab eventKey={2} title={locale.inventory.inventoryStatistics}>\r\n            <Security level={3}>\r\n              <div>\r\n                <h2>COMING SOON!!!</h2>\r\n                <h3>graphs and details about the actual sales</h3>\r\n              </div>\r\n            </Security>\r\n              </Tab>\r\n            \r\n              <Tab eventKey={3} title={locale.inventory.newInventory}>\r\n            <Security level={3}>\r\n                {<InventoryForm {...this.props}/>}\r\n            </Security>\r\n              </Tab>\r\n          \r\n          \r\n          </Tabs>\r\n        );\r\n      }\r\n  }\r\n\r\n  export default AddLocale(InvenSubTabs);","import {FETCH_INVENTORY} from './action_types/inventory';\r\n\r\nexport const fetchAllInventory = (payload)=>({\r\n    type: FETCH_INVENTORY,\r\n    payload\r\n});","export default [\r\n    {\r\n        description: \"Coca cola: red can\",\r\n        img: \"\",\r\n        _id: \"5bbdfsadsa\",\r\n        productType: \"drink\",\r\n        name: \"Demo: Classic Cola\",\r\n        costPrice: 0.3,\r\n        retailPrice: 3,\r\n        quantity: 10000,\r\n        supplierName: \"Cola inc.\",\r\n        supplierPhone: \"2234566787567\",\r\n        supplierAddress: \"the moon, 3rd crater to the left\",\r\n    },\r\n    {\r\n        description: \"Coca cola: black can\",\r\n        img: \"\",\r\n        _id: \"5bbdf5f5df5f5f5f\",\r\n        productType: \"drink\",\r\n        name: \"Demo: Cola Zero\",\r\n        costPrice: 0.3,\r\n        retailPrice: 3,\r\n        quantity: 18,\r\n        supplierName: \"Cola inc.\",\r\n        supplierPhone: \"2234566787567\",\r\n        supplierAddress: \"the moon, 3rd crater to the left\",\r\n    },\r\n    {\r\n        description: \"Spicy corn chips\",\r\n        img: \"\",\r\n        _id: \"5bbdfsads5656565656565\",\r\n        productType: \"snack\",\r\n        name: \"Demo: Doritos\",\r\n        costPrice: 5,\r\n        retailPrice: 10,\r\n        quantity: 50,\r\n        supplierName: \"the Doritos company\",\r\n        supplierPhone: \"2234566787567\",\r\n        supplierAddress: \"Jupiter\",\r\n    },\r\n]","import {setAlert} from '../actions/notification';\r\nimport {fetchAllInventory} from '../actions/inventory';\r\nimport {startLoader, endLoader} from '../actions/spinner';\r\nimport { DANGER, SUCCESS } from '../../style/alert';\r\n\r\n\r\nimport dummyInventory from '../DemoData/inventory';\r\nexport const fetchInventory=()=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(fetchAllInventory(dummyInventory));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n        }else{\r\n            dispatch(fetchInventory_real());\r\n        }\r\n    }\r\n};\r\n\r\nexport const fetchInventory_real=()=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/inventory`,{\r\n            headers: {\r\n                'authorization': getState().auth.token\r\n            }\r\n        })\r\n        .then(response=>response.json())\r\n        .then((response)=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            }else {\r\n                const temp = response.sort((a, b)=>{\r\n                    const x = a.quantity;\r\n                    const y = b.quantity;\r\n                    return ((x > y) ? -1 : ((x < y) ? 1 : 0));\r\n                });\r\n                dispatch(fetchAllInventory(temp));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER))\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const updateInventory=(data, id)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(setAlert('DEMO_INVENTORY_UPDATED', SUCCESS));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n        }else{\r\n            dispatch(updateInventory_real(data, id));\r\n        }  \r\n    }\r\n}\r\n\r\nexport const updateInventory_real=(data, id)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/inventory`,{\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify({id, data: {...data}})\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_updated', SUCCESS));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER));\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const addInventory=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(setAlert('DEMO_INVENTORY_ADDED', SUCCESS));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n        }else{\r\n            dispatch(addInventory_real(values));\r\n        }        \r\n    }\r\n}\r\n\r\nexport const addInventory_real=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/inventory`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        })\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_added', SUCCESS));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch(err=>{dispatch(endLoader());});\r\n    }\r\n}\r\n\r\n\r\nexport const deductInventory=(values)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/inventory/decrease`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().auth.token\r\n            },\r\n            body: JSON.stringify(values)\r\n        })\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else{\r\n                dispatch(fetchInventory());\r\n                dispatch(setAlert('inventory_added', SUCCESS));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch(err=>{dispatch(endLoader());});\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Col, Row} from 'react-bootstrap';\r\n\r\nimport InvenSubTabs from '../presentational/InvenSubTabs';\r\nimport StaffItem from '../presentational/StaffItem';\r\n\r\nimport {updateInventory, addInventory, fetchInventory} from '../../store/helpers/inventoryFetchers';\r\n\r\nclass InventoryContainer extends React.Component{ \r\n    state={\r\n        allInven:[],\r\n        selectedInven: ''\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.inventory !== prevState.allInven){\r\n            const x = nextProps.inventory.length;\r\n            return {\r\n                allInven: nextProps.inventory,\r\n                selectedInven: x>0?nextProps.inventory[0]:''\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n    getInventory=(id)=>{\r\n        const inven = this.state.allInven.filter(temp=>temp._id===id);\r\n        this.setState({selectedInven:inven[0]});\r\n    }\r\n\r\n    isSelected=(id)=>{\r\n        if(this.state.selectedInven==null){\r\n            return false;\r\n        }else if(id===this.state.selectedInven._id){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onSubmit=(values)=>{\r\n        this.props.addInventory(values);\r\n    }\r\n\r\n    onUpdate=(newInfo)=>{\r\n        alert(`Inventory ${this.state.selectedInven.name} level will be updated to ${newInfo}`)\r\n    }\r\n\r\n    onDelete=()=>{\r\n        alert(`Will delete ${this.state.selectedInven.name}`)\r\n    }\r\n\r\n    changePrice=(newPrice)=>{\r\n        this.update({retailPrice: newPrice});\r\n    }\r\n\r\n    changeQuantity=(quantity)=>{\r\n        this.update({quantity});\r\n    }\r\n\r\n    update=(data)=>{\r\n        this.props.updateInventory(data, this.state.selectedInven._id);\r\n    }\r\n\r\n\r\n    render(){\r\n        const {allInven} = this.state;\r\n        return(\r\n            <div style={{paddingTop:'3vh'}}>\r\n            <Row>\r\n                <Col sm={2}>\r\n                    {allInven.length>0&&allInven.map(item=><StaffItem name={item.name} getStaff={this.getInventory} id={item._id} key={item._id} iselected={this.isSelected(item._id)}/>)}\r\n                </Col>\r\n                <Col sm={10}>\r\n                    <InvenSubTabs disabled={this.props.isLoading} inventory={this.state.selectedInven} changeQuantity={this.changeQuantity} changePrice={this.changePrice} onDelete={this.onDelete} onSubmit={this.onSubmit} onUpdate={this.onUpdate}/>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n);\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    name: state.auth.staff.name,\r\n    inventory: state.inventory,\r\n    isLoading: state.spinner.isLoading\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    updateInventory: (data, id)=>dispatch(updateInventory(data, id)), \r\n    addInventory: (data)=>dispatch(addInventory(data)),\r\n    fetchInventory: ()=>dispatch(fetchInventory())\r\n})\r\n\r\n// export default StaffContainer;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InventoryContainer);","import React from 'react';\r\nimport {Panel, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n// FIXME: \r\n// need seperate component for the product \r\n// must be able to select the quantity via an increment and decrement button\r\n// show the current quantity on screen, limit the number to this quantity\r\n\r\n//only use this component for the customers\r\n\r\nconst CustomerItem = ({title, phone, wechat, id, setCustomer, selected, locale}) =>(\r\n    <div onClick={(value)=>setCustomer(id)}>\r\n        <Col md={4}>\r\n            <Panel bsStyle={selected?\"success\":\"info\"}>\r\n                <Panel.Heading><b>{title}</b></Panel.Heading>\r\n                <Panel.Body>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.phone}</Col>\r\n                        <Col md={1}>{phone}</Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col md={5}>{locale.customer.wechat}</Col>\r\n                        <Col md={1}>{wechat}</Col>                            \r\n                    </Row>\r\n                </Panel.Body>\r\n            </Panel>\r\n        </Col>\r\n    </div>\r\n);\r\n\r\nexport default AddLocale(CustomerItem);","import React from 'react';\r\nimport CustomerItem from './CustomerItem';\r\n\r\n\r\n//TODO: fix the layout so it is in rows and each panel has been restrcted\r\n\r\nexport default ({list, setCustomer, selected, locale})=>(\r\n    <div>\r\n        {list.map(item=><CustomerItem \r\n            title={item.name} \r\n            phone={item.phone} \r\n            wechat={item.wechat} \r\n            key={item._id} \r\n            id={item._id} \r\n            setCustomer={setCustomer} \r\n            selected={selected._id===item._id?true:false}\r\n        />)}\r\n    </div>\r\n);\r\n\r\n\r\n//TODO: sort the inventory by quantity\r\n","import React from 'react';\r\nimport {Panel, FormControl, FormGroup, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\n\r\nclass InventoryItem extends React.Component{ \r\n\r\n    state= {\r\n        cost: this.props.price,\r\n        quantity:this.props.quantity,\r\n        requiredQuantity: 0,\r\n    };\r\n\r\n    increment=()=>{\r\n        const newReq = this.state.requiredQuantity+1;\r\n        const newQuantity = this.state.quantity-1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    decrement=()=>{\r\n        const newReq = this.state.requiredQuantity-1;\r\n        const newQuantity = this.state.quantity+1\r\n\r\n        this.setState({\r\n            requiredQuantity: newReq,\r\n            total:parseFloat(this.props.price)*parseFloat(newReq),\r\n            quantity: newQuantity\r\n        }, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        });\r\n    };\r\n\r\n    changePrice=(e)=>{\r\n        const newPrice = e.target.value;\r\n        this.setState({cost:newPrice}, ()=>{\r\n            this.props.selectItem(this.props.id, this.state.requiredQuantity, this.state.cost, this.props.title);\r\n        })\r\n    }\r\n    \r\n    requireStyle=()=>{\r\n        const {quantity}=this.props;\r\n        if(quantity===0){\r\n            return \"danger\"\r\n        } else if(quantity < 10){\r\n            return \"warning\"\r\n        } else {\r\n            return \"success\";\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const {title, description, price, quantity, locale} = this.props;\r\n        return(\r\n            <div>\r\n                <Col md={6}>\r\n                <Panel bsStyle={this.requireStyle()}>\r\n                    <Panel.Heading>{title}</Panel.Heading>\r\n                    <Panel.Body>\r\n                        {description}<br/><br/>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ppUnit}:</b></Col>{price}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.qtyAvail}:</b></Col> {this.state.quantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.required}:</b></Col> {this.state.requiredQuantity}</Row>\r\n                        <Row><Col xs={8}><b>{locale.purchase.ttlPrice}:</b></Col> {this.state.cost*this.state.requiredQuantity} {locale.commonInfo.rmb}</Row>\r\n                        <Row>{\r\n                            quantity>0&&\r\n                            <div>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity<quantity&&<Button bsStyle=\"info\" onClick={this.increment}>+</Button>}\r\n                                </Col>\r\n                                <Col xs={1} md={2}>\r\n                                    {this.state.requiredQuantity>0&&<Button bsStyle=\"warning\" onClick={this.decrement}>-</Button>}\r\n                                </Col>\r\n                            </div>\r\n                        }</Row>\r\n                        {quantity>0&&<FormGroup controlId=\"formHorizontalName\">\r\n                            <FormControl type=\"Number\" placeholder={this.state.cost} onChange={this.changePrice}/>\r\n                        </FormGroup>\r\n                        }\r\n                        \r\n                    </Panel.Body>\r\n                </Panel>\r\n                </Col>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AddLocale(InventoryItem);","import React from 'react';\r\nimport {Table} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst InventoryTable = ({compiledList, locale})=>{\r\n    let total=0;\r\n\r\n    return(\r\n        <div>\r\n            <Table striped bordered condensed hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>{locale.purchase.item}</th>\r\n                        <th>{locale.purchase.qtyS}</th>\r\n                        <th>{locale.purchase.price}</th>\r\n                        <th>{locale.purchase.ttlPrice}</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        compiledList.map((item, val)=>{\r\n                            total = total+(item.quantity*item.price);\r\n    \r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                    <tr>\r\n                        <td colSpan={3}><b>{locale.purchase.total}</b></td>\r\n                        <td colSpan={2}>{`${total} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(InventoryTable);","import React from 'react';\r\nimport InventoryItem from './InventoryItem';\r\nimport InventoryTable from './InventoryTable';\r\n\r\nimport {Col, Grid} from 'react-bootstrap';\r\n\r\nexport default ({list, selectItem, compiledList})=>(\r\n    <Grid>\r\n        <Col md={8}>\r\n        {list.map(item=><InventoryItem \r\n            key={item._id}\r\n            title={item.name} \r\n            description={item.description} \r\n            price={item.retailPrice}\r\n            quantity={item.quantity}\r\n            id={item._id}\r\n            selectItem={selectItem}\r\n        />)}\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n            <InventoryTable compiledList={compiledList}/>\r\n        </Col>\r\n    </Grid>\r\n);","import React from 'react';\r\nimport {Table, Button, Col, Row} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst CheckPurchasePrice = ({customer, staff, selectedItems, confirmOrder, cancel, locale, disabled})=>{\r\n    let totalCost=0;\r\n    let totalItems=0;\r\n\r\n    return(\r\n        <div>\r\n            <Row>\r\n                <Col xs={8} xsOffset={2}>\r\n            <Table bordered condensed hover>\r\n\r\n                <tbody>\r\n                    <tr>\r\n                        <td><b>{locale.customer.name}</b></td>\r\n                        <td>{customer.name}</td>\r\n                        <td><b>{locale.staff.name}</b></td>\r\n                        <td>{staff.name}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.phone}</b></td>\r\n                        <td>{customer.phone}</td>\r\n                        <td><b>{locale.commonInfo.date}</b></td>\r\n                        <td>12-09-2018</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><b>{locale.customer.wechat}</b></td>\r\n                        <td>{customer.wechat}</td>\r\n                        <td><b>{locale.commonInfo.time}</b></td>\r\n                        <td>12:52</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                    <td>#</td>\r\n                        <td>{locale.purchase.item}</td>\r\n                        <td>{locale.purchase.qtyS}</td>\r\n                        <td>{locale.purchase.price}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        selectedItems.map((item, val)=>{\r\n                            totalCost = totalCost+(item.quantity*item.price);\r\n                            totalItems = totalItems+item.quantity;\r\n                            return (\r\n                                <tr key={val}>\r\n                                    <td>{val+1}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.quantity}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.quantity*item.price}</td>\r\n                                </tr>\r\n                        )})\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n\r\n            <Table bordered>\r\n                <thead>\r\n                    <tr>\r\n                        <td>{locale.purchase.qtyQuan}</td>\r\n                        <td>{locale.purchase.total}</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{totalItems}</td>\r\n                        <td>{`${totalCost} ${locale.commonInfo.rmb}`}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </Table>\r\n            <Col md={2} smOffset={3}>\r\n                <Button bsStyle=\"success\" block onClick={()=>confirmOrder()} disabled={disabled}>{locale.btns.confirm}</Button>\r\n            </Col>\r\n            <Col md={2} smOffset={2}>\r\n                <Button bsStyle=\"danger\" block onClick={()=>cancel()}>{locale.btns.cancel}</Button>\r\n            </Col>\r\n            </Col>\r\n            </Row>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddLocale(CheckPurchasePrice);","import React from 'react';\r\nimport {Panel, Button, Row, Col} from 'react-bootstrap';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst TEMP=false;\r\n\r\nconst CompletedOrder = ({locale, completed, refNo})=>(\r\n    <div>\r\n          <Panel bsStyle=\"success\">\r\n            <Panel.Heading>\r\n            <Panel.Title componentClass=\"h2\">{locale.purchase.success}</Panel.Title>\r\n            </Panel.Heading>\r\n            <Panel.Body>{locale.purchase.purMsg}</Panel.Body>\r\n            <Panel.Body>{locale.purchase.purRefNo} {refNo}</Panel.Body>\r\n            \r\n            <Row>\r\n                <Col md={2} smOffset={3}>\r\n                    {TEMP&&<Button bsStyle=\"success\" block>{locale.btns.emailInvoice}</Button>}\r\n                </Col>\r\n                <Col md={2} smOffset={2}>\r\n                    {TEMP&&<Button bsStyle=\"warning\" block>{locale.btns.printInvoice}</Button>}<br/>\r\n                </Col>\r\n            </Row>\r\n            <Button block bsStyle=\"success\" onClick={completed}>{locale.btns.continue}</Button>\r\n        </Panel>\r\n    </div>\r\n)\r\n\r\nexport default AddLocale(CompletedOrder);","import {setAlert} from '../actions/notification';\r\nimport {DANGER, SUCCESS} from '../../style/alert';\r\nimport {completedPurchase} from '../actions/purchases';\r\nimport {startLoader, endLoader} from '../actions/spinner';\r\nimport {deductInventory, fetchInventory} from './inventoryFetchers';\r\nimport {updateCustomerTTL} from './customerFetchers';\r\n\r\n\r\nexport const createPurchases_real=({inven, customer, refNo})=>{\r\n    return (dispatch)=>{\r\n        dispatch(makePurchase(inven, customer, refNo));\r\n        let ttl=0;\r\n        inven.forEach((item)=>{\r\n            dispatch(deductInventory({id:item._id, data: item.quantity}));\r\n            ttl+=(item.quantity*item.price)\r\n        });\r\n\r\n        dispatch(updateCustomerTTL({id:customer._id, data: ttl}));\r\n        dispatch(fetchInventory());\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const createPurchases=(data)=>{\r\n    return (dispatch, getState)=>{\r\n        if(getState().auth.staff.name==='Dummy Account'){\r\n            dispatch(startLoader());\r\n\r\n            setTimeout(()=>{\r\n                dispatch(completedPurchase());\r\n                dispatch(setAlert('DEMO_INVENTORY_PURCHASE', SUCCESS));\r\n                dispatch(endLoader());\r\n            }, 3000);\r\n\r\n\r\n        } else {\r\n            dispatch(createPurchases_real(data));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst makePurchase=(inven, customer, refNo)=>{\r\n    return (dispatch, getState)=>{\r\n        dispatch(startLoader());\r\n        return fetch(`/purchases`,{\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'authorization': getState().staff.token,\r\n            },\r\n            body: JSON.stringify({\r\n                inven,\r\n                customer,\r\n                refNo,\r\n                __staff: getState().auth.staff._id,\r\n            })\r\n        }\r\n        )\r\n        .then(res=>res.json())\r\n        .then(response=>{\r\n            if(response.err){\r\n                if(response.err.errmsg){\r\n                    dispatch(setAlert(response.err.errmsg, DANGER));\r\n                } else{\r\n                    dispatch(setAlert(response.err, DANGER));\r\n                }\r\n                dispatch(endLoader());\r\n            } else {\r\n                dispatch(completedPurchase());\r\n                dispatch(setAlert('purchase_placed', SUCCESS));\r\n            }\r\n        })\r\n        .then(()=>{dispatch(endLoader());})\r\n        .catch((err)=>{\r\n            dispatch(endLoader());\r\n            dispatch(setAlert(err.errmsg, DANGER));\r\n        });\r\n    }\r\n}","import {COMPLETED, RESET} from './action_types/purchases';\r\n\r\nexport const completedPurchase=()=>({\r\n    type: COMPLETED\r\n})\r\n\r\nexport const resetPurchase=()=>({\r\n    type: RESET\r\n})","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport uuid from 'uuid';\r\nimport {ProgressBar, Button, Col, Row, Grid} from 'react-bootstrap';\r\nimport CustomerList from '../presentational/CustomerList';\r\nimport InventoryList from '../presentational/InventoryList';\r\nimport CheckPurchasePrice from '../presentational/CheckPurchasePrice';\r\nimport CompleteOrder from '../presentational/CompletedOrder';\r\n\r\nimport {fetchCustomers} from '../../store/helpers/customerFetchers';\r\nimport {fetchInventory} from '../../store/helpers/inventoryFetchers';\r\nimport {createPurchases} from '../../store/helpers/purchaseFetchers';\r\nimport {resetPurchase} from '../../store/actions/purchases';\r\nimport AddLocale from '../../locales/Context';\r\n\r\nconst DEFAULTS= {\r\n    stage: 0,\r\n    percent:25,\r\n    customer: '',\r\n    selectedItems:[]\r\n};\r\n\r\n\r\nclass PurchaseContainer extends React.Component{ \r\n    state={\r\n        allCust:[],\r\n        allInven:[],\r\n\r\n\r\n        stage: 0,\r\n        percent:0,\r\n        customer: '',\r\n        selectedItems:[],\r\n        refNo:'',\r\n        completed: false\r\n    }\r\n\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps !== prevState){\r\n            if(nextProps.isComplete.completed === true){\r\n                return{\r\n                    allInven: nextProps.inventory,\r\n                    allCust: nextProps.customers,\r\n                    stage: 3,\r\n                    percent: 100       \r\n                }\r\n            } else {\r\n                return {\r\n                    allInven: nextProps.inventory,\r\n                    allCust: nextProps.customers,\r\n                    stage: nextProps.message==='purchase_placed'?3:prevState.stage,\r\n                    percent: nextProps.message==='purchase_placed'?100:prevState.percent\r\n                }\r\n            }\r\n        }\r\n        return prevState;\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.fetchCustomers();\r\n        this.props.fetchInventory();\r\n    }\r\n\r\n\r\n    /**increases the stage: advances to the next stage*/\r\n    increment=()=>this.setState((temp)=>({\r\n        stage: temp.stage+1,\r\n        percent:temp.percent+33,\r\n    }));\r\n\r\n    /**decreases the stage: advances to the next stage*/\r\n    decrement=()=>this.setState((temp)=>({\r\n        stage: temp.stage-1,\r\n        percent:temp.percent-25,\r\n    }));\r\n\r\n    /**Resets the state */\r\n    reset=()=>{\r\n        this.props.resetPurchase();\r\n        this.setState({\r\n        ...DEFAULTS\r\n        });\r\n    }\r\n\r\n    setCustomer=(id)=>{\r\n        const cust = this.state.allCust.filter(temp=>temp._id===id);\r\n        this.setState({\r\n            customer: cust[0]\r\n        });\r\n    }\r\n\r\n    selectItem=(id, quantity, price, name)=>{\r\n        let tempArray = this.state.selectedItems;\r\n\r\n        if(tempArray.find(x=>x._id===id)){\r\n            const finalArray = tempArray.map(x=>{\r\n                if(x._id===id){\r\n                    return{\r\n                        ...x,\r\n                        quantity: parseInt(quantity),\r\n                        price: parseFloat(price)\r\n                    };\r\n                }else{\r\n                    return x;\r\n                }\r\n            })\r\n            this.setState({selectedItems:finalArray.filter(q=>q.quantity>0)});\r\n        } else{\r\n            if(quantity>0){\r\n                tempArray.push({_id:id, quantity: parseInt(quantity), price: parseFloat(price), name});\r\n                this.setState({selectedItems:tempArray});\r\n            }\r\n        }\r\n    }\r\n\r\n    disableNext=()=>{\r\n        if(this.state.customer===''&&this.state.stage===0){\r\n            return true;\r\n        } else if(this.state.selectedItems.length===0 && this.state.stage===1){\r\n            return true;\r\n        } else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    confirmOrder=()=>{\r\n        const {customer} = this.state;\r\n        const s = this.state.selectedItems;\r\n        const refNo=uuid();\r\n        this.setState({refNo});\r\n\r\n        this.props.createPurchases({inven:s, customer, staff:this.props.staff, refNo});\r\n    }\r\n\r\n    render(){\r\n        const {locale, isLoading}=this.props;\r\n        return(\r\n        <Grid>\r\n            <h3>{locale.purchase.STAGES[this.state.stage]}</h3>\r\n            <div style={{paddingTop:'1vh', paddingBottom:'3vh'}}><ProgressBar active now={this.state.percent} label={locale.purchase.STAGES[this.state.stage]} /></div>\r\n            {\r\n                this.state.stage!==3&&\r\n                <div style={{paddingBottom:'3vh'}}>\r\n                    <Row>\r\n                        <Col xs={2}>\r\n                            <Button bsStyle=\"warning\" onClick={this.decrement} block disabled={this.state.stage>0?false:true}>{locale.btns.back}</Button>\r\n                        </Col>\r\n                        {this.state.stage<2&&\r\n                            <Col xs={2}>\r\n                                <Button bsStyle=\"primary\" onClick={this.increment} block disabled={this.disableNext()}>{locale.btns.next}</Button>\r\n                            </Col>\r\n                        }\r\n\r\n                        {this.state.stage<2&&\r\n                            <Col xs={1} smOffset={6}>\r\n                                <Button bsStyle=\"danger\"  onClick={this.reset} small=\"true\">{locale.btns.clear}</Button>\r\n                            </Col>\r\n                        }\r\n                    </Row>\r\n                </div>\r\n            }\r\n            {this.state.stage===0&& <div>{<CustomerList list={this.state.allCust} setCustomer={this.setCustomer} selected={this.state.customer}/>}</div>}\r\n            {this.state.stage===1&& <div>{<InventoryList list={this.state.allInven} selectItem={this.selectItem} compiledList={this.state.selectedItems}/>}</div>}\r\n            {this.state.stage===2&& <div><CheckPurchasePrice disabled={isLoading} cancel={this.reset} confirmOrder={this.confirmOrder} selectedItems={this.state.selectedItems} customer={this.state.customer} staff={this.props.staff}/></div>}\r\n            {this.state.stage===3&& <div><CompleteOrder completed={this.reset} refNo={this.state.refNo}/></div>}\r\n\r\n        </Grid>\r\n);\r\n}\r\n\r\n}\r\n\r\nconst mapStateToProps=(state)=>({\r\n    staff: state.auth.staff,\r\n    inventory: state.inventory,\r\n    customers: state.customers,\r\n    isComplete: state.isComplete,\r\n    isLoading: state.spinner.isLoading\r\n});\r\n\r\nconst mapDispatchToProps=(dispatch)=>({\r\n    fetchCustomers: ()=>dispatch(fetchCustomers()),\r\n    fetchInventory:()=>dispatch(fetchInventory()),\r\n    createPurchases: (data, customer, staff, refNo)=>dispatch(createPurchases(data, customer, staff, refNo)),\r\n    resetPurchase: ()=>dispatch(resetPurchase())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddLocale(PurchaseContainer));","import React from 'react';\r\nimport {Route, Switch, Router} from 'react-router-dom';\r\nimport history from './components/history';\r\n\r\nimport AuthRoute from './components/login/AuthRoute';\r\nimport NavBarContainer from './components/container/NavBarContainer';\r\nimport TabNavigation from './components/TabNavigation';\r\nimport Login from './components/login/Login';\r\nimport IsAuth from './components/login/IsAuth';\r\nimport Dashboard from './components/Dashboard';\r\nimport AlertBar from './components/container/AlertBar';\r\nimport Spinner from './components/presentational/Spinner';\r\n\r\nimport {StaffContainer, CustomerContainer, InventoryContainer, PurchaseContainer} from './components/container';\r\n\r\n\r\nclass App extends React.Component{ \r\n\r\n    render(){\r\n        return(\r\n        <Router  history={history}>\r\n            <div>\r\n                <NavBarContainer />\r\n            <div className=\"container\">\r\n                <AlertBar />\r\n                <Spinner />\r\n                <IsAuth><TabNavigation /></IsAuth>\r\n                \r\n                <Switch>\r\n                    <AuthRoute path=\"/purchase\" exact={true} Component={PurchaseContainer} level={-1}/>\r\n                    <AuthRoute path=\"/staff\" exact={true} Component={StaffContainer} level={3}/>\r\n                    <AuthRoute path=\"/customer\" exact={true} Component={CustomerContainer} level={-1}/>\r\n                    <AuthRoute path=\"/inventory\" exact={true} Component={InventoryContainer} level={-1}/>\r\n                    <AuthRoute path=\"/dashboard\" exact={true} Component={Dashboard} level={-1}/>\r\n                    <Route path=\"/\" exact={true} component={Login}/>\r\n                </Switch>\r\n            </div>\r\n            </div>\r\n        </Router>\r\n);   }\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport configureStore from './store/store';\r\n\r\n\r\nimport App from './App';\r\n\r\nconst store = configureStore();\r\nconst anchor = document.getElementById(\"root\");\r\n\r\nconst jsx = (\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>\r\n);\r\n\r\nReactDOM.render(jsx, anchor);"],"sourceRoot":""}